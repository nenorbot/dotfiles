const _n=function(){const ot=document.createElement("link").relList;if(ot&&ot.supports&&ot.supports("modulepreload"))return;for(const W of document.querySelectorAll('link[rel="modulepreload"]'))Rt(W);new MutationObserver(W=>{for(const wt of W)if(wt.type==="childList")for(const D of wt.addedNodes)D.tagName==="LINK"&&D.rel==="modulepreload"&&Rt(D)}).observe(document,{childList:!0,subtree:!0});function te(W){const wt={};return W.integrity&&(wt.integrity=W.integrity),W.referrerpolicy&&(wt.referrerPolicy=W.referrerpolicy),W.crossorigin==="use-credentials"?wt.credentials="include":W.crossorigin==="anonymous"?wt.credentials="omit":wt.credentials="same-origin",wt}function Rt(W){if(W.ep)return;W.ep=!0;const wt=te(W);fetch(W.href,wt)}};_n();var sn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yn={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */(function(X,ot){(function(te,Rt){X.exports=Rt()})(self,function(){return(()=>{var te={227:(D,u,x)=>{var j=x(155);u.formatArgs=function(F){if(F[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+F[0]+(this.useColors?"%c ":" ")+"+"+D.exports.humanize(this.diff),!this.useColors)return;const L="color: "+this.color;F.splice(1,0,L,"color: inherit");let d=0,l=0;F[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(d++,m==="%c"&&(l=d))}),F.splice(l,0,L)},u.save=function(F){try{F?u.storage.setItem("debug",F):u.storage.removeItem("debug")}catch{}},u.load=function(){let F;try{F=u.storage.getItem("debug")}catch{}return!F&&j!==void 0&&"env"in j&&(F=j.env.DEBUG),F},u.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer"&&!window.process.__nwjs)||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},u.storage=function(){try{return localStorage}catch{}}(),u.destroy=(()=>{let F=!1;return()=>{F||(F=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),u.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],u.log=console.debug||console.log||(()=>{}),D.exports=x(447)(u);const{formatters:_}=D.exports;_.j=function(F){try{return JSON.stringify(F)}catch(L){return"[UnexpectedJSONParseError]: "+L.message}}},447:(D,u,x)=>{D.exports=function(j){function _(d){let l,m=null;function h(...I){if(!h.enabled)return;const z=h,U=Number(new Date),B=U-(l||U);z.diff=B,z.prev=l,z.curr=U,l=U,I[0]=_.coerce(I[0]),typeof I[0]!="string"&&I.unshift("%O");let w=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,(k,i)=>{if(k==="%%")return"%";w++;const s=_.formatters[i];if(typeof s=="function"){const f=I[w];k=s.call(z,f),I.splice(w,1),w--}return k}),_.formatArgs.call(z,I),(z.log||_.log).apply(z,I)}return h.namespace=d,h.useColors=_.useColors(),h.color=_.selectColor(d),h.extend=F,h.destroy=_.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>m===null?_.enabled(d):m,set:I=>{m=I}}),typeof _.init=="function"&&_.init(h),h}function F(d,l){const m=_(this.namespace+(l===void 0?":":l)+d);return m.log=this.log,m}function L(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}return _.debug=_,_.default=_,_.coerce=function(d){return d instanceof Error?d.stack||d.message:d},_.disable=function(){const d=[..._.names.map(L),..._.skips.map(L).map(l=>"-"+l)].join(",");return _.enable(""),d},_.enable=function(d){let l;_.save(d),_.names=[],_.skips=[];const m=(typeof d=="string"?d:"").split(/[\s,]+/),h=m.length;for(l=0;l<h;l++)m[l]&&((d=m[l].replace(/\*/g,".*?"))[0]==="-"?_.skips.push(new RegExp("^"+d.substr(1)+"$")):_.names.push(new RegExp("^"+d+"$")))},_.enabled=function(d){if(d[d.length-1]==="*")return!0;let l,m;for(l=0,m=_.skips.length;l<m;l++)if(_.skips[l].test(d))return!1;for(l=0,m=_.names.length;l<m;l++)if(_.names[l].test(d))return!0;return!1},_.humanize=x(824),_.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(j).forEach(d=>{_[d]=j[d]}),_.names=[],_.skips=[],_.formatters={},_.selectColor=function(d){let l=0;for(let m=0;m<d.length;m++)l=(l<<5)-l+d.charCodeAt(m),l|=0;return _.colors[Math.abs(l)%_.colors.length]},_.enable(_.load()),_}},856:function(D){D.exports=function(){var u=Object.hasOwnProperty,x=Object.setPrototypeOf,j=Object.isFrozen,_=Object.getPrototypeOf,F=Object.getOwnPropertyDescriptor,L=Object.freeze,d=Object.seal,l=Object.create,m=typeof Reflect<"u"&&Reflect,h=m.apply,I=m.construct;h||(h=function(P,N,O){return P.apply(N,O)}),L||(L=function(P){return P}),d||(d=function(P){return P}),I||(I=function(P,N){return new(Function.prototype.bind.apply(P,[null].concat(function(O){if(Array.isArray(O)){for(var tt=0,et=Array(O.length);tt<O.length;tt++)et[tt]=O[tt];return et}return Array.from(O)}(N))))});var z,U=q(Array.prototype.forEach),B=q(Array.prototype.pop),w=q(Array.prototype.push),k=q(String.prototype.toLowerCase),i=q(String.prototype.match),s=q(String.prototype.replace),f=q(String.prototype.indexOf),C=q(String.prototype.trim),H=q(RegExp.prototype.test),Z=(z=TypeError,function(){for(var P=arguments.length,N=Array(P),O=0;O<P;O++)N[O]=arguments[O];return I(z,N)});function q(P){return function(N){for(var O=arguments.length,tt=Array(O>1?O-1:0),et=1;et<O;et++)tt[et-1]=arguments[et];return h(P,N,tt)}}function M(P,N){x&&x(P,null);for(var O=N.length;O--;){var tt=N[O];if(typeof tt=="string"){var et=k(tt);et!==tt&&(j(N)||(N[O]=et),tt=et)}P[tt]=!0}return P}function at(P){var N=l(null),O=void 0;for(O in P)h(u,P,[O])&&(N[O]=P[O]);return N}function pt(P,N){for(;P!==null;){var O=F(P,N);if(O){if(O.get)return q(O.get);if(typeof O.value=="function")return q(O.value)}P=_(P)}return function(tt){return console.warn("fallback value for",tt),null}}var It=L(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ht=L(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),c=L(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),v=L(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),E=L(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Q=L(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),yt=L(["#text"]),ct=L(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),J=L(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),it=L(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),lt=L(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ft=d(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Bt=d(/<%[\s\S]*|[\s\S]*%>/gm),Ct=d(/^data-[\-\w.\u00B7-\uFFFF]/),ut=d(/^aria-[\-\w]+$/),K=d(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),vt=d(/^(?:\w+script|data):/i),At=d(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P};function gt(P){if(Array.isArray(P)){for(var N=0,O=Array(P.length);N<P.length;N++)O[N]=P[N];return O}return Array.from(P)}var Dt=function(){return typeof window>"u"?null:window},se=function(P,N){if((P===void 0?"undefined":Ot(P))!=="object"||typeof P.createPolicy!="function")return null;var O=null,tt="data-tt-policy-suffix";N.currentScript&&N.currentScript.hasAttribute(tt)&&(O=N.currentScript.getAttribute(tt));var et="dompurify"+(O?"#"+O:"");try{return P.createPolicy(et,{createHTML:function(qt){return qt}})}catch{return console.warn("TrustedTypes policy "+et+" could not be created."),null}};return function P(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dt(),O=function(r){return P(r)};if(O.version="2.3.1",O.removed=[],!N||!N.document||N.document.nodeType!==9)return O.isSupported=!1,O;var tt=N.document,et=N.document,qt=N.DocumentFragment,Ne=N.HTMLTemplateElement,ee=N.Node,Pe=N.Element,ae=N.NodeFilter,Wt=N.NamedNodeMap,Re=Wt===void 0?N.NamedNodeMap||N.MozNamedAttrMap:Wt,De=N.Text,an=N.Comment,cn=N.DOMParser,xe=N.trustedTypes,Gt=Pe.prototype,Ue=pt(Gt,"cloneNode"),Ce=pt(Gt,"nextSibling"),ze=pt(Gt,"childNodes"),ce=pt(Gt,"parentNode");if(typeof Ne=="function"){var le=et.createElement("template");le.content&&le.content.ownerDocument&&(et=le.content.ownerDocument)}var jt=se(xe,tt),$e=jt&&Kt?jt.createHTML(""):"",ue=et,pe=ue.implementation,ln=ue.createNodeIterator,un=ue.createDocumentFragment,Y=ue.getElementsByTagName,He=tt.importNode,Jt={};try{Jt=at(et).documentMode?et.documentMode:{}}catch{}var xt={};O.isSupported=typeof ce=="function"&&pe&&pe.createHTMLDocument!==void 0&&Jt!==9;var fe=ft,de=Bt,Be=Ct,Se=ut,pn=vt,qe=At,Oe=K,dt=null,We=M({},[].concat(gt(It),gt(Ht),gt(c),gt(E),gt(yt))),mt=null,Ge=M({},[].concat(gt(ct),gt(J),gt(it),gt(lt))),Ae=null,he=null,Je=!0,je=!0,Ze=!1,Ut=!1,Zt=!1,ge=!1,Te=!1,Vt=!1,me=!1,Ve=!0,Kt=!1,ye=!0,ke=!0,ne=!1,Yt={},zt=null,Ee=M({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),re=null,Ke=M({},["audio","video","img","source","image","track"]),oe=null,Ye=M({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ve="http://www.w3.org/1998/Math/MathML",Tt="http://www.w3.org/2000/svg",Mt="http://www.w3.org/1999/xhtml",be=Mt,_e=!1,Xt=null,fn=et.createElement("form"),Fe=function(r){Xt&&Xt===r||(r&&(r===void 0?"undefined":Ot(r))==="object"||(r={}),r=at(r),dt="ALLOWED_TAGS"in r?M({},r.ALLOWED_TAGS):We,mt="ALLOWED_ATTR"in r?M({},r.ALLOWED_ATTR):Ge,oe="ADD_URI_SAFE_ATTR"in r?M(at(Ye),r.ADD_URI_SAFE_ATTR):Ye,re="ADD_DATA_URI_TAGS"in r?M(at(Ke),r.ADD_DATA_URI_TAGS):Ke,zt="FORBID_CONTENTS"in r?M({},r.FORBID_CONTENTS):Ee,Ae="FORBID_TAGS"in r?M({},r.FORBID_TAGS):{},he="FORBID_ATTR"in r?M({},r.FORBID_ATTR):{},Yt="USE_PROFILES"in r&&r.USE_PROFILES,Je=r.ALLOW_ARIA_ATTR!==!1,je=r.ALLOW_DATA_ATTR!==!1,Ze=r.ALLOW_UNKNOWN_PROTOCOLS||!1,Ut=r.SAFE_FOR_TEMPLATES||!1,Zt=r.WHOLE_DOCUMENT||!1,Vt=r.RETURN_DOM||!1,me=r.RETURN_DOM_FRAGMENT||!1,Ve=r.RETURN_DOM_IMPORT!==!1,Kt=r.RETURN_TRUSTED_TYPE||!1,Te=r.FORCE_BODY||!1,ye=r.SANITIZE_DOM!==!1,ke=r.KEEP_CONTENT!==!1,ne=r.IN_PLACE||!1,Oe=r.ALLOWED_URI_REGEXP||Oe,be=r.NAMESPACE||Mt,Ut&&(je=!1),me&&(Vt=!0),Yt&&(dt=M({},[].concat(gt(yt))),mt=[],Yt.html===!0&&(M(dt,It),M(mt,ct)),Yt.svg===!0&&(M(dt,Ht),M(mt,J),M(mt,lt)),Yt.svgFilters===!0&&(M(dt,c),M(mt,J),M(mt,lt)),Yt.mathMl===!0&&(M(dt,E),M(mt,it),M(mt,lt))),r.ADD_TAGS&&(dt===We&&(dt=at(dt)),M(dt,r.ADD_TAGS)),r.ADD_ATTR&&(mt===Ge&&(mt=at(mt)),M(mt,r.ADD_ATTR)),r.ADD_URI_SAFE_ATTR&&M(oe,r.ADD_URI_SAFE_ATTR),r.FORBID_CONTENTS&&(zt===Ee&&(zt=at(zt)),M(zt,r.FORBID_CONTENTS)),ke&&(dt["#text"]=!0),Zt&&M(dt,["html","head","body"]),dt.table&&(M(dt,["tbody"]),delete Ae.tbody),L&&L(r),Xt=r)},Xe=M({},["mi","mo","mn","ms","mtext"]),Qe=M({},["foreignobject","desc","title","annotation-xml"]),Qt=M({},Ht);M(Qt,c),M(Qt,v);var Le=M({},E);M(Le,Q);var dn=function(r){var S=ce(r);S&&S.tagName||(S={namespaceURI:Mt,tagName:"template"});var b=k(r.tagName),V=k(S.tagName);if(r.namespaceURI===Tt)return S.namespaceURI===Mt?b==="svg":S.namespaceURI===ve?b==="svg"&&(V==="annotation-xml"||Xe[V]):Boolean(Qt[b]);if(r.namespaceURI===ve)return S.namespaceURI===Mt?b==="math":S.namespaceURI===Tt?b==="math"&&Qe[V]:Boolean(Le[b]);if(r.namespaceURI===Mt){if(S.namespaceURI===Tt&&!Qe[V]||S.namespaceURI===ve&&!Xe[V])return!1;var nt=M({},["title","style","font","a","script"]);return!Le[b]&&(nt[b]||!Qt[b])}return!1},kt=function(r){w(O.removed,{element:r});try{r.parentNode.removeChild(r)}catch{try{r.outerHTML=$e}catch{r.remove()}}},tn=function(r,S){try{w(O.removed,{attribute:S.getAttributeNode(r),from:S})}catch{w(O.removed,{attribute:null,from:S})}if(S.removeAttribute(r),r==="is"&&!mt[r])if(Vt||me)try{kt(S)}catch{}else try{S.setAttribute(r,"")}catch{}},Et=function(r){var S=void 0,b=void 0;if(Te)r="<remove></remove>"+r;else{var V=i(r,/^[\r\n\t ]+/);b=V&&V[0]}var nt=jt?jt.createHTML(r):r;if(be===Mt)try{S=new cn().parseFromString(nt,"text/html")}catch{}if(!S||!S.documentElement){S=pe.createDocument(be,"template",null);try{S.documentElement.innerHTML=_e?"":nt}catch{}}var bt=S.body||S.documentElement;return r&&b&&bt.insertBefore(et.createTextNode(b),bt.childNodes[0]||null),be===Mt?Y.call(S,Zt?"html":"body")[0]:Zt?S.documentElement:bt},ie=function(r){return ln.call(r.ownerDocument||r,r,ae.SHOW_ELEMENT|ae.SHOW_COMMENT|ae.SHOW_TEXT,null,!1)},en=function(r){return!(r instanceof De||r instanceof an||typeof r.nodeName=="string"&&typeof r.textContent=="string"&&typeof r.removeChild=="function"&&r.attributes instanceof Re&&typeof r.removeAttribute=="function"&&typeof r.setAttribute=="function"&&typeof r.namespaceURI=="string"&&typeof r.insertBefore=="function")},Nt=function(r){return(ee===void 0?"undefined":Ot(ee))==="object"?r instanceof ee:r&&(r===void 0?"undefined":Ot(r))==="object"&&typeof r.nodeType=="number"&&typeof r.nodeName=="string"},Ft=function(r,S,b){xt[r]&&U(xt[r],function(V){V.call(O,S,b,Xt)})},nn=function(r){var S=void 0;if(Ft("beforeSanitizeElements",r,null),en(r)||i(r.nodeName,/[\u0080-\uFFFF]/))return kt(r),!0;var b=k(r.nodeName);if(Ft("uponSanitizeElement",r,{tagName:b,allowedTags:dt}),!Nt(r.firstElementChild)&&(!Nt(r.content)||!Nt(r.content.firstElementChild))&&H(/<[/\w]/g,r.innerHTML)&&H(/<[/\w]/g,r.textContent)||b==="select"&&H(/<template/i,r.innerHTML))return kt(r),!0;if(!dt[b]||Ae[b]){if(ke&&!zt[b]){var V=ce(r)||r.parentNode,nt=ze(r)||r.childNodes;if(nt&&V)for(var bt=nt.length-1;bt>=0;--bt)V.insertBefore(Ue(nt[bt],!0),Ce(r))}return kt(r),!0}return r instanceof Pe&&!dn(r)?(kt(r),!0):b!=="noscript"&&b!=="noembed"||!H(/<\/no(script|embed)/i,r.innerHTML)?(Ut&&r.nodeType===3&&(S=r.textContent,S=s(S,fe," "),S=s(S,de," "),r.textContent!==S&&(w(O.removed,{element:r.cloneNode()}),r.textContent=S)),Ft("afterSanitizeElements",r,null),!1):(kt(r),!0)},rn=function(r,S,b){if(ye&&(S==="id"||S==="name")&&(b in et||b in fn))return!1;if(!(je&&!he[S]&&H(Be,S))){if(!(Je&&H(Se,S))){if(!mt[S]||he[S])return!1;if(!oe[S]){if(!H(Oe,s(b,qe,""))){if((S!=="src"&&S!=="xlink:href"&&S!=="href"||r==="script"||f(b,"data:")!==0||!re[r])&&!(Ze&&!H(pn,s(b,qe,"")))){if(b)return!1}}}}}return!0},on=function(r){var S=void 0,b=void 0,V=void 0,nt=void 0;Ft("beforeSanitizeAttributes",r,null);var bt=r.attributes;if(bt){var ht={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:mt};for(nt=bt.length;nt--;){var we=S=bt[nt],_t=we.name,Ie=we.namespaceURI;if(b=C(S.value),V=k(_t),ht.attrName=V,ht.attrValue=b,ht.keepAttr=!0,ht.forceKeepAttr=void 0,Ft("uponSanitizeAttribute",r,ht),b=ht.attrValue,!ht.forceKeepAttr&&(tn(_t,r),ht.keepAttr))if(H(/\/>/i,b))tn(_t,r);else{Ut&&(b=s(b,fe," "),b=s(b,de," "));var e=r.nodeName.toLowerCase();if(rn(e,V,b))try{Ie?r.setAttributeNS(Ie,_t,b):r.setAttribute(_t,b),B(O.removed)}catch{}}}Ft("afterSanitizeAttributes",r,null)}},hn=function r(S){var b=void 0,V=ie(S);for(Ft("beforeSanitizeShadowDOM",S,null);b=V.nextNode();)Ft("uponSanitizeShadowNode",b,null),nn(b)||(b.content instanceof qt&&r(b.content),on(b));Ft("afterSanitizeShadowDOM",S,null)};return O.sanitize=function(r,S){var b=void 0,V=void 0,nt=void 0,bt=void 0,ht=void 0;if((_e=!r)&&(r="<!-->"),typeof r!="string"&&!Nt(r)){if(typeof r.toString!="function")throw Z("toString is not a function");if(typeof(r=r.toString())!="string")throw Z("dirty is not a string, aborting")}if(!O.isSupported){if(Ot(N.toStaticHTML)==="object"||typeof N.toStaticHTML=="function"){if(typeof r=="string")return N.toStaticHTML(r);if(Nt(r))return N.toStaticHTML(r.outerHTML)}return r}if(ge||Fe(S),O.removed=[],typeof r=="string"&&(ne=!1),!ne)if(r instanceof ee)(V=(b=Et("<!---->")).ownerDocument.importNode(r,!0)).nodeType===1&&V.nodeName==="BODY"||V.nodeName==="HTML"?b=V:b.appendChild(V);else{if(!Vt&&!Ut&&!Zt&&r.indexOf("<")===-1)return jt&&Kt?jt.createHTML(r):r;if(!(b=Et(r)))return Vt?null:$e}b&&Te&&kt(b.firstChild);for(var we=ie(ne?r:b);nt=we.nextNode();)nt.nodeType===3&&nt===bt||nn(nt)||(nt.content instanceof qt&&hn(nt.content),on(nt),bt=nt);if(bt=null,ne)return r;if(Vt){if(me)for(ht=un.call(b.ownerDocument);b.firstChild;)ht.appendChild(b.firstChild);else ht=b;return Ve&&(ht=He.call(tt,ht,!0)),ht}var _t=Zt?b.outerHTML:b.innerHTML;return Ut&&(_t=s(_t,fe," "),_t=s(_t,de," ")),jt&&Kt?jt.createHTML(_t):_t},O.setConfig=function(r){Fe(r),ge=!0},O.clearConfig=function(){Xt=null,ge=!1},O.isValidAttribute=function(r,S,b){Xt||Fe({});var V=k(r),nt=k(S);return rn(V,nt,b)},O.addHook=function(r,S){typeof S=="function"&&(xt[r]=xt[r]||[],w(xt[r],S))},O.removeHook=function(r){xt[r]&&B(xt[r])},O.removeHooks=function(r){xt[r]&&(xt[r]=[])},O.removeAllHooks=function(){xt={}},O}()}()},729:D=>{var u=Object.prototype.hasOwnProperty,x="~";function j(){}function _(l,m,h){this.fn=l,this.context=m,this.once=h||!1}function F(l,m,h,I,z){if(typeof h!="function")throw new TypeError("The listener must be a function");var U=new _(h,I||l,z),B=x?x+m:m;return l._events[B]?l._events[B].fn?l._events[B]=[l._events[B],U]:l._events[B].push(U):(l._events[B]=U,l._eventsCount++),l}function L(l,m){--l._eventsCount==0?l._events=new j:delete l._events[m]}function d(){this._events=new j,this._eventsCount=0}Object.create&&(j.prototype=Object.create(null),new j().__proto__||(x=!1)),d.prototype.eventNames=function(){var l,m,h=[];if(this._eventsCount===0)return h;for(m in l=this._events)u.call(l,m)&&h.push(x?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(l)):h},d.prototype.listeners=function(l){var m=x?x+l:l,h=this._events[m];if(!h)return[];if(h.fn)return[h.fn];for(var I=0,z=h.length,U=new Array(z);I<z;I++)U[I]=h[I].fn;return U},d.prototype.listenerCount=function(l){var m=x?x+l:l,h=this._events[m];return h?h.fn?1:h.length:0},d.prototype.emit=function(l,m,h,I,z,U){var B=x?x+l:l;if(!this._events[B])return!1;var w,k,i=this._events[B],s=arguments.length;if(i.fn){switch(i.once&&this.removeListener(l,i.fn,void 0,!0),s){case 1:return i.fn.call(i.context),!0;case 2:return i.fn.call(i.context,m),!0;case 3:return i.fn.call(i.context,m,h),!0;case 4:return i.fn.call(i.context,m,h,I),!0;case 5:return i.fn.call(i.context,m,h,I,z),!0;case 6:return i.fn.call(i.context,m,h,I,z,U),!0}for(k=1,w=new Array(s-1);k<s;k++)w[k-1]=arguments[k];i.fn.apply(i.context,w)}else{var f,C=i.length;for(k=0;k<C;k++)switch(i[k].once&&this.removeListener(l,i[k].fn,void 0,!0),s){case 1:i[k].fn.call(i[k].context);break;case 2:i[k].fn.call(i[k].context,m);break;case 3:i[k].fn.call(i[k].context,m,h);break;case 4:i[k].fn.call(i[k].context,m,h,I);break;default:if(!w)for(f=1,w=new Array(s-1);f<s;f++)w[f-1]=arguments[f];i[k].fn.apply(i[k].context,w)}}return!0},d.prototype.on=function(l,m,h){return F(this,l,m,h,!1)},d.prototype.once=function(l,m,h){return F(this,l,m,h,!0)},d.prototype.removeListener=function(l,m,h,I){var z=x?x+l:l;if(!this._events[z])return this;if(!m)return L(this,z),this;var U=this._events[z];if(U.fn)U.fn!==m||I&&!U.once||h&&U.context!==h||L(this,z);else{for(var B=0,w=[],k=U.length;B<k;B++)(U[B].fn!==m||I&&!U[B].once||h&&U[B].context!==h)&&w.push(U[B]);w.length?this._events[z]=w.length===1?w[0]:w:L(this,z)}return this},d.prototype.removeAllListeners=function(l){var m;return l?(m=x?x+l:l,this._events[m]&&L(this,m)):(this._events=new j,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=x,d.EventEmitter=d,D.exports=d},717:D=>{typeof Object.create=="function"?D.exports=function(u,x){u.super_=x,u.prototype=Object.create(x.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}})}:D.exports=function(u,x){u.super_=x;var j=function(){};j.prototype=x.prototype,u.prototype=new j,u.prototype.constructor=u}},824:D=>{var u=1e3,x=60*u,j=60*x,_=24*j;function F(L,d,l,m){var h=d>=1.5*l;return Math.round(L/l)+" "+m+(h?"s":"")}D.exports=function(L,d){d=d||{};var l,m,h=typeof L;if(h==="string"&&L.length>0)return function(I){if(!((I=String(I)).length>100)){var z=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(I);if(z){var U=parseFloat(z[1]);switch((z[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*U;case"weeks":case"week":case"w":return 6048e5*U;case"days":case"day":case"d":return U*_;case"hours":case"hour":case"hrs":case"hr":case"h":return U*j;case"minutes":case"minute":case"mins":case"min":case"m":return U*x;case"seconds":case"second":case"secs":case"sec":case"s":return U*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return U;default:return}}}}(L);if(h==="number"&&isFinite(L))return d.long?(l=L,(m=Math.abs(l))>=_?F(l,m,_,"day"):m>=j?F(l,m,j,"hour"):m>=x?F(l,m,x,"minute"):m>=u?F(l,m,u,"second"):l+" ms"):function(I){var z=Math.abs(I);return z>=_?Math.round(I/_)+"d":z>=j?Math.round(I/j)+"h":z>=x?Math.round(I/x)+"m":z>=u?Math.round(I/u)+"s":I+"ms"}(L);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(L))}},520:(D,u,x)=>{var j=x(155),_=j.platform==="win32",F=x(539);function L(i,s){for(var f=[],C=0;C<i.length;C++){var H=i[C];H&&H!=="."&&(H===".."?f.length&&f[f.length-1]!==".."?f.pop():s&&f.push(".."):f.push(H))}return f}function d(i){for(var s=i.length-1,f=0;f<=s&&!i[f];f++);for(var C=s;C>=0&&!i[C];C--);return f===0&&C===s?i:f>C?[]:i.slice(f,C+1)}var l=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,m=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,h={};function I(i){var s=l.exec(i),f=(s[1]||"")+(s[2]||""),C=s[3]||"",H=m.exec(C);return[f,H[1],H[2],H[3]]}function z(i){var s=l.exec(i),f=s[1]||"",C=!!f&&f[1]!==":";return{device:f,isUnc:C,isAbsolute:C||!!s[2],tail:s[3]}}function U(i){return"\\\\"+i.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}h.resolve=function(){for(var i="",s="",f=!1,C=arguments.length-1;C>=-1;C--){var H;if(C>=0?H=arguments[C]:i?(H=j.env["="+i])&&H.substr(0,3).toLowerCase()===i.toLowerCase()+"\\"||(H=i+"\\"):H=j.cwd(),!F.isString(H))throw new TypeError("Arguments to path.resolve must be strings");if(H){var Z=z(H),q=Z.device,M=Z.isUnc,at=Z.isAbsolute,pt=Z.tail;if((!q||!i||q.toLowerCase()===i.toLowerCase())&&(i||(i=q),f||(s=pt+"\\"+s,f=at),i&&f))break}}return M&&(i=U(i)),i+(f?"\\":"")+(s=L(s.split(/[\\\/]+/),!f).join("\\"))||"."},h.normalize=function(i){var s=z(i),f=s.device,C=s.isUnc,H=s.isAbsolute,Z=s.tail,q=/[\\\/]$/.test(Z);return(Z=L(Z.split(/[\\\/]+/),!H).join("\\"))||H||(Z="."),Z&&q&&(Z+="\\"),C&&(f=U(f)),f+(H?"\\":"")+Z},h.isAbsolute=function(i){return z(i).isAbsolute},h.join=function(){for(var i=[],s=0;s<arguments.length;s++){var f=arguments[s];if(!F.isString(f))throw new TypeError("Arguments to path.join must be strings");f&&i.push(f)}var C=i.join("\\");return/^[\\\/]{2}[^\\\/]/.test(i[0])||(C=C.replace(/^[\\\/]{2,}/,"\\")),h.normalize(C)},h.relative=function(i,s){i=h.resolve(i),s=h.resolve(s);for(var f=i.toLowerCase(),C=s.toLowerCase(),H=d(s.split("\\")),Z=d(f.split("\\")),q=d(C.split("\\")),M=Math.min(Z.length,q.length),at=M,pt=0;pt<M;pt++)if(Z[pt]!==q[pt]){at=pt;break}if(at==0)return s;var It=[];for(pt=at;pt<Z.length;pt++)It.push("..");return(It=It.concat(H.slice(at))).join("\\")},h._makeLong=function(i){if(!F.isString(i))return i;if(!i)return"";var s=h.resolve(i);return/^[a-zA-Z]\:\\/.test(s)?"\\\\?\\"+s:/^\\\\[^?.]/.test(s)?"\\\\?\\UNC\\"+s.substring(2):i},h.dirname=function(i){var s=I(i),f=s[0],C=s[1];return f||C?(C&&(C=C.substr(0,C.length-1)),f+C):"."},h.basename=function(i,s){var f=I(i)[2];return s&&f.substr(-1*s.length)===s&&(f=f.substr(0,f.length-s.length)),f},h.extname=function(i){return I(i)[3]},h.format=function(i){if(!F.isObject(i))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof i);var s=i.root||"";if(!F.isString(s))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof i.root);var f=i.dir,C=i.base||"";return f?f[f.length-1]===h.sep?f+C:f+h.sep+C:C},h.parse=function(i){if(!F.isString(i))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof i);var s=I(i);if(!s||s.length!==4)throw new TypeError("Invalid path '"+i+"'");return{root:s[0],dir:s[0]+s[1].slice(0,-1),base:s[2],ext:s[3],name:s[2].slice(0,s[2].length-s[3].length)}},h.sep="\\",h.delimiter=";";var B=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,w={};function k(i){return B.exec(i).slice(1)}w.resolve=function(){for(var i="",s=!1,f=arguments.length-1;f>=-1&&!s;f--){var C=f>=0?arguments[f]:j.cwd();if(!F.isString(C))throw new TypeError("Arguments to path.resolve must be strings");C&&(i=C+"/"+i,s=C[0]==="/")}return(s?"/":"")+(i=L(i.split("/"),!s).join("/"))||"."},w.normalize=function(i){var s=w.isAbsolute(i),f=i&&i[i.length-1]==="/";return(i=L(i.split("/"),!s).join("/"))||s||(i="."),i&&f&&(i+="/"),(s?"/":"")+i},w.isAbsolute=function(i){return i.charAt(0)==="/"},w.join=function(){for(var i="",s=0;s<arguments.length;s++){var f=arguments[s];if(!F.isString(f))throw new TypeError("Arguments to path.join must be strings");f&&(i+=i?"/"+f:f)}return w.normalize(i)},w.relative=function(i,s){i=w.resolve(i).substr(1),s=w.resolve(s).substr(1);for(var f=d(i.split("/")),C=d(s.split("/")),H=Math.min(f.length,C.length),Z=H,q=0;q<H;q++)if(f[q]!==C[q]){Z=q;break}var M=[];for(q=Z;q<f.length;q++)M.push("..");return(M=M.concat(C.slice(Z))).join("/")},w._makeLong=function(i){return i},w.dirname=function(i){var s=k(i),f=s[0],C=s[1];return f||C?(C&&(C=C.substr(0,C.length-1)),f+C):"."},w.basename=function(i,s){var f=k(i)[2];return s&&f.substr(-1*s.length)===s&&(f=f.substr(0,f.length-s.length)),f},w.extname=function(i){return k(i)[3]},w.format=function(i){if(!F.isObject(i))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof i);var s=i.root||"";if(!F.isString(s))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof i.root);return(i.dir?i.dir+w.sep:"")+(i.base||"")},w.parse=function(i){if(!F.isString(i))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof i);var s=k(i);if(!s||s.length!==4)throw new TypeError("Invalid path '"+i+"'");return s[1]=s[1]||"",s[2]=s[2]||"",s[3]=s[3]||"",{root:s[0],dir:s[0]+s[1].slice(0,-1),base:s[2],ext:s[3],name:s[2].slice(0,s[2].length-s[3].length)}},w.sep="/",w.delimiter=":",D.exports=_?h:w,D.exports.posix=w,D.exports.win32=h},155:D=>{var u,x,j=D.exports={};function _(){throw new Error("setTimeout has not been defined")}function F(){throw new Error("clearTimeout has not been defined")}function L(w){if(u===setTimeout)return setTimeout(w,0);if((u===_||!u)&&setTimeout)return u=setTimeout,setTimeout(w,0);try{return u(w,0)}catch{try{return u.call(null,w,0)}catch{return u.call(this,w,0)}}}(function(){try{u=typeof setTimeout=="function"?setTimeout:_}catch{u=_}try{x=typeof clearTimeout=="function"?clearTimeout:F}catch{x=F}})();var d,l=[],m=!1,h=-1;function I(){m&&d&&(m=!1,d.length?l=d.concat(l):h=-1,l.length&&z())}function z(){if(!m){var w=L(I);m=!0;for(var k=l.length;k;){for(d=l,l=[];++h<k;)d&&d[h].run();h=-1,k=l.length}d=null,m=!1,function(i){if(x===clearTimeout)return clearTimeout(i);if((x===F||!x)&&clearTimeout)return x=clearTimeout,clearTimeout(i);try{x(i)}catch{try{return x.call(null,i)}catch{return x.call(this,i)}}}(w)}}function U(w,k){this.fun=w,this.array=k}function B(){}j.nextTick=function(w){var k=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)k[i-1]=arguments[i];l.push(new U(w,k)),l.length!==1||m||L(z)},U.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={},j.on=B,j.addListener=B,j.once=B,j.off=B,j.removeListener=B,j.removeAllListeners=B,j.emit=B,j.prependListener=B,j.prependOnceListener=B,j.listeners=function(w){return[]},j.binding=function(w){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(w){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},384:D=>{D.exports=function(u){return u&&typeof u=="object"&&typeof u.copy=="function"&&typeof u.fill=="function"&&typeof u.readUInt8=="function"}},539:(D,u,x)=>{var j=x(155),_=/%[sdj%]/g;u.format=function(c){if(!i(c)){for(var v=[],E=0;E<arguments.length;E++)v.push(d(arguments[E]));return v.join(" ")}E=1;for(var Q=arguments,yt=Q.length,ct=String(c).replace(_,function(it){if(it==="%%")return"%";if(E>=yt)return it;switch(it){case"%s":return String(Q[E++]);case"%d":return Number(Q[E++]);case"%j":try{return JSON.stringify(Q[E++])}catch{return"[Circular]"}default:return it}}),J=Q[E];E<yt;J=Q[++E])w(J)||!C(J)?ct+=" "+J:ct+=" "+d(J);return ct},u.deprecate=function(c,v){if(s(x.g.process))return function(){return u.deprecate(c,v).apply(this,arguments)};if(j.noDeprecation===!0)return c;var E=!1;return function(){if(!E){if(j.throwDeprecation)throw new Error(v);j.traceDeprecation?console.trace(v):console.error(v),E=!0}return c.apply(this,arguments)}};var F,L={};function d(c,v){var E={seen:[],stylize:m};return arguments.length>=3&&(E.depth=arguments[2]),arguments.length>=4&&(E.colors=arguments[3]),B(v)?E.showHidden=v:v&&u._extend(E,v),s(E.showHidden)&&(E.showHidden=!1),s(E.depth)&&(E.depth=2),s(E.colors)&&(E.colors=!1),s(E.customInspect)&&(E.customInspect=!0),E.colors&&(E.stylize=l),h(E,c,E.depth)}function l(c,v){var E=d.styles[v];return E?"\x1B["+d.colors[E][0]+"m"+c+"\x1B["+d.colors[E][1]+"m":c}function m(c,v){return c}function h(c,v,E){if(c.customInspect&&v&&q(v.inspect)&&v.inspect!==u.inspect&&(!v.constructor||v.constructor.prototype!==v)){var Q=v.inspect(E,c);return i(Q)||(Q=h(c,Q,E)),Q}var yt=function(ut,K){if(s(K))return ut.stylize("undefined","undefined");if(i(K)){var vt="'"+JSON.stringify(K).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ut.stylize(vt,"string")}return k(K)?ut.stylize(""+K,"number"):B(K)?ut.stylize(""+K,"boolean"):w(K)?ut.stylize("null","null"):void 0}(c,v);if(yt)return yt;var ct=Object.keys(v),J=function(ut){var K={};return ut.forEach(function(vt,At){K[vt]=!0}),K}(ct);if(c.showHidden&&(ct=Object.getOwnPropertyNames(v)),Z(v)&&(ct.indexOf("message")>=0||ct.indexOf("description")>=0))return I(v);if(ct.length===0){if(q(v)){var it=v.name?": "+v.name:"";return c.stylize("[Function"+it+"]","special")}if(f(v))return c.stylize(RegExp.prototype.toString.call(v),"regexp");if(H(v))return c.stylize(Date.prototype.toString.call(v),"date");if(Z(v))return I(v)}var lt,ft="",Bt=!1,Ct=["{","}"];return U(v)&&(Bt=!0,Ct=["[","]"]),q(v)&&(ft=" [Function"+(v.name?": "+v.name:"")+"]"),f(v)&&(ft=" "+RegExp.prototype.toString.call(v)),H(v)&&(ft=" "+Date.prototype.toUTCString.call(v)),Z(v)&&(ft=" "+I(v)),ct.length!==0||Bt&&v.length!=0?E<0?f(v)?c.stylize(RegExp.prototype.toString.call(v),"regexp"):c.stylize("[Object]","special"):(c.seen.push(v),lt=Bt?function(ut,K,vt,At,Ot){for(var gt=[],Dt=0,se=K.length;Dt<se;++Dt)Ht(K,String(Dt))?gt.push(z(ut,K,vt,At,String(Dt),!0)):gt.push("");return Ot.forEach(function(P){P.match(/^\d+$/)||gt.push(z(ut,K,vt,At,P,!0))}),gt}(c,v,E,J,ct):ct.map(function(ut){return z(c,v,E,J,ut,Bt)}),c.seen.pop(),function(ut,K,vt){return ut.reduce(function(At,Ot){return Ot.indexOf(`
`),At+Ot.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?vt[0]+(K===""?"":K+`
 `)+" "+ut.join(`,
  `)+" "+vt[1]:vt[0]+K+" "+ut.join(", ")+" "+vt[1]}(lt,ft,Ct)):Ct[0]+ft+Ct[1]}function I(c){return"["+Error.prototype.toString.call(c)+"]"}function z(c,v,E,Q,yt,ct){var J,it,lt;if((lt=Object.getOwnPropertyDescriptor(v,yt)||{value:v[yt]}).get?it=lt.set?c.stylize("[Getter/Setter]","special"):c.stylize("[Getter]","special"):lt.set&&(it=c.stylize("[Setter]","special")),Ht(Q,yt)||(J="["+yt+"]"),it||(c.seen.indexOf(lt.value)<0?(it=w(E)?h(c,lt.value,null):h(c,lt.value,E-1)).indexOf(`
`)>-1&&(it=ct?it.split(`
`).map(function(ft){return"  "+ft}).join(`
`).substr(2):`
`+it.split(`
`).map(function(ft){return"   "+ft}).join(`
`)):it=c.stylize("[Circular]","special")),s(J)){if(ct&&yt.match(/^\d+$/))return it;(J=JSON.stringify(""+yt)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(J=J.substr(1,J.length-2),J=c.stylize(J,"name")):(J=J.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),J=c.stylize(J,"string"))}return J+": "+it}function U(c){return Array.isArray(c)}function B(c){return typeof c=="boolean"}function w(c){return c===null}function k(c){return typeof c=="number"}function i(c){return typeof c=="string"}function s(c){return c===void 0}function f(c){return C(c)&&M(c)==="[object RegExp]"}function C(c){return typeof c=="object"&&c!==null}function H(c){return C(c)&&M(c)==="[object Date]"}function Z(c){return C(c)&&(M(c)==="[object Error]"||c instanceof Error)}function q(c){return typeof c=="function"}function M(c){return Object.prototype.toString.call(c)}function at(c){return c<10?"0"+c.toString(10):c.toString(10)}u.debuglog=function(c){if(s(F)&&(F=j.env.NODE_DEBUG||""),c=c.toUpperCase(),!L[c])if(new RegExp("\\b"+c+"\\b","i").test(F)){var v=j.pid;L[c]=function(){var E=u.format.apply(u,arguments);console.error("%s %d: %s",c,v,E)}}else L[c]=function(){};return L[c]},u.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},u.isArray=U,u.isBoolean=B,u.isNull=w,u.isNullOrUndefined=function(c){return c==null},u.isNumber=k,u.isString=i,u.isSymbol=function(c){return typeof c=="symbol"},u.isUndefined=s,u.isRegExp=f,u.isObject=C,u.isDate=H,u.isError=Z,u.isFunction=q,u.isPrimitive=function(c){return c===null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||typeof c=="symbol"||c===void 0},u.isBuffer=x(384);var pt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function It(){var c=new Date,v=[at(c.getHours()),at(c.getMinutes()),at(c.getSeconds())].join(":");return[c.getDate(),pt[c.getMonth()],v].join(" ")}function Ht(c,v){return Object.prototype.hasOwnProperty.call(c,v)}u.log=function(){console.log("%s - %s",It(),u.format.apply(u,arguments))},u.inherits=x(717),u._extend=function(c,v){if(!v||!C(v))return c;for(var E=Object.keys(v),Q=E.length;Q--;)c[E[Q]]=v[E[Q]];return c}}},Rt={};function W(D){var u=Rt[D];if(u!==void 0)return u.exports;var x=Rt[D]={exports:{}};return te[D].call(x.exports,x,x.exports,W),x.exports}W.n=D=>{var u=D&&D.__esModule?()=>D.default:()=>D;return W.d(u,{a:u}),u},W.d=(D,u)=>{for(var x in u)W.o(u,x)&&!W.o(D,x)&&Object.defineProperty(D,x,{enumerable:!0,get:u[x]})},W.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),W.o=(D,u)=>Object.prototype.hasOwnProperty.call(D,u),W.r=D=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(D,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(D,"__esModule",{value:!0})};var wt={};return(()=>{W.r(wt),W.d(wt,{LSPluginUser:()=>_t,setupPluginUserInstance:()=>Ie});var D=W(520);W(856);const u=function(e,t){return e===t||e!=e&&t!=t},x=function(e,t){for(var n=e.length;n--;)if(u(e[n][0],t))return n;return-1};var j=Array.prototype.splice;function _(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}_.prototype.clear=function(){this.__data__=[],this.size=0},_.prototype.delete=function(e){var t=this.__data__,n=x(t,e);return!(n<0||(n==t.length-1?t.pop():j.call(t,n,1),--this.size,0))},_.prototype.get=function(e){var t=this.__data__,n=x(t,e);return n<0?void 0:t[n][1]},_.prototype.has=function(e){return x(this.__data__,e)>-1},_.prototype.set=function(e,t){var n=this.__data__,o=x(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this};const F=_,L=typeof sn=="object"&&sn&&sn.Object===Object&&sn;var d=typeof self=="object"&&self&&self.Object===Object&&self;const l=L||d||Function("return this")(),m=l.Symbol;var h=Object.prototype,I=h.hasOwnProperty,z=h.toString,U=m?m.toStringTag:void 0,B=Object.prototype.toString,w=m?m.toStringTag:void 0;const k=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":w&&w in Object(e)?function(t){var n=I.call(t,U),o=t[U];try{t[U]=void 0;var a=!0}catch{}var p=z.call(t);return a&&(n?t[U]=o:delete t[U]),p}(e):function(t){return B.call(t)}(e)},i=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},s=function(e){if(!i(e))return!1;var t=k(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},f=l["__core-js_shared__"];var C,H=(C=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",Z=Function.prototype.toString,q=/^\[object .+?Constructor\]$/,M=Function.prototype,at=Object.prototype,pt=M.toString,It=at.hasOwnProperty,Ht=RegExp("^"+pt.call(It).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const c=function(e){return!(!i(e)||(t=e,H&&H in t))&&(s(e)?Ht:q).test(function(n){if(n!=null){try{return Z.call(n)}catch{}try{return n+""}catch{}}return""}(e));var t},v=function(e,t){var n=function(o,a){return o?.[a]}(e,t);return c(n)?n:void 0},E=v(l,"Map"),Q=v(Object,"create");var yt=Object.prototype.hasOwnProperty,ct=Object.prototype.hasOwnProperty;function J(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}J.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},J.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},J.prototype.get=function(e){var t=this.__data__;if(Q){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return yt.call(t,e)?t[e]:void 0},J.prototype.has=function(e){var t=this.__data__;return Q?t[e]!==void 0:ct.call(t,e)},J.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Q&&t===void 0?"__lodash_hash_undefined__":t,this};const it=J,lt=function(e,t){var n,o,a=e.__data__;return((o=typeof(n=t))=="string"||o=="number"||o=="symbol"||o=="boolean"?n!=="__proto__":n===null)?a[typeof t=="string"?"string":"hash"]:a.map};function ft(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}ft.prototype.clear=function(){this.size=0,this.__data__={hash:new it,map:new(E||F),string:new it}},ft.prototype.delete=function(e){var t=lt(this,e).delete(e);return this.size-=t?1:0,t},ft.prototype.get=function(e){return lt(this,e).get(e)},ft.prototype.has=function(e){return lt(this,e).has(e)},ft.prototype.set=function(e,t){var n=lt(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this};const Bt=ft;function Ct(e){var t=this.__data__=new F(e);this.size=t.size}Ct.prototype.clear=function(){this.__data__=new F,this.size=0},Ct.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ct.prototype.get=function(e){return this.__data__.get(e)},Ct.prototype.has=function(e){return this.__data__.has(e)},Ct.prototype.set=function(e,t){var n=this.__data__;if(n instanceof F){var o=n.__data__;if(!E||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new Bt(o)}return n.set(e,t),this.size=n.size,this};const ut=Ct,K=function(){try{var e=v(Object,"defineProperty");return e({},"",{}),e}catch{}}(),vt=function(e,t,n){t=="__proto__"&&K?K(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},At=function(e,t,n){(n!==void 0&&!u(e[t],n)||n===void 0&&!(t in e))&&vt(e,t,n)},Ot=function(e,t,n){for(var o=-1,a=Object(e),p=n(e),g=p.length;g--;){var A=p[++o];if(t(a[A],A,a)===!1)break}return e};var gt=ot&&!ot.nodeType&&ot,Dt=gt&&!0&&X&&!X.nodeType&&X,se=Dt&&Dt.exports===gt?l.Buffer:void 0,P=se?se.allocUnsafe:void 0;const N=l.Uint8Array,O=function(e,t){var n,o,a=t?(n=e.buffer,o=new n.constructor(n.byteLength),new N(o).set(new N(n)),o):e.buffer;return new e.constructor(a,e.byteOffset,e.length)};var tt=Object.create;const et=function(){function e(){}return function(t){if(!i(t))return{};if(tt)return tt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),qt=(Ne=Object.getPrototypeOf,ee=Object,function(e){return Ne(ee(e))});var Ne,ee,Pe=Object.prototype;const ae=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Pe)},Wt=function(e){return e!=null&&typeof e=="object"},Re=function(e){return Wt(e)&&k(e)=="[object Arguments]"};var De=Object.prototype,an=De.hasOwnProperty,cn=De.propertyIsEnumerable;const xe=Re(function(){return arguments}())?Re:function(e){return Wt(e)&&an.call(e,"callee")&&!cn.call(e,"callee")},Gt=Array.isArray,Ue=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},Ce=function(e){return e!=null&&Ue(e.length)&&!s(e)};var ze=ot&&!ot.nodeType&&ot,ce=ze&&!0&&X&&!X.nodeType&&X,le=ce&&ce.exports===ze?l.Buffer:void 0;const jt=(le?le.isBuffer:void 0)||function(){return!1};var $e=Function.prototype,ue=Object.prototype,pe=$e.toString,ln=ue.hasOwnProperty,un=pe.call(Object),Y={};Y["[object Float32Array]"]=Y["[object Float64Array]"]=Y["[object Int8Array]"]=Y["[object Int16Array]"]=Y["[object Int32Array]"]=Y["[object Uint8Array]"]=Y["[object Uint8ClampedArray]"]=Y["[object Uint16Array]"]=Y["[object Uint32Array]"]=!0,Y["[object Arguments]"]=Y["[object Array]"]=Y["[object ArrayBuffer]"]=Y["[object Boolean]"]=Y["[object DataView]"]=Y["[object Date]"]=Y["[object Error]"]=Y["[object Function]"]=Y["[object Map]"]=Y["[object Number]"]=Y["[object Object]"]=Y["[object RegExp]"]=Y["[object Set]"]=Y["[object String]"]=Y["[object WeakMap]"]=!1;var He=ot&&!ot.nodeType&&ot,Jt=He&&!0&&X&&!X.nodeType&&X,xt=Jt&&Jt.exports===He&&L.process,fe=function(){try{return Jt&&Jt.require&&Jt.require("util").types||xt&&xt.binding&&xt.binding("util")}catch{}}(),de=fe&&fe.isTypedArray;const Be=de?function(e){return function(t){return e(t)}}(de):function(e){return Wt(e)&&Ue(e.length)&&!!Y[k(e)]},Se=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]};var pn=Object.prototype.hasOwnProperty;const qe=function(e,t,n){var o=e[t];pn.call(e,t)&&u(o,n)&&(n!==void 0||t in e)||vt(e,t,n)};var Oe=/^(?:0|[1-9]\d*)$/;const dt=function(e,t){var n=typeof e;return!!(t=t??9007199254740991)&&(n=="number"||n!="symbol"&&Oe.test(e))&&e>-1&&e%1==0&&e<t};var We=Object.prototype.hasOwnProperty;const mt=function(e,t){var n=Gt(e),o=!n&&xe(e),a=!n&&!o&&jt(e),p=!n&&!o&&!a&&Be(e),g=n||o||a||p,A=g?function($,R){for(var G=-1,st=Array($);++G<$;)st[G]=R(G);return st}(e.length,String):[],T=A.length;for(var y in e)!t&&!We.call(e,y)||g&&(y=="length"||a&&(y=="offset"||y=="parent")||p&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||dt(y,T))||A.push(y);return A};var Ge=Object.prototype.hasOwnProperty;const Ae=function(e){if(!i(e))return function(a){var p=[];if(a!=null)for(var g in Object(a))p.push(g);return p}(e);var t=ae(e),n=[];for(var o in e)(o!="constructor"||!t&&Ge.call(e,o))&&n.push(o);return n},he=function(e){return Ce(e)?mt(e,!0):Ae(e)},Je=function(e){return function(t,n,o,a){var p=!o;o||(o={});for(var g=-1,A=n.length;++g<A;){var T=n[g],y=a?a(o[T],t[T],T,o,t):void 0;y===void 0&&(y=t[T]),p?vt(o,T,y):qe(o,T,y)}return o}(e,he(e))},je=function(e,t,n,o,a,p,g){var A,T=Se(e,n),y=Se(t,n),$=g.get(y);if($)At(e,n,$);else{var R=p?p(T,y,n+"",e,t,g):void 0,G=R===void 0;if(G){var st=Gt(y),Pt=!st&&jt(y),$t=!st&&!Pt&&Be(y);R=y,st||Pt||$t?Gt(T)?R=T:Wt(A=T)&&Ce(A)?R=function(rt,St){var Lt=-1,Me=rt.length;for(St||(St=Array(Me));++Lt<Me;)St[Lt]=rt[Lt];return St}(T):Pt?(G=!1,R=function(rt,St){if(St)return rt.slice();var Lt=rt.length,Me=P?P(Lt):new rt.constructor(Lt);return rt.copy(Me),Me}(y,!0)):$t?(G=!1,R=O(y,!0)):R=[]:function(rt){if(!Wt(rt)||k(rt)!="[object Object]")return!1;var St=qt(rt);if(St===null)return!0;var Lt=ln.call(St,"constructor")&&St.constructor;return typeof Lt=="function"&&Lt instanceof Lt&&pe.call(Lt)==un}(y)||xe(y)?(R=T,xe(T)?R=Je(T):i(T)&&!s(T)||(R=function(rt){return typeof rt.constructor!="function"||ae(rt)?{}:et(qt(rt))}(y))):G=!1}G&&(g.set(y,R),a(R,y,o,p,g),g.delete(y)),At(e,n,R)}},Ze=function e(t,n,o,a,p){t!==n&&Ot(n,function(g,A){if(p||(p=new ut),i(g))je(t,n,A,o,e,a,p);else{var T=a?a(Se(t,A),g,A+"",t,n,p):void 0;T===void 0&&(T=g),At(t,A,T)}},he)},Ut=function(e){return e},Zt=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var ge=Math.max;const Te=K?function(e,t){return K(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ut;var Vt=Date.now;const me=function(e){var t=0,n=0;return function(){var o=Vt(),a=16-(o-n);if(n=o,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Te),Ve=(Kt=function(e,t,n){Ze(e,t,n)},function(e,t){return me(function(n,o,a){return o=ge(o===void 0?n.length-1:o,0),function(){for(var p=arguments,g=-1,A=ge(p.length-o,0),T=Array(A);++g<A;)T[g]=p[o+g];g=-1;for(var y=Array(o+1);++g<o;)y[g]=p[g];return y[o]=a(T),Zt(n,this,y)}}(e,t,Ut),e+"")}(function(e,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,p=o>2?t[2]:void 0;for(a=Kt.length>3&&typeof a=="function"?(o--,a):void 0,p&&function(A,T,y){if(!i(y))return!1;var $=typeof T;return!!($=="number"?Ce(y)&&dt(T,y.length):$=="string"&&T in y)&&u(y[T],A)}(t[0],t[1],p)&&(a=o<3?void 0:a,o=1),e=Object(e);++n<o;){var g=t[n];g&&Kt(e,g,n)}return e}));var Kt,ye=function(){return(ye=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function ke(e){return e.toLowerCase()}var ne=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Yt=/[^A-Z0-9]+/gi;function zt(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce(function(o,a){return o.replace(a,n)},e)}const Ee=navigator.platform.toLowerCase()==="win32"?D.win32:D.posix,re=function(e,t){return t===void 0&&(t={}),function(n,o){return o===void 0&&(o={}),function(a,p){p===void 0&&(p={});for(var g=p.splitRegexp,A=g===void 0?ne:g,T=p.stripRegexp,y=T===void 0?Yt:T,$=p.transform,R=$===void 0?ke:$,G=p.delimiter,st=G===void 0?" ":G,Pt=zt(zt(a,A,"$1\0$2"),y,"\0"),$t=0,rt=Pt.length;Pt.charAt($t)==="\0";)$t++;for(;Pt.charAt(rt-1)==="\0";)rt--;return Pt.slice($t,rt).split("\0").map(R).join(st)}(n,ye({delimiter:"."},o))}(e,ye({delimiter:"_"},t))},Ke=Ve;function oe(e,t){let n,o,a=!1;const p=A=>T=>{e&&clearTimeout(e),A(T),a=!0},g=new Promise((A,T)=>{n=p(A),o=p(T),e&&(e=setTimeout(()=>o(new Error(`[deferred timeout] ${t}`)),e))});return{created:Date.now(),setTag:A=>t=A,resolve:n,reject:o,promise:g,get settled(){return a}}}var Ye=W(227),ve=W.n(Ye);const Tt="application/x-postmate-v1+json";let Mt=0;const be={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},_e=(e,t)=>!(typeof t=="string"&&e.origin!==t||!e.data||typeof e.data=="object"&&!("postmate"in e.data)||e.data.type!==Tt||!be[e.data.postmate]);class Xt{parent;frame;child;events={};childOrigin;listener;constructor(t){this.parent=t.parent,this.frame=t.frame,this.child=t.child,this.childOrigin=t.childOrigin,this.listener=n=>{if(!_e(n,this.childOrigin))return!1;const{data:o,name:a}=((n||{}).data||{}).value||{};n.data.postmate==="emit"&&a in this.events&&this.events[a].forEach(p=>{p.call(this,o)})},this.parent.addEventListener("message",this.listener,!1)}get(t){return new Promise(n=>{const o=++Mt,a=p=>{p.data.uid===o&&p.data.postmate==="reply"&&(this.parent.removeEventListener("message",a,!1),n(p.data.value))};this.parent.addEventListener("message",a,!1),this.child.postMessage({postmate:"request",type:Tt,property:t,uid:o},this.childOrigin)})}call(t,n){this.child.postMessage({postmate:"call",type:Tt,property:t,data:n},this.childOrigin)}on(t,n){this.events[t]||(this.events[t]=[]),this.events[t].push(n)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class fn{model;parent;parentOrigin;child;constructor(t){this.model=t.model,this.parent=t.parent,this.parentOrigin=t.parentOrigin,this.child=t.child,this.child.addEventListener("message",n=>{if(!_e(n,this.parentOrigin))return;const{property:o,uid:a,data:p}=n.data;n.data.postmate!=="call"?((g,A)=>{const T=typeof g[A]=="function"?g[A]():g[A];return Promise.resolve(T)})(this.model,o).then(g=>{n.source.postMessage({property:o,postmate:"reply",type:Tt,uid:a,value:g},n.origin)}):o in this.model&&typeof this.model[o]=="function"&&this.model[o](p)})}emit(t,n){this.parent.postMessage({postmate:"emit",type:Tt,value:{name:t,data:n}},this.parentOrigin)}}class Fe{static debug=!1;container;parent;frame;child;childOrigin;url;model;static Model;constructor(t){this.container=t.container,this.url=t.url,this.parent=window,this.frame=document.createElement("iframe"),t.id&&(this.frame.id=t.id),t.name&&(this.frame.name=t.name),this.frame.classList.add.apply(this.frame.classList,t.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=t.model||{}}sendHandshake(t){const n=(p=>{const g=document.createElement("a");g.href=p;const A=g.protocol.length>4?g.protocol:window.location.protocol,T=g.host.length?g.port==="80"||g.port==="443"?g.hostname:g.host:window.location.host;return g.origin||`${A}//${T}`})(t=t||this.url);let o,a=0;return new Promise((p,g)=>{const A=y=>!!_e(y,n)&&(y.data.postmate==="handshake-reply"?(clearInterval(o),this.parent.removeEventListener("message",A,!1),this.childOrigin=y.origin,p(new Xt(this))):g("Failed handshake"));this.parent.addEventListener("message",A,!1);const T=()=>{a++,this.child.postMessage({postmate:"handshake",type:Tt,model:this.model},n),a===5&&clearInterval(o)};this.frame.addEventListener("load",()=>{T(),o=setInterval(T,500)}),this.frame.src=t})}}class Xe{child;model;parent;parentOrigin;constructor(t){this.child=window,this.model=t,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((t,n)=>{const o=a=>{if(a.data.postmate){if(a.data.postmate==="handshake"){this.child.removeEventListener("message",o,!1),a.source.postMessage({postmate:"handshake-reply",type:Tt},a.origin),this.parentOrigin=a.origin;const p=a.data.model;return p&&Object.keys(p).forEach(g=>{this.model[g]=p[g]}),t(new fn(this))}return n("Handshake Reply Failed")}};this.child.addEventListener("message",o,!1)})}}var Qe=W(729),Qt=W.n(Qe);const{importHTML:Le,createSandboxContainer:dn}=window.QSandbox||{};function kt(e,t){return e.startsWith("http")?fetch(e,t):(e=e.replace("file://",""),new Promise(async(n,o)=>{try{const a=await window.apis.doAction(["readFile",e]);n({text:()=>a})}catch(a){console.error(a),o(a)}}))}class tn extends Qt(){_pluginLocal;_frame;_root;_loaded=!1;_unmountFns=[];constructor(t){super(),this._pluginLocal=t,t._dispose(()=>{this._unmount()})}async load(){const{name:t,entry:n}=this._pluginLocal.options;if(this.loaded||!n)return;const{template:o,execScripts:a}=await Le(n,{fetch:kt});this._mount(o,document.body);const p=dn(t,{elementGetter:()=>this._root?.firstChild}).instance.proxy;p.__shadow_mode__=!0,p.LSPluginLocal=this._pluginLocal,p.LSPluginShadow=this,p.LSPluginUser=p.logseq=new _t(this._pluginLocal.toJSON(),this._pluginLocal.caller);const g=await a(p,!0);this._unmountFns.push(g.unmount),this._loaded=!0}_mount(t,n){const o=this._frame=document.createElement("div");o.classList.add("lsp-shadow-sandbox"),o.id=this._pluginLocal.id,this._root=o.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${t}</div>`,n.appendChild(o),this.emit("mounted")}_unmount(){for(const t of this._unmountFns)t&&t.call(null)}destroy(){this.frame?.parentNode?.removeChild(this.frame)}get loaded(){return this._loaded}get document(){return this._root?.firstChild}get frame(){return this._frame}}const Et=ve()("LSPlugin:caller"),ie="#await#response#",en="#lspmsg#error#",Nt=e=>`#lspmsg#${e}`;class Ft extends Qt(){_pluginLocal;_connected=!1;_parent;_child;_shadow;_status;_userModel={};_call;_callUserModel;_debugTag="";constructor(t){super(),this._pluginLocal=t,t&&(this._debugTag=t.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:t}=this._pluginLocal;t?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(t={}){if(this._connected)return;const n=this,o=this._pluginLocal!=null;let a=0;const p=new Map,g=oe(5e3),A=this._extendUserModel({"#lspmsg#ready#":async y=>{A[Nt(y?.pid)]=({type:$,payload:R})=>{Et(`[host (_call) -> *user] ${this._debugTag}`,$,R),n.emit($,R)},await g.resolve()},"#lspmsg#beforeunload#":async y=>{const $=oe(1e4);n.emit("beforeunload",Object.assign({actor:$},y)),await $.promise},"#lspmsg#settings#":async({type:y,payload:$})=>{n.emit("settings:changed",$)},"#lspmsg#":async({ns:y,type:$,payload:R})=>{Et(`[host (async) -> *user] ${this._debugTag} ns=${y} type=${$}`,R),y&&y.startsWith("hook")?n.emit(`${y}:${$}`,R):n.emit($,R)},"#lspmsg#reply#":({_sync:y,result:$})=>{if(Et(`[sync host -> *user] #${y}`,$),p.has(y)){const R=p.get(y);R&&($?.hasOwnProperty(en)?R.reject($[en]):R.resolve($),p.delete(y))}},...t});if(o)return await g.promise,JSON.parse(JSON.stringify(this._pluginLocal?.toJSON()));const T=new Xe(A).sendHandshakeReply();return this._status="pending",await T.then(y=>{this._child=y,this._connected=!0,this._call=async($,R={},G)=>{if(G){const st=++a;p.set(st,G),R._sync=st,G.setTag(`async call #${st}`),Et("async call #",st)}return y.emit(Nt(A.baseInfo.id),{type:$,payload:R}),G?.promise},this._callUserModel=async($,R)=>{try{A[$](R)}catch{Et(`[model method] #${$} not existed`)}},setInterval(()=>{if(p.size>100)for(const[$,R]of p)R.settled&&p.delete($)},18e5)}).finally(()=>{this._status=void 0}),await g.promise,A.baseInfo}async call(t,n={}){return this._call?.call(this,t,n)}async callAsync(t,n={}){const o=oe(1e4);return this._call?.call(this,t,n,o)}async callUserModel(t,n={}){return this._callUserModel?.call(this,t,n)}async _setupIframeSandbox(){const t=this._pluginLocal,n=t.id,o=`${n}_lsp_main`,a=new URL(t.options.entry);a.searchParams.set("__v__",t.options.version);const p=document.querySelector(`#${o}`);p&&p.parentElement.removeChild(p);const g=document.createElement("div");g.classList.add("lsp-iframe-sandbox-container"),g.id=o,g.dataset.pid=n;try{const y=(await this._pluginLocal._loadLayoutsData())?.$$0;if(y){g.dataset.inited_layout="true";const{width:$,height:R,left:G,top:st}=y;Object.assign(g.style,{width:$+"px",height:R+"px",left:G+"px",top:st+"px"})}}catch(y){console.error("[Restore Layout Error]",y)}document.body.appendChild(g);let A,T=new Fe({id:n+"_iframe",container:g,url:a.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(t.toJSON()))}}).sendHandshake();return this._status="pending",new Promise((y,$)=>{A=setTimeout(()=>{$(new Error("handshake Timeout"))},3e3),T.then(R=>{this._parent=R,this._connected=!0,this.emit("connected"),R.on(Nt(t.id),({type:G,payload:st})=>{Et("[user -> *host] ",G,st),this._pluginLocal?.emit(G,st||{})}),this._call=async(...G)=>{await R.call(Nt(t.id),{type:G[0],payload:Object.assign(G[1]||{},{$$pid:t.id})})},this._callUserModel=async(G,st)=>{if(G.startsWith(ie))return await R.get(G.replace(ie,""));R.call(G,st)},y(null)}).catch(R=>{$(R)}).finally(()=>{clearTimeout(A)})}).catch(y=>{throw Et("[iframe sandbox] error",y),y}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const t=this._pluginLocal,n=this._shadow=new tn(t);try{this._status="pending",await n.load(),this._connected=!0,this.emit("connected"),this._call=async(o,a={},p)=>(p&&(a.actor=p),this._pluginLocal?.emit(o,Object.assign(a,{$$pid:t.id})),p?.promise),this._callUserModel=async(...o)=>{let a=o[0];a?.startsWith(ie)&&(a=a.replace(ie,""));const p=o[1]||{},g=this._userModel[a];typeof g=="function"&&await g.call(null,p)}}catch(o){throw Et("[shadow sandbox] error",o),o}finally{this._status=void 0}}_extendUserModel(t){return Object.assign(this._userModel,t)}_getSandboxIframeContainer(){return this._parent?.frame.parentNode}_getSandboxShadowContainer(){return this._shadow?.frame.parentNode}_getSandboxIframeRoot(){return this._parent?.frame}_getSandboxShadowRoot(){return this._shadow?.frame}set debugTag(t){this._debugTag=t}async destroy(){let t=null;this._parent&&(t=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(t=this._getSandboxShadowContainer(),this._shadow.destroy()),t?.parentNode.removeChild(t)}}class nn{ctx;constructor(t){this.ctx=t}get ctxId(){return this.ctx.baseInfo.id}setItem(t,n){return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,t,n]})}getItem(t){return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,t]})}removeItem(t){return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,t]})}clear(){return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId]})}hasItem(t){return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,t]})}}class rn{ctx;constructor(t){this.ctx=t}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(t,...n){const o=this.ensureHostScope();return t=re(t)?.toLowerCase(),o.logseq.api["exper_"+t]?.apply(o,n)}async loadScripts(...t){(t=t.map(n=>n?.startsWith("http")?n:this.ctx.resolveResourceFullUrl(n))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...t)}registerFencedCodeRenderer(t,n){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,t,n)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}const on=Symbol.for("proxy-continue"),hn=ve()("LSPlugin:user");function r(e,t,n){if(typeof n!="function")return!1;const{key:o,label:a,desc:p,palette:g,keybinding:A}=t,T=`SimpleCommandHook${o}${++b}`;this.Editor["on"+T](n),this.caller?.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:o,label:a,type:e,desc:p,keybinding:A},["editor/hook",T]],g]})}const S={registerCommand:r,registerCommandPalette(e,t){const{key:n,label:o,keybinding:a}=e;return r.call(this,"$palette$",{key:n,label:o,palette:!0,keybinding:a},t)},registerCommandShortcut(e,t){const{binding:n}=e,o="$shortcut$",a=o+re(n);return r.call(this,o,{key:a,palette:!1,keybinding:e},t)},registerUIItem(e,t){const n=this.baseInfo.id;this.caller?.call("api:call",{method:"register-plugin-ui-item",args:[n,e,t]})},registerPageMenuItem(e,t){if(typeof t!="function")return!1;const n=e+"_"+this.baseInfo.id,o=e;r.call(this,"page-menu-item",{key:n,label:o},t)},setFullScreen(e){const t=(...n)=>this._callWin("setFullScreen",...n);e==="toggle"?this._callWin("isFullScreen").then(n=>{n?t():t(!0)}):e?t(!0):t()}};let b=0;const V={registerSlashCommand(e,t){hn("Register slash command #",this.baseInfo.id,e,t),typeof t=="function"&&(t=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",t]]),t=t.map(n=>{const[o,...a]=n;switch(o){case"editor/hook":let p=a[0],g=()=>{this.caller?.callUserModel(p)};typeof p=="function"&&(g=p);const A=`SlashCommandHook${o}${++b}`;n[1]=A,this.Editor["on"+A](g)}return n}),this.caller?.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[e,t]]})},registerBlockContextMenuItem(e,t){if(typeof t!="function")return!1;const n=e+"_"+this.baseInfo.id,o=e;r.call(this,"block-context-menu-item",{key:n,label:o},t)},scrollToBlockInPage(e,t,n){const o="block-content-"+t;n?.replaceState?this.App.replaceState("page",{name:e},{anchor:o}):this.App.pushState("page",{name:e},{anchor:o})}},nt={onBlockChanged(e,t){const n=this.baseInfo.id,o=`hook:db:${re(`block:${e}`)}`,a=({block:p,txData:g,txMeta:A})=>{p.uuid===e&&t(p,g,A)};return this.caller.on(o,a),this.App._installPluginHook(n,o),()=>{this.caller.off(o,a),this.App._uninstallPluginHook(n,o)}}},bt={},ht={},we={};class _t extends Qt(){_baseInfo;_caller;_version="0.0.3";_debugTag="";_settingsSchema;_connected=!1;_ui=new Map;_mFileStorage;_mExperiments;_beforeunloadCallback;constructor(t,n){super(),this._baseInfo=t,this._caller=n,n.on("sys:ui:visible",o=>{o?.toggle&&this.toggleMainUI()}),n.on("settings:changed",o=>{const a=Object.assign({},this.settings),p=Object.assign(this._baseInfo.settings,o);this.emit("settings:changed",{...p},a)}),n.on("beforeunload",async o=>{const{actor:a,...p}=o,g=this._beforeunloadCallback;try{g&&await g(p),a?.resolve(null)}catch(A){console.debug(`${n.debugTag} [beforeunload] `,A),a?.reject(A)}})}async ready(t,n){if(!this._connected)try{typeof t=="function"&&(n=t,t={});let o=await this._caller.connectToParent(t);this._connected=!0,o=Ke(this._baseInfo,o),this._settingsSchema&&(o.settings=function(a,p){const g=(p||[]).reduce((A,T)=>("default"in T&&(A[T.key]=T.default),A),{});return Object.assign(g,a)}(o.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema)),o?.id&&(this._debugTag=this._caller.debugTag=`#${o.id} [${o.name}]`);try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(a){console.warn(a)}n&&n.call(this,o)}catch(o){console.error(`${this._debugTag} [Ready Error]`,o)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(t){typeof t=="function"&&(this._beforeunloadCallback=t)}provideModel(t){return this.caller._extendUserModel(t),this}provideTheme(t){return this.caller.call("provider:theme",t),this}provideStyle(t){return this.caller.call("provider:style",t),this}provideUI(t){return this.caller.call("provider:ui",t),this}useSettingsSchema(t){return this.connected&&this.caller.call("settings:schema",{schema:t,isSync:!0}),this._settingsSchema=t,this}updateSettings(t){this.caller.call("settings:update",t)}onSettingsChanged(t){const n="settings:changed";return this.on(n,t),()=>this.off(n,t)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(t){this.caller.call("main-ui:attrs",t)}setMainUIInlineStyle(t){this.caller.call("main-ui:style",t)}hideMainUI(t){const n={key:0,visible:!1,cursor:t?.restoreEditingCursor};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}showMainUI(t){const n={key:0,visible:!0,autoFocus:t?.autoFocus};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}toggleMainUI(){const t=this._ui.get(0);t&&t.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const t=this._ui.get(0);return Boolean(t&&t.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get settings(){return this.baseInfo?.settings}get caller(){return this._caller}resolveResourceFullUrl(t){if(this.ensureConnected(),t)return t=t.replace(/^[.\\/]+/,""),function(n,...o){try{const a=new URL(n);if(!a.origin)throw new Error(null);const p=Ee.join(n.substr(a.origin.length),...o);return a.origin+p}catch{return Ee.join(n,...o)}}(this._baseInfo.lsr,t)}_makeUserProxy(t,n){const o=this,a=this.caller;return new Proxy(t,{get(p,g,A){const T=p[g];return function(...y){if(T&&T.apply(o,y.concat(n))!==on)return;if(n){const R=g.toString().match(/^(once|off|on)/i);if(R!=null){const G=R[0].toLowerCase(),st=R.input.slice(G.length),Pt=G==="off",$t=o.baseInfo.id,rt=`hook:${n}:${re(st)}`,St=y[0];return a[G](rt,St),Pt||o.App._installPluginHook($t,rt),()=>{a.off(rt,St),a.listenerCount(rt)||o.App._uninstallPluginHook($t,rt)}}}let $=g;return["git","ui","assets"].includes(n)&&($=n+"_"+$),a.callAsync("api:call",{tag:n,method:$,args:y})}}})}_execCallableAPIAsync(t,...n){return this._caller.callAsync("api:call",{method:t,args:n})}_execCallableAPI(t,...n){this._caller.call("api:call",{method:t,args:n})}_callWin(...t){return this._execCallableAPIAsync("_callMainWin",...t)}get App(){return this._makeUserProxy(S,"app")}get Editor(){return this._makeUserProxy(V,"editor")}get DB(){return this._makeUserProxy(nt,"db")}get Git(){return this._makeUserProxy(bt,"git")}get UI(){return this._makeUserProxy(ht,"ui")}get Assets(){return this._makeUserProxy(we,"assets")}get FileStorage(){let t=this._mFileStorage;return t||(t=this._mFileStorage=new nn(this)),t}get Experiments(){let t=this._mExperiments;return t||(t=this._mExperiments=new rn(this)),t}}function Ie(e,t){return new _t(e,t)}if(window.__LSP__HOST__==null){const e=new Ft(null);window.logseq=Ie({},e)}})(),wt})()})})(yn,yn.exports);const mn={id:"_pengx17-logseq-bullet-threading",icon:"./logo.png"},bn="logseq-bullet-threading",wn=()=>JSON.parse(localStorage.getItem(bn)??"null"),gn=wn(),xn=X=>{localStorage.setItem(bn,JSON.stringify(X))},Cn=async()=>(await fetch("https://api.github.com/repos/pengx17/logseq-dev-theme/releases?per_page=1").then(ot=>ot.json()))[0].name,Sn=X=>fetch(`https://cdn.jsdelivr.net/gh/pengx17/logseq-dev-theme@${X}/bullet_threading.css`).then(ot=>ot.text());function vn(){let X=logseq.settings?.width??2;const ot=logseq.settings?.customColor&&logseq.settings?.color;(""+X).endsWith("px")||(X=X+"px");const te=[["--ls-block-bullet-threading-width-overwrite",X]];ot&&te.push(["--ls-block-bullet-threading-active-color-overwrite",ot]);const Rt=te.map(W=>W.join(": ")+";").join(`
`);logseq.provideStyle({key:mn.id+"-vars",style:`:root { ${Rt} }`})}async function On(){vn(),logseq.onSettingsChanged(vn),gn&&logseq.provideStyle({key:mn.id,style:gn.css});const X=await Cn();if(X!==gn?.version){console.log("logseq-bullet-threading: updating to latest version "+X);const ot=await Sn(X);logseq.provideStyle({key:mn.id+"-styles",style:ot}),xn({css:ot,version:X})}}logseq.useSettingsSchema([{key:"width",default:"2px",description:"Width of the bullet threading.",title:"Width of the bullet threading path",type:"enum",enumPicker:"radio",enumChoices:["1px","2px","3px"]},{key:"customColor",default:!1,description:"Overwrite threading path color?",title:"Whether or not to overwrite threading path color.",type:"boolean"},{key:"color",default:"",description:"Color of the bullet threading. You need to enable 'Overwrite threading path color?' first",title:"Color of the bullet threading path.",type:"string",inputAs:"color"}]).ready(On).catch(console.error);
