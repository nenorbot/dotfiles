(function(){const C=document.createElement("link").relList;if(C&&C.supports&&C.supports("modulepreload"))return;for(const H of document.querySelectorAll('link[rel="modulepreload"]'))te(H);new MutationObserver(H=>{for(const ke of H)if(ke.type==="childList")for(const D of ke.addedNodes)D.tagName==="LINK"&&D.rel==="modulepreload"&&te(D)}).observe(document,{childList:!0,subtree:!0});function B(H){const ke={};return H.integrity&&(ke.integrity=H.integrity),H.referrerpolicy&&(ke.referrerPolicy=H.referrerpolicy),H.crossorigin==="use-credentials"?ke.credentials="include":H.crossorigin==="anonymous"?ke.credentials="omit":ke.credentials="same-origin",ke}function te(H){if(H.ep)return;H.ep=!0;const ke=B(H);fetch(H.href,ke)}})();var br=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Or={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */(function(g,C){(function(B,te){g.exports=te()})(self,()=>(()=>{var B={227:(D,p,S)=>{var M=S(155);p.formatArgs=function(T){if(T[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+T[0]+(this.useColors?"%c ":" ")+"+"+D.exports.humanize(this.diff),!this.useColors)return;const G="color: "+this.color;T.splice(1,0,G,"color: inherit");let m=0,c=0;T[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(m++,b==="%c"&&(c=m))}),T.splice(c,0,G)},p.save=function(T){try{T?p.storage.setItem("debug",T):p.storage.removeItem("debug")}catch{}},p.load=function(){let T;try{T=p.storage.getItem("debug")}catch{}return!T&&M!==void 0&&"env"in M&&(T=M.env.DEBUG),T},p.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer"&&!window.process.__nwjs)||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},p.storage=function(){try{return localStorage}catch{}}(),p.destroy=(()=>{let T=!1;return()=>{T||(T=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),p.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],p.log=console.debug||console.log||(()=>{}),D.exports=S(447)(p);const{formatters:_}=D.exports;_.j=function(T){try{return JSON.stringify(T)}catch(G){return"[UnexpectedJSONParseError]: "+G.message}}},447:(D,p,S)=>{D.exports=function(M){function _(m){let c,b,y,$=null;function U(...A){if(!U.enabled)return;const W=U,j=Number(new Date),F=j-(c||j);W.diff=F,W.prev=c,W.curr=j,c=j,A[0]=_.coerce(A[0]),typeof A[0]!="string"&&A.unshift("%O");let a=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,(i,f)=>{if(i==="%%")return"%";a++;const I=_.formatters[f];if(typeof I=="function"){const Z=A[a];i=I.call(W,Z),A.splice(a,1),a--}return i}),_.formatArgs.call(W,A),(W.log||_.log).apply(W,A)}return U.namespace=m,U.useColors=_.useColors(),U.color=_.selectColor(m),U.extend=T,U.destroy=_.destroy,Object.defineProperty(U,"enabled",{enumerable:!0,configurable:!1,get:()=>$!==null?$:(b!==_.namespaces&&(b=_.namespaces,y=_.enabled(m)),y),set:A=>{$=A}}),typeof _.init=="function"&&_.init(U),U}function T(m,c){const b=_(this.namespace+(c===void 0?":":c)+m);return b.log=this.log,b}function G(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}return _.debug=_,_.default=_,_.coerce=function(m){return m instanceof Error?m.stack||m.message:m},_.disable=function(){const m=[..._.names.map(G),..._.skips.map(G).map(c=>"-"+c)].join(",");return _.enable(""),m},_.enable=function(m){let c;_.save(m),_.namespaces=m,_.names=[],_.skips=[];const b=(typeof m=="string"?m:"").split(/[\s,]+/),y=b.length;for(c=0;c<y;c++)b[c]&&((m=b[c].replace(/\*/g,".*?"))[0]==="-"?_.skips.push(new RegExp("^"+m.slice(1)+"$")):_.names.push(new RegExp("^"+m+"$")))},_.enabled=function(m){if(m[m.length-1]==="*")return!0;let c,b;for(c=0,b=_.skips.length;c<b;c++)if(_.skips[c].test(m))return!1;for(c=0,b=_.names.length;c<b;c++)if(_.names[c].test(m))return!0;return!1},_.humanize=S(824),_.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(M).forEach(m=>{_[m]=M[m]}),_.names=[],_.skips=[],_.formatters={},_.selectColor=function(m){let c=0;for(let b=0;b<m.length;b++)c=(c<<5)-c+m.charCodeAt(b),c|=0;return _.colors[Math.abs(c)%_.colors.length]},_.enable(_.load()),_}},856:function(D){D.exports=function(){function p(z){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},p(z)}function S(z,k){return S=Object.setPrototypeOf||function(O,V){return O.__proto__=V,O},S(z,k)}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(z,k,O){return _=M()?Reflect.construct:function(V,ie,Ee){var Ve=[null];Ve.push.apply(Ve,ie);var Ge=new(Function.bind.apply(V,Ve));return Ee&&S(Ge,Ee.prototype),Ge},_.apply(null,arguments)}function T(z){return function(k){if(Array.isArray(k))return G(k)}(z)||function(k){if(typeof Symbol<"u"&&k[Symbol.iterator]!=null||k["@@iterator"]!=null)return Array.from(k)}(z)||function(k,O){if(k){if(typeof k=="string")return G(k,O);var V=Object.prototype.toString.call(k).slice(8,-1);return V==="Object"&&k.constructor&&(V=k.constructor.name),V==="Map"||V==="Set"?Array.from(k):V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V)?G(k,O):void 0}}(z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function G(z,k){(k==null||k>z.length)&&(k=z.length);for(var O=0,V=new Array(k);O<k;O++)V[O]=z[O];return V}var m=Object.hasOwnProperty,c=Object.setPrototypeOf,b=Object.isFrozen,y=Object.getPrototypeOf,$=Object.getOwnPropertyDescriptor,U=Object.freeze,A=Object.seal,W=Object.create,j=typeof Reflect<"u"&&Reflect,F=j.apply,a=j.construct;F||(F=function(z,k,O){return z.apply(k,O)}),U||(U=function(z){return z}),A||(A=function(z){return z}),a||(a=function(z,k){return _(z,T(k))});var i,f=l(Array.prototype.forEach),I=l(Array.prototype.pop),Z=l(Array.prototype.push),X=l(String.prototype.toLowerCase),ae=l(String.prototype.match),ce=l(String.prototype.replace),Ce=l(String.prototype.indexOf),Ie=l(String.prototype.trim),ue=l(RegExp.prototype.test),Ye=(i=TypeError,function(){for(var z=arguments.length,k=new Array(z),O=0;O<z;O++)k[O]=arguments[O];return a(i,k)});function l(z){return function(k){for(var O=arguments.length,V=new Array(O>1?O-1:0),ie=1;ie<O;ie++)V[ie-1]=arguments[ie];return F(z,k,V)}}function u(z,k){c&&c(z,null);for(var O=k.length;O--;){var V=k[O];if(typeof V=="string"){var ie=X(V);ie!==V&&(b(k)||(k[O]=ie),V=ie)}z[V]=!0}return z}function P(z){var k,O=W(null);for(k in z)F(m,z,[k])&&(O[k]=z[k]);return O}function re(z,k){for(;z!==null;){var O=$(z,k);if(O){if(O.get)return l(O.get);if(typeof O.value=="function")return l(O.value)}z=y(z)}return function(V){return console.warn("fallback value for",V),null}}var we=U(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),he=U(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),J=U(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),pe=U(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),be=U(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ye=U(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ze=U(["#text"]),Se=U(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),de=U(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ne=U(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ge=U(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Le=A(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Je=A(/<%[\w\W]*|[\w\W]*%>/gm),qe=A(/^data-[\-\w.\u00B7-\uFFFF]/),Be=A(/^aria-[\-\w]+$/),ht=A(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ot=A(/^(?:\w+script|data):/i),Zt=A(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),vr=A(/^html$/i),Yt=function(){return typeof window>"u"?null:window},kr=function(z,k){if(p(z)!=="object"||typeof z.createPolicy!="function")return null;var O=null,V="data-tt-policy-suffix";k.currentScript&&k.currentScript.hasAttribute(V)&&(O=k.currentScript.getAttribute(V));var ie="dompurify"+(O?"#"+O:"");try{return z.createPolicy(ie,{createHTML:function(Ee){return Ee}})}catch{return console.warn("TrustedTypes policy "+ie+" could not be created."),null}};return function z(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yt(),O=function(n){return z(n)};if(O.version="2.3.8",O.removed=[],!k||!k.document||k.document.nodeType!==9)return O.isSupported=!1,O;var V=k.document,ie=k.document,Ee=k.DocumentFragment,Ve=k.HTMLTemplateElement,Ge=k.Node,Jt=k.Element,xt=k.NodeFilter,gt=k.NamedNodeMap,Ct=gt===void 0?k.NamedNodeMap||k.MozNamedAttrMap:gt,Vt=k.HTMLFormElement,St=k.DOMParser,Xt=k.trustedTypes,at=Jt.prototype,Qt=re(at,"cloneNode"),Kt=re(at,"nextSibling"),wr=re(at,"childNodes"),Et=re(at,"parentNode");if(typeof Ve=="function"){var mt=ie.createElement("template");mt.content&&mt.content.ownerDocument&&(ie=mt.content.ownerDocument)}var Fe=kr(Xt,V),er=Fe?Fe.createHTML(""):"",ee=ie,bt=ee.implementation,it=ee.createNodeIterator,jt=ee.createDocumentFragment,tr=ee.getElementsByTagName,rr=V.importNode,Tt={};try{Tt=P(ie).documentMode?ie.documentMode:{}}catch{}var je={};O.isSupported=typeof Et=="function"&&bt&&bt.createHTMLDocument!==void 0&&Tt!==9;var st,$e,At=Le,yt=Je,_r=qe,Ir=Be,xr=ot,nr=Zt,vt=ht,me=null,or=u({},[].concat(T(we),T(he),T(J),T(be),T(ze))),ve=null,Ot=u({},[].concat(T(Se),T(de),T(ne),T(ge))),fe=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Xe=null,Lt=null,ar=!0,Ut=!0,ir=!1,Qe=!1,Ue=!1,Ke=!1,Pt=!1,et=!1,kt=!1,lt=!1,Mt=!0,tt=!0,ct=!1,De={},rt=null,sr=u({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Nt=null,Re=u({},["audio","video","img","source","image","track"]),Ft=null,lr=u({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ut="http://www.w3.org/1998/Math/MathML",Dt="http://www.w3.org/2000/svg",He="http://www.w3.org/1999/xhtml",wt=He,cr=!1,ur=["application/xhtml+xml","text/html"],Rt="text/html",nt=null,Cr=ie.createElement("form"),pr=function(n){return n instanceof RegExp||n instanceof Function},Ht=function(n){nt&&nt===n||(n&&p(n)==="object"||(n={}),n=P(n),me="ALLOWED_TAGS"in n?u({},n.ALLOWED_TAGS):or,ve="ALLOWED_ATTR"in n?u({},n.ALLOWED_ATTR):Ot,Ft="ADD_URI_SAFE_ATTR"in n?u(P(lr),n.ADD_URI_SAFE_ATTR):lr,Nt="ADD_DATA_URI_TAGS"in n?u(P(Re),n.ADD_DATA_URI_TAGS):Re,rt="FORBID_CONTENTS"in n?u({},n.FORBID_CONTENTS):sr,Xe="FORBID_TAGS"in n?u({},n.FORBID_TAGS):{},Lt="FORBID_ATTR"in n?u({},n.FORBID_ATTR):{},De="USE_PROFILES"in n&&n.USE_PROFILES,ar=n.ALLOW_ARIA_ATTR!==!1,Ut=n.ALLOW_DATA_ATTR!==!1,ir=n.ALLOW_UNKNOWN_PROTOCOLS||!1,Qe=n.SAFE_FOR_TEMPLATES||!1,Ue=n.WHOLE_DOCUMENT||!1,et=n.RETURN_DOM||!1,kt=n.RETURN_DOM_FRAGMENT||!1,lt=n.RETURN_TRUSTED_TYPE||!1,Pt=n.FORCE_BODY||!1,Mt=n.SANITIZE_DOM!==!1,tt=n.KEEP_CONTENT!==!1,ct=n.IN_PLACE||!1,vt=n.ALLOWED_URI_REGEXP||vt,wt=n.NAMESPACE||He,n.CUSTOM_ELEMENT_HANDLING&&pr(n.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(fe.tagNameCheck=n.CUSTOM_ELEMENT_HANDLING.tagNameCheck),n.CUSTOM_ELEMENT_HANDLING&&pr(n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(fe.attributeNameCheck=n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),n.CUSTOM_ELEMENT_HANDLING&&typeof n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(fe.allowCustomizedBuiltInElements=n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),st=st=ur.indexOf(n.PARSER_MEDIA_TYPE)===-1?Rt:n.PARSER_MEDIA_TYPE,$e=st==="application/xhtml+xml"?function(x){return x}:X,Qe&&(Ut=!1),kt&&(et=!0),De&&(me=u({},T(ze)),ve=[],De.html===!0&&(u(me,we),u(ve,Se)),De.svg===!0&&(u(me,he),u(ve,de),u(ve,ge)),De.svgFilters===!0&&(u(me,J),u(ve,de),u(ve,ge)),De.mathMl===!0&&(u(me,be),u(ve,ne),u(ve,ge))),n.ADD_TAGS&&(me===or&&(me=P(me)),u(me,n.ADD_TAGS)),n.ADD_ATTR&&(ve===Ot&&(ve=P(ve)),u(ve,n.ADD_ATTR)),n.ADD_URI_SAFE_ATTR&&u(Ft,n.ADD_URI_SAFE_ATTR),n.FORBID_CONTENTS&&(rt===sr&&(rt=P(rt)),u(rt,n.FORBID_CONTENTS)),tt&&(me["#text"]=!0),Ue&&u(me,["html","head","body"]),me.table&&(u(me,["tbody"]),delete Xe.tbody),U&&U(n),nt=n)},Pe=u({},["mi","mo","mn","ms","mtext"]),pt=u({},["foreignobject","desc","title","annotation-xml"]),dr=u({},["title","style","font","a","script"]),We=u({},he);u(We,J),u(We,pe);var zt=u({},be);u(zt,ye);var fr=function(n){var x=Et(n);x&&x.tagName||(x={namespaceURI:He,tagName:"template"});var v=X(n.tagName),K=X(x.tagName);return n.namespaceURI===Dt?x.namespaceURI===He?v==="svg":x.namespaceURI===ut?v==="svg"&&(K==="annotation-xml"||Pe[K]):Boolean(We[v]):n.namespaceURI===ut?x.namespaceURI===He?v==="math":x.namespaceURI===Dt?v==="math"&&pt[K]:Boolean(zt[v]):n.namespaceURI===He&&!(x.namespaceURI===Dt&&!pt[K])&&!(x.namespaceURI===ut&&!Pe[K])&&!zt[v]&&(dr[v]||!We[v])},Me=function(n){Z(O.removed,{element:n});try{n.parentNode.removeChild(n)}catch{try{n.outerHTML=er}catch{n.remove()}}},qt=function(n,x){try{Z(O.removed,{attribute:x.getAttributeNode(n),from:x})}catch{Z(O.removed,{attribute:null,from:x})}if(x.removeAttribute(n),n==="is"&&!ve[n])if(et||kt)try{Me(x)}catch{}else try{x.setAttribute(n,"")}catch{}},hr=function(n){var x,v;if(Pt)n="<remove></remove>"+n;else{var K=ae(n,/^[\r\n\t ]+/);v=K&&K[0]}st==="application/xhtml+xml"&&(n='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+n+"</body></html>");var le=Fe?Fe.createHTML(n):n;if(wt===He)try{x=new St().parseFromString(le,st)}catch{}if(!x||!x.documentElement){x=bt.createDocument(wt,"template",null);try{x.documentElement.innerHTML=cr?"":le}catch{}}var t=x.body||x.documentElement;return n&&v&&t.insertBefore(ie.createTextNode(v),t.childNodes[0]||null),wt===He?tr.call(x,Ue?"html":"body")[0]:Ue?x.documentElement:t},_t=function(n){return it.call(n.ownerDocument||n,n,xt.SHOW_ELEMENT|xt.SHOW_COMMENT|xt.SHOW_TEXT,null,!1)},Sr=function(n){return n instanceof Vt&&(typeof n.nodeName!="string"||typeof n.textContent!="string"||typeof n.removeChild!="function"||!(n.attributes instanceof Ct)||typeof n.removeAttribute!="function"||typeof n.setAttribute!="function"||typeof n.namespaceURI!="string"||typeof n.insertBefore!="function")},dt=function(n){return p(Ge)==="object"?n instanceof Ge:n&&p(n)==="object"&&typeof n.nodeType=="number"&&typeof n.nodeName=="string"},xe=function(n,x,v){je[n]&&f(je[n],function(K){K.call(O,x,v,nt)})},ft=function(n){var x;if(xe("beforeSanitizeElements",n,null),Sr(n)||ue(/[\u0080-\uFFFF]/,n.nodeName))return Me(n),!0;var v=$e(n.nodeName);if(xe("uponSanitizeElement",n,{tagName:v,allowedTags:me}),n.hasChildNodes()&&!dt(n.firstElementChild)&&(!dt(n.content)||!dt(n.content.firstElementChild))&&ue(/<[/\w]/g,n.innerHTML)&&ue(/<[/\w]/g,n.textContent)||v==="select"&&ue(/<template/i,n.innerHTML))return Me(n),!0;if(!me[v]||Xe[v]){if(!Xe[v]&&Bt(v)&&(fe.tagNameCheck instanceof RegExp&&ue(fe.tagNameCheck,v)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(v)))return!1;if(tt&&!rt[v]){var K=Et(n)||n.parentNode,le=wr(n)||n.childNodes;if(le&&K)for(var t=le.length-1;t>=0;--t)K.insertBefore(Qt(le[t],!0),Kt(n))}return Me(n),!0}return n instanceof Jt&&!fr(n)?(Me(n),!0):v!=="noscript"&&v!=="noembed"||!ue(/<\/no(script|embed)/i,n.innerHTML)?(Qe&&n.nodeType===3&&(x=n.textContent,x=ce(x,At," "),x=ce(x,yt," "),n.textContent!==x&&(Z(O.removed,{element:n.cloneNode()}),n.textContent=x)),xe("afterSanitizeElements",n,null),!1):(Me(n),!0)},gr=function(n,x,v){if(Mt&&(x==="id"||x==="name")&&(v in ie||v in Cr))return!1;if(!(Ut&&!Lt[x]&&ue(_r,x))){if(!(ar&&ue(Ir,x))){if(!ve[x]||Lt[x]){if(!(Bt(n)&&(fe.tagNameCheck instanceof RegExp&&ue(fe.tagNameCheck,n)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(n))&&(fe.attributeNameCheck instanceof RegExp&&ue(fe.attributeNameCheck,x)||fe.attributeNameCheck instanceof Function&&fe.attributeNameCheck(x))||x==="is"&&fe.allowCustomizedBuiltInElements&&(fe.tagNameCheck instanceof RegExp&&ue(fe.tagNameCheck,v)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(v))))return!1}else if(!Ft[x]){if(!ue(vt,ce(v,nr,""))){if((x!=="src"&&x!=="xlink:href"&&x!=="href"||n==="script"||Ce(v,"data:")!==0||!Nt[n])&&!(ir&&!ue(xr,ce(v,nr,"")))){if(v)return!1}}}}}return!0},Bt=function(n){return n.indexOf("-")>0},mr=function(n){var x,v,K,le;xe("beforeSanitizeAttributes",n,null);var t=n.attributes;if(t){var e={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ve};for(le=t.length;le--;){var r=x=t[le],o=r.name,s=r.namespaceURI;if(v=o==="value"?x.value:Ie(x.value),K=$e(o),e.attrName=K,e.attrValue=v,e.keepAttr=!0,e.forceKeepAttr=void 0,xe("uponSanitizeAttribute",n,e),v=e.attrValue,!e.forceKeepAttr&&(qt(o,n),e.keepAttr))if(ue(/\/>/i,v))qt(o,n);else{Qe&&(v=ce(v,At," "),v=ce(v,yt," "));var d=$e(n.nodeName);if(gr(d,K,v))try{s?n.setAttributeNS(s,o,v):n.setAttribute(o,v),I(O.removed)}catch{}}}xe("afterSanitizeAttributes",n,null)}},Er=function n(x){var v,K=_t(x);for(xe("beforeSanitizeShadowDOM",x,null);v=K.nextNode();)xe("uponSanitizeShadowNode",v,null),ft(v)||(v.content instanceof Ee&&n(v.content),mr(v));xe("afterSanitizeShadowDOM",x,null)};return O.sanitize=function(n,x){var v,K,le,t,e;if((cr=!n)&&(n="<!-->"),typeof n!="string"&&!dt(n)){if(typeof n.toString!="function")throw Ye("toString is not a function");if(typeof(n=n.toString())!="string")throw Ye("dirty is not a string, aborting")}if(!O.isSupported){if(p(k.toStaticHTML)==="object"||typeof k.toStaticHTML=="function"){if(typeof n=="string")return k.toStaticHTML(n);if(dt(n))return k.toStaticHTML(n.outerHTML)}return n}if(Ke||Ht(x),O.removed=[],typeof n=="string"&&(ct=!1),ct){if(n.nodeName){var r=$e(n.nodeName);if(!me[r]||Xe[r])throw Ye("root node is forbidden and cannot be sanitized in-place")}}else if(n instanceof Ge)(K=(v=hr("<!---->")).ownerDocument.importNode(n,!0)).nodeType===1&&K.nodeName==="BODY"||K.nodeName==="HTML"?v=K:v.appendChild(K);else{if(!et&&!Qe&&!Ue&&n.indexOf("<")===-1)return Fe&&lt?Fe.createHTML(n):n;if(!(v=hr(n)))return et?null:lt?er:""}v&&Pt&&Me(v.firstChild);for(var o=_t(ct?n:v);le=o.nextNode();)le.nodeType===3&&le===t||ft(le)||(le.content instanceof Ee&&Er(le.content),mr(le),t=le);if(t=null,ct)return n;if(et){if(kt)for(e=jt.call(v.ownerDocument);v.firstChild;)e.appendChild(v.firstChild);else e=v;return ve.shadowroot&&(e=rr.call(V,e,!0)),e}var s=Ue?v.outerHTML:v.innerHTML;return Ue&&me["!doctype"]&&v.ownerDocument&&v.ownerDocument.doctype&&v.ownerDocument.doctype.name&&ue(vr,v.ownerDocument.doctype.name)&&(s="<!DOCTYPE "+v.ownerDocument.doctype.name+`>
`+s),Qe&&(s=ce(s,At," "),s=ce(s,yt," ")),Fe&&lt?Fe.createHTML(s):s},O.setConfig=function(n){Ht(n),Ke=!0},O.clearConfig=function(){nt=null,Ke=!1},O.isValidAttribute=function(n,x,v){nt||Ht({});var K=$e(n),le=$e(x);return gr(K,le,v)},O.addHook=function(n,x){typeof x=="function"&&(je[n]=je[n]||[],Z(je[n],x))},O.removeHook=function(n){if(je[n])return I(je[n])},O.removeHooks=function(n){je[n]&&(je[n]=[])},O.removeAllHooks=function(){je={}},O}()}()},729:D=>{var p=Object.prototype.hasOwnProperty,S="~";function M(){}function _(c,b,y){this.fn=c,this.context=b,this.once=y||!1}function T(c,b,y,$,U){if(typeof y!="function")throw new TypeError("The listener must be a function");var A=new _(y,$||c,U),W=S?S+b:b;return c._events[W]?c._events[W].fn?c._events[W]=[c._events[W],A]:c._events[W].push(A):(c._events[W]=A,c._eventsCount++),c}function G(c,b){--c._eventsCount==0?c._events=new M:delete c._events[b]}function m(){this._events=new M,this._eventsCount=0}Object.create&&(M.prototype=Object.create(null),new M().__proto__||(S=!1)),m.prototype.eventNames=function(){var c,b,y=[];if(this._eventsCount===0)return y;for(b in c=this._events)p.call(c,b)&&y.push(S?b.slice(1):b);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(c)):y},m.prototype.listeners=function(c){var b=S?S+c:c,y=this._events[b];if(!y)return[];if(y.fn)return[y.fn];for(var $=0,U=y.length,A=new Array(U);$<U;$++)A[$]=y[$].fn;return A},m.prototype.listenerCount=function(c){var b=S?S+c:c,y=this._events[b];return y?y.fn?1:y.length:0},m.prototype.emit=function(c,b,y,$,U,A){var W=S?S+c:c;if(!this._events[W])return!1;var j,F,a=this._events[W],i=arguments.length;if(a.fn){switch(a.once&&this.removeListener(c,a.fn,void 0,!0),i){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,b),!0;case 3:return a.fn.call(a.context,b,y),!0;case 4:return a.fn.call(a.context,b,y,$),!0;case 5:return a.fn.call(a.context,b,y,$,U),!0;case 6:return a.fn.call(a.context,b,y,$,U,A),!0}for(F=1,j=new Array(i-1);F<i;F++)j[F-1]=arguments[F];a.fn.apply(a.context,j)}else{var f,I=a.length;for(F=0;F<I;F++)switch(a[F].once&&this.removeListener(c,a[F].fn,void 0,!0),i){case 1:a[F].fn.call(a[F].context);break;case 2:a[F].fn.call(a[F].context,b);break;case 3:a[F].fn.call(a[F].context,b,y);break;case 4:a[F].fn.call(a[F].context,b,y,$);break;default:if(!j)for(f=1,j=new Array(i-1);f<i;f++)j[f-1]=arguments[f];a[F].fn.apply(a[F].context,j)}}return!0},m.prototype.on=function(c,b,y){return T(this,c,b,y,!1)},m.prototype.once=function(c,b,y){return T(this,c,b,y,!0)},m.prototype.removeListener=function(c,b,y,$){var U=S?S+c:c;if(!this._events[U])return this;if(!b)return G(this,U),this;var A=this._events[U];if(A.fn)A.fn!==b||$&&!A.once||y&&A.context!==y||G(this,U);else{for(var W=0,j=[],F=A.length;W<F;W++)(A[W].fn!==b||$&&!A[W].once||y&&A[W].context!==y)&&j.push(A[W]);j.length?this._events[U]=j.length===1?j[0]:j:G(this,U)}return this},m.prototype.removeAllListeners=function(c){var b;return c?(b=S?S+c:c,this._events[b]&&G(this,b)):(this._events=new M,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=S,m.EventEmitter=m,D.exports=m},824:D=>{var p=1e3,S=60*p,M=60*S,_=24*M;function T(G,m,c,b){var y=m>=1.5*c;return Math.round(G/c)+" "+b+(y?"s":"")}D.exports=function(G,m){m=m||{};var c,b,y=typeof G;if(y==="string"&&G.length>0)return function($){if(!(($=String($)).length>100)){var U=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(U){var A=parseFloat(U[1]);switch((U[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return 6048e5*A;case"days":case"day":case"d":return A*_;case"hours":case"hour":case"hrs":case"hr":case"h":return A*M;case"minutes":case"minute":case"mins":case"min":case"m":return A*S;case"seconds":case"second":case"secs":case"sec":case"s":return A*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(G);if(y==="number"&&isFinite(G))return m.long?(c=G,(b=Math.abs(c))>=_?T(c,b,_,"day"):b>=M?T(c,b,M,"hour"):b>=S?T(c,b,S,"minute"):b>=p?T(c,b,p,"second"):c+" ms"):function($){var U=Math.abs($);return U>=_?Math.round($/_)+"d":U>=M?Math.round($/M)+"h":U>=S?Math.round($/S)+"m":U>=p?Math.round($/p)+"s":$+"ms"}(G);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(G))}},520:(D,p,S)=>{var M=S(155),_=M.platform==="win32",T=S(539);function G(a,i){for(var f=[],I=0;I<a.length;I++){var Z=a[I];Z&&Z!=="."&&(Z===".."?f.length&&f[f.length-1]!==".."?f.pop():i&&f.push(".."):f.push(Z))}return f}function m(a){for(var i=a.length-1,f=0;f<=i&&!a[f];f++);for(var I=i;I>=0&&!a[I];I--);return f===0&&I===i?a:f>I?[]:a.slice(f,I+1)}var c=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,b=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,y={};function $(a){var i=c.exec(a),f=(i[1]||"")+(i[2]||""),I=i[3]||"",Z=b.exec(I);return[f,Z[1],Z[2],Z[3]]}function U(a){var i=c.exec(a),f=i[1]||"",I=!!f&&f[1]!==":";return{device:f,isUnc:I,isAbsolute:I||!!i[2],tail:i[3]}}function A(a){return"\\\\"+a.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}y.resolve=function(){for(var a="",i="",f=!1,I=arguments.length-1;I>=-1;I--){var Z;if(I>=0?Z=arguments[I]:a?(Z=M.env["="+a])&&Z.substr(0,3).toLowerCase()===a.toLowerCase()+"\\"||(Z=a+"\\"):Z=M.cwd(),!T.isString(Z))throw new TypeError("Arguments to path.resolve must be strings");if(Z){var X=U(Z),ae=X.device,ce=X.isUnc,Ce=X.isAbsolute,Ie=X.tail;if((!ae||!a||ae.toLowerCase()===a.toLowerCase())&&(a||(a=ae),f||(i=Ie+"\\"+i,f=Ce),a&&f))break}}return ce&&(a=A(a)),a+(f?"\\":"")+(i=G(i.split(/[\\\/]+/),!f).join("\\"))||"."},y.normalize=function(a){var i=U(a),f=i.device,I=i.isUnc,Z=i.isAbsolute,X=i.tail,ae=/[\\\/]$/.test(X);return(X=G(X.split(/[\\\/]+/),!Z).join("\\"))||Z||(X="."),X&&ae&&(X+="\\"),I&&(f=A(f)),f+(Z?"\\":"")+X},y.isAbsolute=function(a){return U(a).isAbsolute},y.join=function(){for(var a=[],i=0;i<arguments.length;i++){var f=arguments[i];if(!T.isString(f))throw new TypeError("Arguments to path.join must be strings");f&&a.push(f)}var I=a.join("\\");return/^[\\\/]{2}[^\\\/]/.test(a[0])||(I=I.replace(/^[\\\/]{2,}/,"\\")),y.normalize(I)},y.relative=function(a,i){a=y.resolve(a),i=y.resolve(i);for(var f=a.toLowerCase(),I=i.toLowerCase(),Z=m(i.split("\\")),X=m(f.split("\\")),ae=m(I.split("\\")),ce=Math.min(X.length,ae.length),Ce=ce,Ie=0;Ie<ce;Ie++)if(X[Ie]!==ae[Ie]){Ce=Ie;break}if(Ce==0)return i;var ue=[];for(Ie=Ce;Ie<X.length;Ie++)ue.push("..");return(ue=ue.concat(Z.slice(Ce))).join("\\")},y._makeLong=function(a){if(!T.isString(a))return a;if(!a)return"";var i=y.resolve(a);return/^[a-zA-Z]\:\\/.test(i)?"\\\\?\\"+i:/^\\\\[^?.]/.test(i)?"\\\\?\\UNC\\"+i.substring(2):a},y.dirname=function(a){var i=$(a),f=i[0],I=i[1];return f||I?(I&&(I=I.substr(0,I.length-1)),f+I):"."},y.basename=function(a,i){var f=$(a)[2];return i&&f.substr(-1*i.length)===i&&(f=f.substr(0,f.length-i.length)),f},y.extname=function(a){return $(a)[3]},y.format=function(a){if(!T.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var i=a.root||"";if(!T.isString(i))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);var f=a.dir,I=a.base||"";return f?f[f.length-1]===y.sep?f+I:f+y.sep+I:I},y.parse=function(a){if(!T.isString(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var i=$(a);if(!i||i.length!==4)throw new TypeError("Invalid path '"+a+"'");return{root:i[0],dir:i[0]+i[1].slice(0,-1),base:i[2],ext:i[3],name:i[2].slice(0,i[2].length-i[3].length)}},y.sep="\\",y.delimiter=";";var W=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,j={};function F(a){return W.exec(a).slice(1)}j.resolve=function(){for(var a="",i=!1,f=arguments.length-1;f>=-1&&!i;f--){var I=f>=0?arguments[f]:M.cwd();if(!T.isString(I))throw new TypeError("Arguments to path.resolve must be strings");I&&(a=I+"/"+a,i=I[0]==="/")}return(i?"/":"")+(a=G(a.split("/"),!i).join("/"))||"."},j.normalize=function(a){var i=j.isAbsolute(a),f=a&&a[a.length-1]==="/";return(a=G(a.split("/"),!i).join("/"))||i||(a="."),a&&f&&(a+="/"),(i?"/":"")+a},j.isAbsolute=function(a){return a.charAt(0)==="/"},j.join=function(){for(var a="",i=0;i<arguments.length;i++){var f=arguments[i];if(!T.isString(f))throw new TypeError("Arguments to path.join must be strings");f&&(a+=a?"/"+f:f)}return j.normalize(a)},j.relative=function(a,i){a=j.resolve(a).substr(1),i=j.resolve(i).substr(1);for(var f=m(a.split("/")),I=m(i.split("/")),Z=Math.min(f.length,I.length),X=Z,ae=0;ae<Z;ae++)if(f[ae]!==I[ae]){X=ae;break}var ce=[];for(ae=X;ae<f.length;ae++)ce.push("..");return(ce=ce.concat(I.slice(X))).join("/")},j._makeLong=function(a){return a},j.dirname=function(a){var i=F(a),f=i[0],I=i[1];return f||I?(I&&(I=I.substr(0,I.length-1)),f+I):"."},j.basename=function(a,i){var f=F(a)[2];return i&&f.substr(-1*i.length)===i&&(f=f.substr(0,f.length-i.length)),f},j.extname=function(a){return F(a)[3]},j.format=function(a){if(!T.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var i=a.root||"";if(!T.isString(i))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);return(a.dir?a.dir+j.sep:"")+(a.base||"")},j.parse=function(a){if(!T.isString(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var i=F(a);if(!i||i.length!==4)throw new TypeError("Invalid path '"+a+"'");return i[1]=i[1]||"",i[2]=i[2]||"",i[3]=i[3]||"",{root:i[0],dir:i[0]+i[1].slice(0,-1),base:i[2],ext:i[3],name:i[2].slice(0,i[2].length-i[3].length)}},j.sep="/",j.delimiter=":",D.exports=_?y:j,D.exports.posix=j,D.exports.win32=y},155:D=>{var p,S,M=D.exports={};function _(){throw new Error("setTimeout has not been defined")}function T(){throw new Error("clearTimeout has not been defined")}function G(j){if(p===setTimeout)return setTimeout(j,0);if((p===_||!p)&&setTimeout)return p=setTimeout,setTimeout(j,0);try{return p(j,0)}catch{try{return p.call(null,j,0)}catch{return p.call(this,j,0)}}}(function(){try{p=typeof setTimeout=="function"?setTimeout:_}catch{p=_}try{S=typeof clearTimeout=="function"?clearTimeout:T}catch{S=T}})();var m,c=[],b=!1,y=-1;function $(){b&&m&&(b=!1,m.length?c=m.concat(c):y=-1,c.length&&U())}function U(){if(!b){var j=G($);b=!0;for(var F=c.length;F;){for(m=c,c=[];++y<F;)m&&m[y].run();y=-1,F=c.length}m=null,b=!1,function(a){if(S===clearTimeout)return clearTimeout(a);if((S===T||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(a);try{S(a)}catch{try{return S.call(null,a)}catch{return S.call(this,a)}}}(j)}}function A(j,F){this.fun=j,this.array=F}function W(){}M.nextTick=function(j){var F=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)F[a-1]=arguments[a];c.push(new A(j,F)),c.length!==1||b||G(U)},A.prototype.run=function(){this.fun.apply(null,this.array)},M.title="browser",M.browser=!0,M.env={},M.argv=[],M.version="",M.versions={},M.on=W,M.addListener=W,M.once=W,M.off=W,M.removeListener=W,M.removeAllListeners=W,M.emit=W,M.prependListener=W,M.prependOnceListener=W,M.listeners=function(j){return[]},M.binding=function(j){throw new Error("process.binding is not supported")},M.cwd=function(){return"/"},M.chdir=function(j){throw new Error("process.chdir is not supported")},M.umask=function(){return 0}},496:D=>{typeof Object.create=="function"?D.exports=function(p,S){p.super_=S,p.prototype=Object.create(S.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}})}:D.exports=function(p,S){p.super_=S;var M=function(){};M.prototype=S.prototype,p.prototype=new M,p.prototype.constructor=p}},384:D=>{D.exports=function(p){return p&&typeof p=="object"&&typeof p.copy=="function"&&typeof p.fill=="function"&&typeof p.readUInt8=="function"}},539:(D,p,S)=>{var M=S(155),_=/%[sdj%]/g;p.format=function(l){if(!a(l)){for(var u=[],P=0;P<arguments.length;P++)u.push(m(arguments[P]));return u.join(" ")}P=1;for(var re=arguments,we=re.length,he=String(l).replace(_,function(pe){if(pe==="%%")return"%";if(P>=we)return pe;switch(pe){case"%s":return String(re[P++]);case"%d":return Number(re[P++]);case"%j":try{return JSON.stringify(re[P++])}catch{return"[Circular]"}default:return pe}}),J=re[P];P<we;J=re[++P])j(J)||!I(J)?he+=" "+J:he+=" "+m(J);return he},p.deprecate=function(l,u){if(i(S.g.process))return function(){return p.deprecate(l,u).apply(this,arguments)};if(M.noDeprecation===!0)return l;var P=!1;return function(){if(!P){if(M.throwDeprecation)throw new Error(u);M.traceDeprecation?console.trace(u):console.error(u),P=!0}return l.apply(this,arguments)}};var T,G={};function m(l,u){var P={seen:[],stylize:b};return arguments.length>=3&&(P.depth=arguments[2]),arguments.length>=4&&(P.colors=arguments[3]),W(u)?P.showHidden=u:u&&p._extend(P,u),i(P.showHidden)&&(P.showHidden=!1),i(P.depth)&&(P.depth=2),i(P.colors)&&(P.colors=!1),i(P.customInspect)&&(P.customInspect=!0),P.colors&&(P.stylize=c),y(P,l,P.depth)}function c(l,u){var P=m.styles[u];return P?"\x1B["+m.colors[P][0]+"m"+l+"\x1B["+m.colors[P][1]+"m":l}function b(l,u){return l}function y(l,u,P){if(l.customInspect&&u&&ae(u.inspect)&&u.inspect!==p.inspect&&(!u.constructor||u.constructor.prototype!==u)){var re=u.inspect(P,l);return a(re)||(re=y(l,re,P)),re}var we=function(de,ne){if(i(ne))return de.stylize("undefined","undefined");if(a(ne)){var ge="'"+JSON.stringify(ne).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return de.stylize(ge,"string")}return F(ne)?de.stylize(""+ne,"number"):W(ne)?de.stylize(""+ne,"boolean"):j(ne)?de.stylize("null","null"):void 0}(l,u);if(we)return we;var he=Object.keys(u),J=function(de){var ne={};return de.forEach(function(ge,Le){ne[ge]=!0}),ne}(he);if(l.showHidden&&(he=Object.getOwnPropertyNames(u)),X(u)&&(he.indexOf("message")>=0||he.indexOf("description")>=0))return $(u);if(he.length===0){if(ae(u)){var pe=u.name?": "+u.name:"";return l.stylize("[Function"+pe+"]","special")}if(f(u))return l.stylize(RegExp.prototype.toString.call(u),"regexp");if(Z(u))return l.stylize(Date.prototype.toString.call(u),"date");if(X(u))return $(u)}var be,ye="",ze=!1,Se=["{","}"];return A(u)&&(ze=!0,Se=["[","]"]),ae(u)&&(ye=" [Function"+(u.name?": "+u.name:"")+"]"),f(u)&&(ye=" "+RegExp.prototype.toString.call(u)),Z(u)&&(ye=" "+Date.prototype.toUTCString.call(u)),X(u)&&(ye=" "+$(u)),he.length!==0||ze&&u.length!=0?P<0?f(u)?l.stylize(RegExp.prototype.toString.call(u),"regexp"):l.stylize("[Object]","special"):(l.seen.push(u),be=ze?function(de,ne,ge,Le,Je){for(var qe=[],Be=0,ht=ne.length;Be<ht;++Be)Ye(ne,String(Be))?qe.push(U(de,ne,ge,Le,String(Be),!0)):qe.push("");return Je.forEach(function(ot){ot.match(/^\d+$/)||qe.push(U(de,ne,ge,Le,ot,!0))}),qe}(l,u,P,J,he):he.map(function(de){return U(l,u,P,J,de,ze)}),l.seen.pop(),function(de,ne,ge){return de.reduce(function(Le,Je){return Je.indexOf(`
`),Le+Je.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?ge[0]+(ne===""?"":ne+`
 `)+" "+de.join(`,
  `)+" "+ge[1]:ge[0]+ne+" "+de.join(", ")+" "+ge[1]}(be,ye,Se)):Se[0]+ye+Se[1]}function $(l){return"["+Error.prototype.toString.call(l)+"]"}function U(l,u,P,re,we,he){var J,pe,be;if((be=Object.getOwnPropertyDescriptor(u,we)||{value:u[we]}).get?pe=be.set?l.stylize("[Getter/Setter]","special"):l.stylize("[Getter]","special"):be.set&&(pe=l.stylize("[Setter]","special")),Ye(re,we)||(J="["+we+"]"),pe||(l.seen.indexOf(be.value)<0?(pe=j(P)?y(l,be.value,null):y(l,be.value,P-1)).indexOf(`
`)>-1&&(pe=he?pe.split(`
`).map(function(ye){return"  "+ye}).join(`
`).substr(2):`
`+pe.split(`
`).map(function(ye){return"   "+ye}).join(`
`)):pe=l.stylize("[Circular]","special")),i(J)){if(he&&we.match(/^\d+$/))return pe;(J=JSON.stringify(""+we)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(J=J.substr(1,J.length-2),J=l.stylize(J,"name")):(J=J.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),J=l.stylize(J,"string"))}return J+": "+pe}function A(l){return Array.isArray(l)}function W(l){return typeof l=="boolean"}function j(l){return l===null}function F(l){return typeof l=="number"}function a(l){return typeof l=="string"}function i(l){return l===void 0}function f(l){return I(l)&&ce(l)==="[object RegExp]"}function I(l){return typeof l=="object"&&l!==null}function Z(l){return I(l)&&ce(l)==="[object Date]"}function X(l){return I(l)&&(ce(l)==="[object Error]"||l instanceof Error)}function ae(l){return typeof l=="function"}function ce(l){return Object.prototype.toString.call(l)}function Ce(l){return l<10?"0"+l.toString(10):l.toString(10)}p.debuglog=function(l){if(i(T)&&(T=M.env.NODE_DEBUG||""),l=l.toUpperCase(),!G[l])if(new RegExp("\\b"+l+"\\b","i").test(T)){var u=M.pid;G[l]=function(){var P=p.format.apply(p,arguments);console.error("%s %d: %s",l,u,P)}}else G[l]=function(){};return G[l]},p.inspect=m,m.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},m.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},p.isArray=A,p.isBoolean=W,p.isNull=j,p.isNullOrUndefined=function(l){return l==null},p.isNumber=F,p.isString=a,p.isSymbol=function(l){return typeof l=="symbol"},p.isUndefined=i,p.isRegExp=f,p.isObject=I,p.isDate=Z,p.isError=X,p.isFunction=ae,p.isPrimitive=function(l){return l===null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||typeof l=="symbol"||l===void 0},p.isBuffer=S(384);var Ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ue(){var l=new Date,u=[Ce(l.getHours()),Ce(l.getMinutes()),Ce(l.getSeconds())].join(":");return[l.getDate(),Ie[l.getMonth()],u].join(" ")}function Ye(l,u){return Object.prototype.hasOwnProperty.call(l,u)}p.log=function(){console.log("%s - %s",ue(),p.format.apply(p,arguments))},p.inherits=S(496),p._extend=function(l,u){if(!u||!I(u))return l;for(var P=Object.keys(u),re=P.length;re--;)l[P[re]]=u[P[re]];return l}}},te={};function H(D){var p=te[D];if(p!==void 0)return p.exports;var S=te[D]={exports:{}};return B[D].call(S.exports,S,S.exports,H),S.exports}H.n=D=>{var p=D&&D.__esModule?()=>D.default:()=>D;return H.d(p,{a:p}),p},H.d=(D,p)=>{for(var S in p)H.o(p,S)&&!H.o(D,S)&&Object.defineProperty(D,S,{enumerable:!0,get:p[S]})},H.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),H.o=(D,p)=>Object.prototype.hasOwnProperty.call(D,p),H.r=D=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(D,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(D,"__esModule",{value:!0})};var ke={};return(()=>{H.r(ke),H.d(ke,{LSPluginUser:()=>K,setupPluginUserInstance:()=>le});var D=H(520);H(856);const p=function(t,e){return t===e||t!=t&&e!=e},S=function(t,e){for(var r=t.length;r--;)if(p(t[r][0],e))return r;return-1};var M=Array.prototype.splice;function _(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}_.prototype.clear=function(){this.__data__=[],this.size=0},_.prototype.delete=function(t){var e=this.__data__,r=S(e,t);return!(r<0||(r==e.length-1?e.pop():M.call(e,r,1),--this.size,0))},_.prototype.get=function(t){var e=this.__data__,r=S(e,t);return r<0?void 0:e[r][1]},_.prototype.has=function(t){return S(this.__data__,t)>-1},_.prototype.set=function(t,e){var r=this.__data__,o=S(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this};const T=_,G=typeof br=="object"&&br&&br.Object===Object&&br;var m=typeof self=="object"&&self&&self.Object===Object&&self;const c=G||m||Function("return this")(),b=c.Symbol;var y=Object.prototype,$=y.hasOwnProperty,U=y.toString,A=b?b.toStringTag:void 0,W=Object.prototype.toString,j=b?b.toStringTag:void 0;const F=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":j&&j in Object(t)?function(e){var r=$.call(e,A),o=e[A];try{e[A]=void 0;var s=!0}catch{}var d=U.call(e);return s&&(r?e[A]=o:delete e[A]),d}(t):function(e){return W.call(e)}(t)},a=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},i=function(t){if(!a(t))return!1;var e=F(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},f=c["__core-js_shared__"];var I,Z=(I=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"",X=Function.prototype.toString,ae=/^\[object .+?Constructor\]$/,ce=Function.prototype,Ce=Object.prototype,Ie=ce.toString,ue=Ce.hasOwnProperty,Ye=RegExp("^"+Ie.call(ue).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const l=function(t){return!(!a(t)||(e=t,Z&&Z in e))&&(i(t)?Ye:ae).test(function(r){if(r!=null){try{return X.call(r)}catch{}try{return r+""}catch{}}return""}(t));var e},u=function(t,e){var r=function(o,s){return o?.[s]}(t,e);return l(r)?r:void 0},P=u(c,"Map"),re=u(Object,"create");var we=Object.prototype.hasOwnProperty,he=Object.prototype.hasOwnProperty;function J(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}J.prototype.clear=function(){this.__data__=re?re(null):{},this.size=0},J.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},J.prototype.get=function(t){var e=this.__data__;if(re){var r=e[t];return r==="__lodash_hash_undefined__"?void 0:r}return we.call(e,t)?e[t]:void 0},J.prototype.has=function(t){var e=this.__data__;return re?e[t]!==void 0:he.call(e,t)},J.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=re&&e===void 0?"__lodash_hash_undefined__":e,this};const pe=J,be=function(t,e){var r,o,s=t.__data__;return((o=typeof(r=e))=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null)?s[typeof e=="string"?"string":"hash"]:s.map};function ye(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}ye.prototype.clear=function(){this.size=0,this.__data__={hash:new pe,map:new(P||T),string:new pe}},ye.prototype.delete=function(t){var e=be(this,t).delete(t);return this.size-=e?1:0,e},ye.prototype.get=function(t){return be(this,t).get(t)},ye.prototype.has=function(t){return be(this,t).has(t)},ye.prototype.set=function(t,e){var r=be(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this};const ze=ye;function Se(t){var e=this.__data__=new T(t);this.size=e.size}Se.prototype.clear=function(){this.__data__=new T,this.size=0},Se.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Se.prototype.get=function(t){return this.__data__.get(t)},Se.prototype.has=function(t){return this.__data__.has(t)},Se.prototype.set=function(t,e){var r=this.__data__;if(r instanceof T){var o=r.__data__;if(!P||o.length<199)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new ze(o)}return r.set(t,e),this.size=r.size,this};const de=Se,ne=function(){try{var t=u(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ge=function(t,e,r){e=="__proto__"&&ne?ne(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},Le=function(t,e,r){(r!==void 0&&!p(t[e],r)||r===void 0&&!(e in t))&&ge(t,e,r)},Je=function(t,e,r){for(var o=-1,s=Object(t),d=r(t),h=d.length;h--;){var E=d[++o];if(e(s[E],E,s)===!1)break}return t};var qe=C&&!C.nodeType&&C,Be=qe&&!0&&g&&!g.nodeType&&g,ht=Be&&Be.exports===qe?c.Buffer:void 0,ot=ht?ht.allocUnsafe:void 0;const Zt=c.Uint8Array,vr=function(t,e){var r,o,s=e?(r=t.buffer,o=new r.constructor(r.byteLength),new Zt(o).set(new Zt(r)),o):t.buffer;return new t.constructor(s,t.byteOffset,t.length)};var Yt=Object.create;const kr=function(){function t(){}return function(e){if(!a(e))return{};if(Yt)return Yt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),z=(k=Object.getPrototypeOf,O=Object,function(t){return k(O(t))});var k,O,V=Object.prototype;const ie=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||V)},Ee=function(t){return t!=null&&typeof t=="object"},Ve=function(t){return Ee(t)&&F(t)=="[object Arguments]"};var Ge=Object.prototype,Jt=Ge.hasOwnProperty,xt=Ge.propertyIsEnumerable;const gt=Ve(function(){return arguments}())?Ve:function(t){return Ee(t)&&Jt.call(t,"callee")&&!xt.call(t,"callee")},Ct=Array.isArray,Vt=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},St=function(t){return t!=null&&Vt(t.length)&&!i(t)};var Xt=C&&!C.nodeType&&C,at=Xt&&!0&&g&&!g.nodeType&&g,Qt=at&&at.exports===Xt?c.Buffer:void 0;const Kt=(Qt?Qt.isBuffer:void 0)||function(){return!1};var wr=Function.prototype,Et=Object.prototype,mt=wr.toString,Fe=Et.hasOwnProperty,er=mt.call(Object),ee={};ee["[object Float32Array]"]=ee["[object Float64Array]"]=ee["[object Int8Array]"]=ee["[object Int16Array]"]=ee["[object Int32Array]"]=ee["[object Uint8Array]"]=ee["[object Uint8ClampedArray]"]=ee["[object Uint16Array]"]=ee["[object Uint32Array]"]=!0,ee["[object Arguments]"]=ee["[object Array]"]=ee["[object ArrayBuffer]"]=ee["[object Boolean]"]=ee["[object DataView]"]=ee["[object Date]"]=ee["[object Error]"]=ee["[object Function]"]=ee["[object Map]"]=ee["[object Number]"]=ee["[object Object]"]=ee["[object RegExp]"]=ee["[object Set]"]=ee["[object String]"]=ee["[object WeakMap]"]=!1;var bt=C&&!C.nodeType&&C,it=bt&&!0&&g&&!g.nodeType&&g,jt=it&&it.exports===bt&&G.process,tr=function(){try{return it&&it.require&&it.require("util").types||jt&&jt.binding&&jt.binding("util")}catch{}}(),rr=tr&&tr.isTypedArray;const Tt=rr?function(t){return function(e){return t(e)}}(rr):function(t){return Ee(t)&&Vt(t.length)&&!!ee[F(t)]},je=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]};var st=Object.prototype.hasOwnProperty;const $e=function(t,e,r){var o=t[e];st.call(t,e)&&p(o,r)&&(r!==void 0||e in t)||ge(t,e,r)};var At=/^(?:0|[1-9]\d*)$/;const yt=function(t,e){var r=typeof t;return!!(e=e??9007199254740991)&&(r=="number"||r!="symbol"&&At.test(t))&&t>-1&&t%1==0&&t<e};var _r=Object.prototype.hasOwnProperty;const Ir=function(t,e){var r=Ct(t),o=!r&&gt(t),s=!r&&!o&&Kt(t),d=!r&&!o&&!s&&Tt(t),h=r||o||s||d,E=h?function(R,q){for(var Q=-1,oe=Array(R);++Q<R;)oe[Q]=q(Q);return oe}(t.length,String):[],L=E.length;for(var w in t)!e&&!_r.call(t,w)||h&&(w=="length"||s&&(w=="offset"||w=="parent")||d&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||yt(w,L))||E.push(w);return E};var xr=Object.prototype.hasOwnProperty;const nr=function(t){if(!a(t))return function(s){var d=[];if(s!=null)for(var h in Object(s))d.push(h);return d}(t);var e=ie(t),r=[];for(var o in t)(o!="constructor"||!e&&xr.call(t,o))&&r.push(o);return r},vt=function(t){return St(t)?Ir(t,!0):nr(t)},me=function(t){return function(e,r,o,s){var d=!o;o||(o={});for(var h=-1,E=r.length;++h<E;){var L=r[h],w=s?s(o[L],e[L],L,o,e):void 0;w===void 0&&(w=e[L]),d?ge(o,L,w):$e(o,L,w)}return o}(t,vt(t))},or=function(t,e,r,o,s,d,h){var E,L=je(t,r),w=je(e,r),R=h.get(w);if(R)Le(t,r,R);else{var q=d?d(L,w,r+"",t,e,h):void 0,Q=q===void 0;if(Q){var oe=Ct(w),_e=!oe&&Kt(w),Ze=!oe&&!_e&&Tt(w);q=w,oe||_e||Ze?Ct(L)?q=L:Ee(E=L)&&St(E)?q=function(se,Ae){var Te=-1,Gt=se.length;for(Ae||(Ae=Array(Gt));++Te<Gt;)Ae[Te]=se[Te];return Ae}(L):_e?(Q=!1,q=function(se,Ae){if(Ae)return se.slice();var Te=se.length,Gt=ot?ot(Te):new se.constructor(Te);return se.copy(Gt),Gt}(w,!0)):Ze?(Q=!1,q=vr(w,!0)):q=[]:function(se){if(!Ee(se)||F(se)!="[object Object]")return!1;var Ae=z(se);if(Ae===null)return!0;var Te=Fe.call(Ae,"constructor")&&Ae.constructor;return typeof Te=="function"&&Te instanceof Te&&mt.call(Te)==er}(w)||gt(w)?(q=L,gt(L)?q=me(L):a(L)&&!i(L)||(q=function(se){return typeof se.constructor!="function"||ie(se)?{}:kr(z(se))}(w))):Q=!1}Q&&(h.set(w,q),s(q,w,o,d,h),h.delete(w)),Le(t,r,q)}},ve=function t(e,r,o,s,d){e!==r&&Je(r,function(h,E){if(d||(d=new de),a(h))or(e,r,E,o,t,s,d);else{var L=s?s(je(e,E),h,E+"",e,r,d):void 0;L===void 0&&(L=h),Le(e,E,L)}},vt)},Ot=function(t){return t},fe=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)};var Xe=Math.max;const Lt=ne?function(t,e){return ne(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:Ot;var ar=Date.now;const Ut=function(t){var e=0,r=0;return function(){var o=ar(),s=16-(o-r);if(r=o,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Lt),ir=function(t,e){return Ut(function(r,o,s){return o=Xe(o===void 0?r.length-1:o,0),function(){for(var d=arguments,h=-1,E=Xe(d.length-o,0),L=Array(E);++h<E;)L[h]=d[o+h];h=-1;for(var w=Array(o+1);++h<o;)w[h]=d[h];return w[o]=s(L),fe(r,this,w)}}(t,e,Ot),t+"")},Qe=(Ue=function(t,e,r){ve(t,e,r)},ir(function(t,e){var r=-1,o=e.length,s=o>1?e[o-1]:void 0,d=o>2?e[2]:void 0;for(s=Ue.length>3&&typeof s=="function"?(o--,s):void 0,d&&function(E,L,w){if(!a(w))return!1;var R=typeof L;return!!(R=="number"?St(w)&&yt(L,w.length):R=="string"&&L in w)&&p(w[L],E)}(e[0],e[1],d)&&(s=o<3?void 0:s,o=1),t=Object(t);++r<o;){var h=e[r];h&&Ue(t,h,r)}return t}));var Ue,Ke=function(){return Ke=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var s in e=arguments[r])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},Ke.apply(this,arguments)};function Pt(t){return t.toLowerCase()}var et=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],kt=/[^A-Z0-9]+/gi;function lt(t,e,r){return e instanceof RegExp?t.replace(e,r):e.reduce(function(o,s){return o.replace(s,r)},t)}const Mt=navigator.platform.toLowerCase()==="win32"?D.win32:D.posix,tt=function(t,e){return e===void 0&&(e={}),function(r,o){return o===void 0&&(o={}),function(s,d){d===void 0&&(d={});for(var h=d.splitRegexp,E=h===void 0?et:h,L=d.stripRegexp,w=L===void 0?kt:L,R=d.transform,q=R===void 0?Pt:R,Q=d.delimiter,oe=Q===void 0?" ":Q,_e=lt(lt(s,E,"$1\0$2"),w,"\0"),Ze=0,se=_e.length;_e.charAt(Ze)==="\0";)Ze++;for(;_e.charAt(se-1)==="\0";)se--;return _e.slice(Ze,se).split("\0").map(q).join(oe)}(r,Ke({delimiter:"."},o))}(t,Ke({delimiter:"_"},e))},ct=Qe;function De(t,e){let r,o,s=!1;const d=E=>L=>{t&&clearTimeout(t),E(L),s=!0},h=new Promise((E,L)=>{r=d(E),o=d(L),t&&(t=setTimeout(()=>o(new Error(`[deferred timeout] ${e}`)),t))});return{created:Date.now(),setTag:E=>e=E,resolve:r,reject:o,promise:h,get settled(){return s}}}const rt=new Map;window.__injectedUIEffects=rt;var sr=H(227),Nt=H.n(sr);const Re="application/x-postmate-v1+json";let Ft=0;const lr={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},ut=(t,e)=>!(typeof e=="string"&&t.origin!==e||!t.data||typeof t.data=="object"&&!("postmate"in t.data)||t.data.type!==Re||!lr[t.data.postmate]);class Dt{parent;frame;child;events={};childOrigin;listener;constructor(e){this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.listener=r=>{if(!ut(r,this.childOrigin))return!1;const{data:o,name:s}=((r||{}).data||{}).value||{};r.data.postmate==="emit"&&s in this.events&&this.events[s].forEach(d=>{d.call(this,o)})},this.parent.addEventListener("message",this.listener,!1)}get(e){return new Promise(r=>{const o=++Ft,s=d=>{d.data.uid===o&&d.data.postmate==="reply"&&(this.parent.removeEventListener("message",s,!1),r(d.data.value))};this.parent.addEventListener("message",s,!1),this.child.postMessage({postmate:"request",type:Re,property:e,uid:o},this.childOrigin)})}call(e,r){this.child.postMessage({postmate:"call",type:Re,property:e,data:r},this.childOrigin)}on(e,r){this.events[e]||(this.events[e]=[]),this.events[e].push(r)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class He{model;parent;parentOrigin;child;constructor(e){this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",r=>{if(!ut(r,this.parentOrigin))return;const{property:o,uid:s,data:d}=r.data;r.data.postmate!=="call"?((h,E)=>{const L=typeof h[E]=="function"?h[E]():h[E];return Promise.resolve(L)})(this.model,o).then(h=>{r.source.postMessage({property:o,postmate:"reply",type:Re,uid:s,value:h},r.origin)}):o in this.model&&typeof this.model[o]=="function"&&this.model[o](d)})}emit(e,r){this.parent.postMessage({postmate:"emit",type:Re,value:{name:e,data:r}},this.parentOrigin)}}class wt{static debug=!1;container;parent;frame;child;childOrigin;url;model;static Model;constructor(e){this.container=e.container,this.url=e.url,this.parent=window,this.frame=document.createElement("iframe"),e.id&&(this.frame.id=e.id),e.name&&(this.frame.name=e.name),this.frame.classList.add.apply(this.frame.classList,e.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=e.model||{}}sendHandshake(e){const r=(d=>{const h=document.createElement("a");h.href=d;const E=h.protocol.length>4?h.protocol:window.location.protocol,L=h.host.length?h.port==="80"||h.port==="443"?h.hostname:h.host:window.location.host;return h.origin||`${E}//${L}`})(e=e||this.url);let o,s=0;return new Promise((d,h)=>{const E=w=>!!ut(w,r)&&(w.data.postmate==="handshake-reply"?(clearInterval(o),this.parent.removeEventListener("message",E,!1),this.childOrigin=w.origin,d(new Dt(this))):h("Failed handshake"));this.parent.addEventListener("message",E,!1);const L=()=>{s++,this.child.postMessage({postmate:"handshake",type:Re,model:this.model},r),s===5&&clearInterval(o)};this.frame.addEventListener("load",()=>{L(),o=setInterval(L,500)}),this.frame.src=e})}destroy(){this.frame.parentNode.removeChild(this.frame)}}class cr{child;model;parent;parentOrigin;constructor(e){this.child=window,this.model=e,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((e,r)=>{const o=s=>{if(s.data.postmate){if(s.data.postmate==="handshake"){this.child.removeEventListener("message",o,!1),s.source.postMessage({postmate:"handshake-reply",type:Re},s.origin),this.parentOrigin=s.origin;const d=s.data.model;return d&&Object.keys(d).forEach(h=>{this.model[h]=d[h]}),e(new He(this))}return r("Handshake Reply Failed")}};this.child.addEventListener("message",o,!1)})}}var ur=H(729),Rt=H.n(ur);const{importHTML:nt,createSandboxContainer:Cr}=window.QSandbox||{};function pr(t,e){return t.startsWith("http")?fetch(t,e):(t=t.replace("file://",""),new Promise(async(r,o)=>{try{const s=await window.apis.doAction(["readFile",t]);r({text:()=>s})}catch(s){console.error(s),o(s)}}))}class Ht extends Rt(){_pluginLocal;_frame;_root;_loaded=!1;_unmountFns=[];constructor(e){super(),this._pluginLocal=e,e._dispose(()=>{this._unmount()})}async load(){const{name:e,entry:r}=this._pluginLocal.options;if(this.loaded||!r)return;const{template:o,execScripts:s}=await nt(r,{fetch:pr});this._mount(o,document.body);const d=Cr(e,{elementGetter:()=>this._root?.firstChild}).instance.proxy;d.__shadow_mode__=!0,d.LSPluginLocal=this._pluginLocal,d.LSPluginShadow=this,d.LSPluginUser=d.logseq=new K(this._pluginLocal.toJSON(),this._pluginLocal.caller);const h=await s(d,!0);this._unmountFns.push(h.unmount),this._loaded=!0}_mount(e,r){const o=this._frame=document.createElement("div");o.classList.add("lsp-shadow-sandbox"),o.id=this._pluginLocal.id,this._root=o.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,r.appendChild(o),this.emit("mounted")}_unmount(){for(const e of this._unmountFns)e&&e.call(null)}destroy(){this.frame?.parentNode?.removeChild(this.frame)}get loaded(){return this._loaded}get document(){return this._root?.firstChild}get frame(){return this._frame}}const Pe=Nt()("LSPlugin:caller"),pt="#await#response#",dr="#lspmsg#error#",We=t=>`#lspmsg#${t}`;class zt extends Rt(){_pluginLocal;_connected=!1;_parent;_child;_shadow;_status;_userModel={};_call;_callUserModel;_debugTag="";constructor(e){super(),this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){if(this._connected)return;const r=this,o=this._pluginLocal!=null;let s=0;const d=new Map,h=De(6e4),E=this._extendUserModel({"#lspmsg#ready#":async w=>{E[We(w?.pid)]=({type:R,payload:q})=>{Pe(`[host (_call) -> *user] ${this._debugTag}`,R,q),r.emit(R,q)},await h.resolve()},"#lspmsg#beforeunload#":async w=>{const R=De(1e4);r.emit("beforeunload",Object.assign({actor:R},w)),await R.promise},"#lspmsg#settings#":async({type:w,payload:R})=>{r.emit("settings:changed",R)},"#lspmsg#":async({ns:w,type:R,payload:q})=>{Pe(`[host (async) -> *user] ${this._debugTag} ns=${w} type=${R}`,q),w&&w.startsWith("hook")?r.emit(`${w}:${R}`,q):r.emit(R,q)},"#lspmsg#reply#":({_sync:w,result:R})=>{if(Pe(`[sync host -> *user] #${w}`,R),d.has(w)){const q=d.get(w);q&&(R?.hasOwnProperty(dr)?q.reject(R[dr]):q.resolve(R),d.delete(w))}},...e});if(o)return await h.promise,JSON.parse(JSON.stringify(this._pluginLocal?.toJSON()));const L=new cr(E).sendHandshakeReply();return this._status="pending",await L.then(w=>{this._child=w,this._connected=!0,this._call=async(R,q={},Q)=>{if(Q){const oe=++s;d.set(oe,Q),q._sync=oe,Q.setTag(`async call #${oe}`),Pe(`async call #${oe}`)}return w.emit(We(E.baseInfo.id),{type:R,payload:q}),Q?.promise},this._callUserModel=async(R,q)=>{try{E[R](q)}catch{Pe(`[model method] #${R} not existed`)}},setInterval(()=>{if(d.size>100)for(const[R,q]of d)q.settled&&d.delete(R)},18e5)}).finally(()=>{this._status=void 0}),await h.promise,E.baseInfo}async call(e,r={}){return this._call?.call(this,e,r)}async callAsync(e,r={}){const o=De(1e4);return this._call?.call(this,e,r,o)}async callUserModel(e,r={}){return this._callUserModel?.call(this,e,r)}async _setupIframeSandbox(){const e=this._pluginLocal,r=e.id,o=`${r}_lsp_main`,s=new URL(e.options.entry);s.searchParams.set("__v__",e.options.version);const d=document.querySelector(`#${o}`);d&&d.parentElement.removeChild(d);const h=document.createElement("div");h.classList.add("lsp-iframe-sandbox-container"),h.id=o,h.dataset.pid=r;try{const R=(await this._pluginLocal._loadLayoutsData())?.$$0;if(R){h.dataset.inited_layout="true";const{width:q,height:Q,left:oe,top:_e}=R;Object.assign(h.style,{width:q+"px",height:Q+"px",left:oe+"px",top:_e+"px"})}}catch(R){console.error("[Restore Layout Error]",R)}document.body.appendChild(h);const E=new wt({id:r+"_iframe",container:h,url:s.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}});let L,w=E.sendHandshake();return this._status="pending",new Promise((R,q)=>{L=setTimeout(()=>{q(new Error("handshake Timeout")),E.destroy()},4e3),w.then(Q=>{this._parent=Q,this._connected=!0,this.emit("connected"),Q.on(We(e.id),({type:oe,payload:_e})=>{Pe("[user -> *host] ",oe,_e),this._pluginLocal?.emit(oe,_e||{})}),this._call=async(...oe)=>{await Q.call(We(e.id),{type:oe[0],payload:Object.assign(oe[1]||{},{$$pid:e.id})})},this._callUserModel=async(oe,_e)=>{if(oe.startsWith(pt))return await Q.get(oe.replace(pt,""));Q.call(oe,_e)},R(null)}).catch(Q=>{q(Q)}).finally(()=>{clearTimeout(L)})}).catch(R=>{throw Pe("[iframe sandbox] error",R),R}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const e=this._pluginLocal,r=this._shadow=new Ht(e);try{this._status="pending",await r.load(),this._connected=!0,this.emit("connected"),this._call=async(o,s={},d)=>(d&&(s.actor=d),this._pluginLocal?.emit(o,Object.assign(s,{$$pid:e.id})),d?.promise),this._callUserModel=async(...o)=>{let s=o[0];s?.startsWith(pt)&&(s=s.replace(pt,""));const d=o[1]||{},h=this._userModel[s];typeof h=="function"&&await h.call(null,d)}}catch(o){throw Pe("[shadow sandbox] error",o),o}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){return this._parent?.frame.parentNode}_getSandboxShadowContainer(){return this._shadow?.frame.parentNode}_getSandboxIframeRoot(){return this._parent?.frame}_getSandboxShadowRoot(){return this._shadow?.frame}set debugTag(e){this._debugTag=e}async destroy(){let e=null;this._parent&&(e=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(e=this._getSandboxShadowContainer(),this._shadow.destroy()),e?.parentNode.removeChild(e)}}class fr{ctx;opts;constructor(e,r){this.ctx=e,this.opts=r}get ctxId(){return this.ctx.baseInfo.id}setItem(e,r){return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,e,r,this.opts?.assets]})}getItem(e){return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,e,this.opts?.assets]})}removeItem(e){return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,e,this.opts?.assets]})}allKeys(){return this.ctx.caller.callAsync("api:call",{method:"list-plugin-storage-files",args:[this.ctxId,this.opts?.assets]})}clear(){return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId,this.opts?.assets]})}hasItem(e){return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,e,this.opts?.assets]})}}class Me{ctx;constructor(e){this.ctx=e}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(e,...r){const o=this.ensureHostScope();return e=tt(e)?.toLowerCase(),o.logseq.api["exper_"+e]?.apply(o,r)}async loadScripts(...e){(e=e.map(r=>r?.startsWith("http")?r:this.ctx.resolveResourceFullUrl(r))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...e)}registerFencedCodeRenderer(e,r){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,e,r)}registerExtensionsEnhancer(e,r){const o=this.ensureHostScope();return e==="katex"&&o.katex&&r(o.katex).catch(console.error),o.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,e,r)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}const qt=t=>`task_callback_${t}`;class hr{_client;_requestId;_requestOptions;_promise;_aborted=!1;constructor(e,r,o={}){this._client=e,this._requestId=r,this._requestOptions=o,this._promise=new Promise((E,L)=>{if(!this._requestId)return L(null);this._client.once(qt(this._requestId),w=>{w&&w instanceof Error?L(w):E(w)})});const{success:s,fail:d,final:h}=this._requestOptions;this._promise.then(E=>{s?.(E)}).catch(E=>{d?.(E)}).finally(()=>{h?.()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class _t extends ur.EventEmitter{_ctx;constructor(e){super(),this._ctx=e,this.ctx.caller.on("#lsp#request#callback",r=>{const o=r?.requestId;o&&this.emit(qt(o),r?.payload)})}static createRequestTask(e,r,o){return new hr(e,r,o)}async _request(e){const r=this.ctx.baseInfo.id,{success:o,fail:s,final:d,...h}=e,E=this.ctx.Experiments.invokeExperMethod("request",r,h),L=_t.createRequestTask(this.ctx.Request,E,e);return h.abortable?L:L.promise}get ctx(){return this._ctx}}const Sr=Symbol.for("proxy-continue"),dt=Nt()("LSPlugin:user");function xe(t,e,r){if(typeof r!="function")return!1;const{key:o,label:s,desc:d,palette:h,keybinding:E,extras:L}=e,w=`SimpleCommandHook${o}${++Bt}`;this.Editor["on"+w](r),this.caller?.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:o,label:s,type:t,desc:d,keybinding:E,extras:L},["editor/hook",w]],h]})}let ft=null;const gr={async getInfo(t){return ft||(ft=await this._execCallableAPIAsync("get-app-info")),typeof t=="string"?ft[t]:ft},registerCommand:xe,registerCommandPalette(t,e){const{key:r,label:o,keybinding:s}=t;return xe.call(this,"$palette$",{key:r,label:o,palette:!0,keybinding:s},e)},registerCommandShortcut(t,e){const{binding:r}=t,o="$shortcut$",s=o+tt(r);return xe.call(this,o,{key:s,palette:!1,keybinding:t},e)},registerUIItem(t,e){const r=this.baseInfo.id;this.caller?.call("api:call",{method:"register-plugin-ui-item",args:[r,t,e]})},registerPageMenuItem(t,e){if(typeof e!="function")return!1;const r=t+"_"+this.baseInfo.id,o=t;xe.call(this,"page-menu-item",{key:r,label:o},e)},setFullScreen(t){const e=(...r)=>this._callWin("setFullScreen",...r);t==="toggle"?this._callWin("isFullScreen").then(r=>{r?e():e(!0)}):t?e(!0):e()}};let Bt=0;const mr={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(t,e){dt("Register slash command #",this.baseInfo.id,t,e),typeof e=="function"&&(e=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",e]]),e=e.map(r=>{const[o,...s]=r;if(o==="editor/hook"){let d=s[0],h=()=>{this.caller?.callUserModel(d)};typeof d=="function"&&(h=d);const E=`SlashCommandHook${o}${++Bt}`;r[1]=E,this.Editor["on"+E](h)}return r}),this.caller?.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[t,e]]})},registerBlockContextMenuItem(t,e){if(typeof e!="function")return!1;const r=t+"_"+this.baseInfo.id;xe.call(this,"block-context-menu-item",{key:r,label:t},e)},registerHighlightContextMenuItem(t,e,r){if(typeof e!="function")return!1;const o=t+"_"+this.baseInfo.id;xe.call(this,"highlight-context-menu-item",{key:o,label:t,extras:r},e)},scrollToBlockInPage(t,e,r){const o="block-content-"+e;r?.replaceState?this.App.replaceState("page",{name:t},{anchor:o}):this.App.pushState("page",{name:t},{anchor:o})}},Er={onBlockChanged(t,e){const r=this.baseInfo.id,o=`hook:db:${tt(`block:${t}`)}`,s=({block:d,txData:h,txMeta:E})=>{d.uuid===t&&e(d,h,E)};return this.caller.on(o,s),this.App._installPluginHook(r,o),()=>{this.caller.off(o,s),this.App._uninstallPluginHook(r,o)}}},n={},x={},v={makeSandboxStorage(){return new fr(this,{assets:!0})}};class K extends Rt(){_baseInfo;_caller;_version="0.0.10";_debugTag="";_settingsSchema;_connected=!1;_ui=new Map;_mFileStorage;_mRequest;_mExperiments;_beforeunloadCallback;constructor(e,r){super(),this._baseInfo=e,this._caller=r,r.on("sys:ui:visible",o=>{o?.toggle&&this.toggleMainUI()}),r.on("settings:changed",o=>{const s=Object.assign({},this.settings),d=Object.assign(this._baseInfo.settings,o);this.emit("settings:changed",{...d},s)}),r.on("beforeunload",async o=>{const{actor:s,...d}=o,h=this._beforeunloadCallback;try{h&&await h(d),s?.resolve(null)}catch(E){console.debug(`${r.debugTag} [beforeunload] `,E),s?.reject(E)}})}async ready(e,r){if(!this._connected)try{typeof e=="function"&&(r=e,e={});let o=await this._caller.connectToParent(e);this._connected=!0,o=ct(this._baseInfo,o),this._settingsSchema&&(o.settings=function(s,d){const h=(d||[]).reduce((E,L)=>("default"in L&&(E[L.key]=L.default),E),{});return Object.assign(h,s)}(o.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema)),o?.id&&(this._debugTag=this._caller.debugTag=`#${o.id} [${o.name}]`);try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(s){console.warn(s)}r&&r.call(this,o)}catch(o){console.error(`${this._debugTag} [Ready Error]`,o)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(e){typeof e=="function"&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){const r="settings:changed";return this.on(r,e),()=>this.off(r,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){const r={key:0,visible:!1,cursor:e?.restoreEditingCursor};this.caller.call("main-ui:visible",r),this.emit("ui:visible:changed",r),this._ui.set(r.key,r)}showMainUI(e){const r={key:0,visible:!0,autoFocus:e?.autoFocus};this.caller.call("main-ui:visible",r),this.emit("ui:visible:changed",r),this._ui.set(r.key,r)}toggleMainUI(){const e=this._ui.get(0);e&&e.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const e=this._ui.get(0);return Boolean(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get settings(){return this.baseInfo?.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),function(r,...o){try{const s=new URL(r);if(!s.origin)throw new Error(null);const d=Mt.join(r.substr(s.origin.length),...o);return s.origin+d}catch{return Mt.join(r,...o)}}(this._baseInfo.lsr,e)}_makeUserProxy(e,r){const o=this,s=this.caller;return new Proxy(e,{get(d,h,E){const L=d[h];return function(...w){if(L){const q=L.apply(o,w.concat(r));if(q!==Sr)return q}if(r){const q=h.toString().match(/^(once|off|on)/i);if(q!=null){const Q=q[0].toLowerCase(),oe=q.input.slice(Q.length),_e=Q==="off",Ze=o.baseInfo.id,se=`hook:${r}:${tt(oe)}`,Ae=w[0];s[Q](se,Ae);const Te=()=>{s.off(se,Ae),s.listenerCount(se)||o.App._uninstallPluginHook(Ze,se)};return _e?void Te():(o.App._installPluginHook(Ze,se),Te)}}let R=h;return["git","ui","assets"].includes(r)&&(R=r+"_"+R),s.callAsync("api:call",{tag:r,method:R,args:w})}}})}_execCallableAPIAsync(e,...r){return this._caller.callAsync("api:call",{method:e,args:r})}_execCallableAPI(e,...r){this._caller.call("api:call",{method:e,args:r})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(gr,"app")}get Editor(){return this._makeUserProxy(mr,"editor")}get DB(){return this._makeUserProxy(Er,"db")}get Git(){return this._makeUserProxy(n,"git")}get UI(){return this._makeUserProxy(x,"ui")}get Assets(){return this._makeUserProxy(v,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new fr(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new _t(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new Me(this)),e}}function le(t,e){return new K(t,e)}if(window.__LSP__HOST__==null){const t=new zt(null);window.logseq=le({},t)}})(),ke})())})(Or,Or.exports);const en={title:"Awesome UI",icon:"./icon.png",id:"logseq-awesome-ui"},N={pluginID:en.id,pluginConfig:null,isPluginEnabled:"is-awUi-enabled",isSearchOpenedClass:"is-search-opened",isThemesOpenedClass:"is-themes-opened",isSearchEnabledClass:"awUi-search",promoAwesomeStylerMsg:'To customize UI & content text/bg colors, install "Awesome Styler" (former "Solarized Extended") theme! https://github.com/yoyurec/logseq-awesome-styler',tabsPluginIframe:null},tn="1.3.19",rn=(g,C)=>Object.keys(g).filter(te=>te==="presetCustom"?!1:g[te]!==C[te]),$t=g=>{if(!g)return"";const C="rgba(0, 0, 0, 0)",B=getComputedStyle(g).backgroundColor;return B!=C?B:g.parentElement?$t(g.parentElement):C},nn=async()=>{const g=await fetch(`https://api.github.com/repos/yoyurec/${N.pluginID}/releases/latest`,{headers:{Accept:"application/vnd.github.v3+json"}});if(!g.ok){const B=`An error has occured: ${g.status}`;throw new Error(B)}const C=await g.json();C&&C.tag_name.replace("v","").localeCompare(tn,void 0,{numeric:!0,sensitivity:"base"})==1&&logseq.UI.showMsg(`"${N.pluginID}" new version is available! Please, update!`,"warning",{timeout:3e4})};const on=[{key:"promoAwesomeStyler",title:"",description:N.promoAwesomeStylerMsg,type:"boolean",default:!1},{key:"featureHeading",title:"Features",description:"",type:"heading",default:null},{key:"featureCalendarEnabled",title:"",description:'Enable "Calendar" page menu sidebar item?',type:"boolean",default:!0},{key:"pageHeading",title:"Page blocks",description:"",type:"heading",default:null},{key:"featureHideDotProps",title:"",description:"Hide (in view mode) page props started with dot (.propName)?",type:"boolean",default:!0},{key:"featureHideSetOfProps",title:"",description:"Hide (in view mode) page props (comma separated). Delete to disable",type:"string",default:"propToHide,propAnother,color,banner"},{key:"featureAwesomeProps",title:"",description:"Enable awesome styled props?",type:"boolean",default:!0},{key:"contentHeading",title:"Content",description:"",type:"heading",default:null},{key:"featureTasksEnabled",title:"",description:"Enable tasks status and priority restyling?",type:"boolean",default:!0},{key:"featureColumnsEnabled",title:"",description:'Enable columns: "#.kanban" & "#.grid" tags?',type:"boolean",default:!0},{key:"featureQuoteEnabled",title:"",description:'Enable blockquote style for "#quote" tag?',type:"boolean",default:!0},{key:"featureHeadersLabelsEnabled",title:"",description:"Show headers (h1-h5) labels?",type:"boolean",default:!0},{key:"appUIHeading",title:"App UI tuning",description:"",type:"heading",default:null},{key:"featureHomeButtonEnabled",title:"",description:'Show "Home" button on header?',type:"boolean",default:!1},{key:"featureSidebarNewPageEnabled",title:"",description:'Show "New Page" button on left sidebar?',type:"boolean",default:!1},{key:"featureSidebarPageIconEnabled",title:"",description:"Show default page icons on left sidebar favs/recent?",type:"boolean",default:!1},{key:"featureNewBlockBulletEnabled",title:"",description:"Always show add block bullet on page bottom?",type:"boolean",default:!1}],an=()=>{logseq.useSettingsSchema(on),N.pluginConfig=logseq.settings,logseq.onSettingsChanged((g,C)=>{sn(g,C)})},sn=(g,C)=>{N.pluginConfig={...g};const B=rn({...C},N.pluginConfig);console.log("AwesomeUI: settings changed:",B),B.includes("featureTasksEnabled")&&En(),B.includes("featureColumnsEnabled")&&Tn(),B.includes("featureQuoteEnabled")&&On(),B.includes("featureHeadersLabelsEnabled")&&Un(),B.includes("featureCalendarEnabled")&&qn(),B.includes("featureHideDotProps")&&$n(),B.includes("featureHideSetOfProps")&&Wn(),B.includes("featureAwesomeProps")&&Vn(),Pr()},ln=()=>{Oe.classList.add(N.isPluginEnabled),un(),dn(),setTimeout(()=>{logseq.beforeunload(async()=>{cn()})},2e3),setTimeout(()=>{nn()},8e3)},cn=()=>{Oe.classList.remove(N.isPluginEnabled),pn(),fn()},un=async()=>{setTimeout(()=>{Y.head&&Y.head.querySelector('link[href="./css/style.css"]').insertAdjacentHTML("afterend",`<link rel="stylesheet" id="css-awesomeUI" href="lsp://logseq.io/${N.pluginID}/dist/assets/awesomeUI.css">`)},100)},pn=()=>{Y.getElementById("css-awesomeUI")?.remove()},dn=async()=>{hn(),setTimeout(()=>{Ne.style.setProperty("--awUI-calc-bg",$t(Y.querySelector(".left-sidebar-inner")).trim()),N.tabsPluginIframe=Y.getElementById("logseq-tabs_iframe"),Pr(),bn(),Dn(),In(),Qr(),Fr(),Br(),Rr(),zr(),Zr()},2e3),setTimeout(()=>{Bn()},3e3)},fn=()=>{yn(),Rn(),xn(),Kr(),Dr(),Gr(),Hr(),qr(),Yr(),Gn()};let It;const Y=parent.document,Ne=Y.documentElement,Oe=Y.body,hn=()=>{It=Y.querySelector(".ui__modal")};const Pr=()=>{N.pluginConfig.featureHomeButtonEnabled?Ne.style.removeProperty("--awUI-home-button"):Ne.style.setProperty("--awUI-home-button","none"),N.pluginConfig.featureSidebarNewPageEnabled?Ne.style.setProperty("--awUI-sidebar-new-page","block"):Ne.style.removeProperty("--awUI-sidebar-new-page"),N.pluginConfig.featureSidebarPageIconEnabled?Ne.style.setProperty("--awUI-sidebar-page-icon","visible"):Ne.style.removeProperty("--awUI-sidebar-page-icon"),N.pluginConfig.featureNewBlockBulletEnabled?Ne.style.setProperty("--awUI-new-bullet-hidden","none"):Ne.style.removeProperty("--awUI-new-bullet-hidden")};const gn=g=>{if(Oe.classList.contains("is-pdf-active"))return;const C=g.closest(".ui__modal"),B=Y.getElementById("search-button");if(!B||!C)return;const te=B.getBoundingClientRect().left,H=B.offsetWidth;H&&H>600?(g.style.width=H+"px",C.style.left=te+"px",C.style.justifyContent="flex-start"):(g.style.width="90vw",C.style.left="0",C.style.justifyContent="center")},mn=()=>{const g=Y.querySelector(".ui__modal");g.style.left="",g.style.justifyContent=""},bn=async()=>{Oe.classList.add(N.isSearchEnabledClass);const g=Y.querySelector("#head .r");if(g){const C=Y.getElementById("search-button");C&&g.insertAdjacentElement("afterbegin",C)}kn(),wn()},yn=()=>{Oe.classList.remove(N.isSearchEnabledClass);const g=Y.querySelector("#head .l"),C=Y.getElementById("search-button");!g||!C||(g.insertAdjacentElement("beforeend",C),_n())};let Tr,Mr;const vn=()=>{if(!It)return;const g=It.querySelector(".ls-search");g?(Oe.classList.add(N.isSearchOpenedClass),gn(g)):(Oe.classList.remove(N.isSearchOpenedClass),mn()),It.querySelector(".cp__themes-installed")?Oe.classList.add(N.isThemesOpenedClass):Oe.classList.remove(N.isThemesOpenedClass)},kn=()=>{Mr={attributes:!0,attributeFilter:["style"]},Tr=new MutationObserver(vn)},wn=()=>{!It||Tr.observe(It,Mr)},_n=()=>{Tr.disconnect()};const In=async()=>{const g=Y.querySelector("#right-sidebar .toggle-right-sidebar");Nr(!!g),logseq.App.onSidebarVisibleChanged(({visible:C})=>{Cn(C)})},xn=async()=>{const g=Y.querySelector("#head .hide-right-sidebar-button"),C=Y.querySelector(".cp__right-sidebar-topbar div:last-child div");C&&g&&C.insertAdjacentElement("beforeend",g)},Nr=g=>{if(g){const C=Y.querySelector("#right-sidebar .toggle-right-sidebar");C?.classList.add("hide-right-sidebar-button");const B=Y.querySelector("#head .r");B&&C&&B.insertAdjacentElement("beforeend",C)}else Y.querySelector("#head .hide-right-sidebar-button")?.remove()},Cn=g=>{Nr(g)},Sn=`:root{--awUI-red: #d3455b;--awUI-orange: #f09000;--awUI-yellow-dark: #e6af19;--awUI-yellow: #f9d86c;--awUI-green: #27ae9e;--awUI-blue: #2c89d9;--awUI-purple: #9c739c;--awUI-cherry: #c8896a;--awUI-marker-waiting: var(--awUI-cherry);--awUI-marker-later: var(--awUI-orange);--awUI-marker-todo: var(--awUI-red);--awUI-marker-now-doing: var(--awUI-green);--awUI-marker-done: var(--awUI-blue);--awUI-priority-a: var(--awUI-red);--awUI-priority-b: var(--awUI-orange);--awUI-priority-c: var(--awUI-green)}.block-marker.block-marker.block-marker{display:inline-block;margin:0 6px 0 0!important;padding:2px 3px 1px;font-family:var(--awUI-font-default-inter);font-size:12px!important;font-weight:600;line-height:1;border-radius:4px;border:1px solid currentColor;background:var(--ls-primary-background-color)}.content .form-checkbox{border-radius:2px;border:1px solid var(--ls-primary-background-color);margin-right:4px!important;position:relative;top:-.5px}.content .form-checkbox:hover{opacity:.6!important;transform:none}.content .done .form-checkbox{background-color:var(--awUI-marker-done);opacity:.9}.now .block-marker.block-marker,.doing .block-marker.block-marker{color:var(--awUI-marker-now-doing)!important}.content .now .form-checkbox,.content .doing .form-checkbox{background-color:var(--awUI-marker-now-doing);opacity:.4}.later .block-marker.block-marker{color:var(--awUI-marker-later)!important}.content .later .form-checkbox{background-color:var(--awUI-marker-later);opacity:.4}.todo .block-marker.block-marker{color:var(--awUI-marker-todo)!important}.content .todo .form-checkbox{background-color:var(--awUI-marker-todo);opacity:.4}.waiting .block-marker{color:var(--awUI-marker-waiting)!important}.waiting .block-marker:hover{opacity:1}.content .waiting .form-checkbox{background-color:var(--awUI-marker-waiting);opacity:.4}.priority{font-size:0;visibility:hidden}a[priority]:before,.priority:before{display:inline-block;content:"";border-radius:100%;height:20px;width:20px;visibility:visible;margin-right:5px;margin-bottom:-5px;-webkit-mask:var(--awUI-priority-bg) no-repeat 50% 50%;mask:var(--awUI-priority-bg) no-repeat 50% 50%}a[priority=A]:before,.priority[href="#/page/A"]:before{--awUI-priority-bg: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGNsYXNzPSJpY29uIGljb24tdGFibGVyIGljb24tdGFibGVyLWFycm93LXVwLWNpcmNsZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PGRlc2M+RG93bmxvYWQgbW9yZSBpY29uIHZhcmlhbnRzIGZyb20gaHR0cHM6Ly90YWJsZXItaWNvbnMuaW8vaS9hcnJvdy11cC1jaXJjbGU8L2Rlc2M+PHBhdGggc3Ryb2tlPSJub25lIiBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIj48L3BhdGg+PGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iOSI+PC9jaXJjbGU+PGxpbmUgeDE9IjEyIiB5MT0iOCIgeDI9IjgiIHkyPSIxMiI+PC9saW5lPjxsaW5lIHgxPSIxMiIgeTE9IjgiIHgyPSIxMiIgeTI9IjE2Ij48L2xpbmU+PGxpbmUgeDE9IjE2IiB5MT0iMTIiIHgyPSIxMiIgeTI9IjgiPjwvbGluZT48L3N2Zz4=);background-color:var(--awUI-priority-a)}a[priority=B]:before,.priority[href="#/page/B"]:before{background-color:var(--awUI-priority-b);--awUI-priority-bg: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGNsYXNzPSJpY29uIGljb24tdGFibGVyIGljb24tdGFibGVyLWNpcmNsZS1kb3QiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iY3VycmVudENvbG9yIiBmaWxsPSJub25lIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxkZXNjPkRvd25sb2FkIG1vcmUgaWNvbiB2YXJpYW50cyBmcm9tIGh0dHBzOi8vdGFibGVyLWljb25zLmlvL2kvY2lyY2xlLWRvdDwvZGVzYz48cGF0aCBzdHJva2U9Im5vbmUiIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxIj48L2NpcmNsZT48Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI5Ij48L2NpcmNsZT48L3N2Zz4=)}a[priority=C]:before,.priority[href="#/page/C"]:before{background-color:var(--awUI-priority-c);--awUI-priority-bg: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGNsYXNzPSJpY29uIGljb24tdGFibGVyIGljb24tdGFibGVyLWFycm93LWRvd24tY2lyY2xlIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48ZGVzYz5Eb3dubG9hZCBtb3JlIGljb24gdmFyaWFudHMgZnJvbSBodHRwczovL3RhYmxlci1pY29ucy5pby9pL2Fycm93LWRvd24tY2lyY2xlPC9kZXNjPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSI+PC9wYXRoPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjkiPjwvY2lyY2xlPjxsaW5lIHgxPSI4IiB5MT0iMTIiIHgyPSIxMiIgeTI9IjE2Ij48L2xpbmU+PGxpbmUgeDE9IjEyIiB5MT0iOCIgeDI9IjEyIiB5Mj0iMTYiPjwvbGluZT48bGluZSB4MT0iMTYiIHkxPSIxMiIgeDI9IjEyIiB5Mj0iMTYiPjwvbGluZT48L3N2Zz4=)}a.tooltip-priority{transition:none}
`,En=()=>{N.pluginConfig.featureTasksEnabled?Fr():Dr()},Fr=()=>{!N.pluginConfig.featureTasksEnabled||setTimeout(()=>{logseq.provideStyle({key:"awUI-tasks-css",style:Sn})},500)},Dr=()=>{Y.head.querySelector(`style[data-injected-style="awUI-tasks-css-${N.pluginID}"]`)?.remove()},jn=`[data-refs-self*=".kanban"]>.block-children-container>.block-children{display:inline-flex;margin:0 10px;border:0}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block{display:inline-block;padding:0;width:inherit;min-width:200px;margin-right:10px;border-radius:4px;background-color:var(--ls-secondary-background-color);border:1px solid var(--ls-border-color)}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block>.flex-row{background-color:var(--ls-tertiary-background-color);border-bottom:1px solid var(--ls-border-color);padding:4px 6px}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block>.flex-row>.block-content-wrapper{width:100%}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block>.flex-row>.block-content-wrapper>.flex{overflow:hidden}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block>.flex-row .inline,[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block>.flex-row .inline .page-ref{font-weight:500}[data-refs-self*=".kanban"] .todo-master-progress-bar{max-width:90%}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block>.block-children-container{margin:0!important}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block:before{display:none}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block:last-child{margin-bottom:0}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block>.flex-row>.mr-1{display:none}[data-refs-self*=".kanban"]>.block-children-container>.block-children>.ls-block>.block-children-container>.block-children{padding:10px 0;border:0}[data-refs-self*=kanban]>.flex>.block-content-wrapper:before,[data-refs-self*=kanban]>.block-children-container>.block-children>.ls-block>.flex>.block-content-wrapper:before,[data-refs-self*=kanban]>.block-children-container>.block-children>.ls-block>.block-children-container>.block-children>.ls-block:before,[data-refs-self*=kanban]>.block-children-container>.block-children>.ls-block>.block-children-container>.block-children>.ls-block>.flex>.mr-1:before{display:none!important}[data-refs-self*=".grid"]>.block-children-container>.block-children{display:inline-flex;position:relative;margin:0 10px;border:0}[data-refs-self*=".grid"]>.block-children-container>.block-children>.ls-block{padding:0}[data-refs-self*=".grid"] .block-children-container .mr-1.flex{display:none}[data-refs-self*=".grid"] .pr-2{padding:0}
`,Tn=()=>{N.pluginConfig.featureColumnsEnabled?Rr():Hr()},Rr=()=>{!N.pluginConfig.featureColumnsEnabled||setTimeout(()=>{logseq.provideStyle({key:"awUI-columns-css",style:jn})},500)},Hr=()=>{Y.head.querySelector(`style[data-injected-style="awUI-columns-css-${N.pluginID}"]`)?.remove()},An=`div:not(.initial)>div>div>div>[data-refs-self='["quote"]']{--ls-guideline-color: transparent;transform:translate(-4px,-5px);margin:8px 0;padding:8px 0;border-radius:5px;border-left:4px solid var(--ls-page-blockquote-border-color);color:var(--ls-page-blockquote-color);background-color:var(--ls-page-blockquote-bg-color)}div:not(.initial)>div>div>div>[data-refs-self='["quote"]'].selected{background-color:var(--ls-block-highlight-color)}
`,On=()=>{N.pluginConfig.featureQuoteEnabled?zr():qr()},zr=()=>{!N.pluginConfig.featureQuoteEnabled||setTimeout(()=>{logseq.provideStyle({key:"awUI-quote-css",style:An})},500)},qr=()=>{Y.head.querySelector(`style[data-injected-style="awUI-quote-css-${N.pluginID}"]`)?.remove()},Ln=`.ls-block :is(h1,h2,h3,h4,h5):after{display:var(--headers-labels, inline-block);margin-left:4px;padding:2px 4px;border-radius:2px;font-size:11px;vertical-align:baseline;color:var(--ls-primary-text-color);font-family:var(--awUI-code-font);opacity:.3;transition:opacity .3s}.ls-block :is(h1,h2,h3,h4,h5):hover:after{opacity:.5}.ls-block h1:after{content:"h1"}.ls-block h2:after{content:"h2"}.ls-block h3:after{content:"h3"}.ls-block h4:after{content:"h4"}.ls-block h5:after{content:"h5"}.block-ref :is(h1,h2,h3,h4,h5){border-bottom:none;font-size:1em}.block-ref :is(h1,h2,h3,h4,h5):after{display:none}
`,Un=()=>{N.pluginConfig.featureHeadersLabelsEnabled?Br():Gr()},Br=()=>{!N.pluginConfig.featureHeadersLabelsEnabled||setTimeout(()=>{logseq.provideStyle({key:"awUI-headersLabels-css",style:Ln})},500)},Gr=()=>{Y.head.querySelector(`style[data-injected-style="awUI-headersLabels-css-${N.pluginID}"]`)?.remove()},Pn=`main{border-bottom:1px solid #80808080}main .flex{align-items:flex-end}.light .logseq-tab,.dark .logseq-tab{padding:4px 8px;height:auto;color:var(--ls-primary-text-color)!important;background-color:var(--ls-primary-background-color)!important;box-shadow:none;border-color:#80808080!important;border-bottom:0;border-bottom-left-radius:0;border-bottom-right-radius:0;-webkit-app-region:no-drag}.light .logseq-tab[data-active=true],.dark .logseq-tab[data-active=true]{color:var(--ls-primary-text-color)!important;background-color:var(--ls-secondary-background-color)!important;box-shadow:var(--ls-link-text-color) 0 -1px 1px 0;transform:translateY(1px)}.light .logseq-tab div,.dark .logseq-tab div{border:0;background-color:transparent}.light .logseq-tab button:hover,.dark .logseq-tab button:hover,.light .logseq-tab[data-active=true] button:hover,.dark .logseq-tab[data-active=true] button:hover{background-color:transparent!important}.logseq-tab-title{transition:none}.close-all .logseq-tab-title:before{content:"\\274c";margin-right:4px;opacity:.8}
`;setTimeout(()=>{logseq.App.onThemeChanged(()=>{Lr()}),logseq.App.onThemeModeChanged(()=>{Lr()})},2e3);const Lr=()=>{Hn()},$r=(g,C,B)=>{const te=g.contentDocument;te&&te.head.insertAdjacentHTML("beforeend",`<style id='${B}'>
                ${C}
            </style>`)},yr=(g,C)=>{const B=g.contentDocument;B&&B.getElementById(C)?.remove()},Mn=()=>{const g=Y.createElement("a");Oe.insertAdjacentElement("beforeend",g);const C=getComputedStyle(g).color.trim();return g.remove(),`
        :root {
            --ls-primary-text-color:${getComputedStyle(Y.querySelector(".cp__sidebar-main-content")).color.trim()};
            --ls-link-text-color:${C};
            --ls-primary-background-color:${$t(Y.querySelector(".cp__sidebar-main-content")).trim()};
            --ls-secondary-background-color:${$t(Y.querySelector(".left-sidebar-inner")).trim()};
        }
    `},Nn=g=>{setTimeout(()=>{yr(g,"tabs-styles"),$r(g,Pn,"tabs-styles")},400)},Wr=g=>{setTimeout(()=>{yr(g,"tabs-vars"),$r(g,Mn(),"tabs-vars")},800)},Fn=g=>{yr(g,"tabs-styles"),yr(g,"tabs-vars")},Dn=async()=>{N.tabsPluginIframe&&(Nn(N.tabsPluginIframe),Wr(N.tabsPluginIframe))},Rn=()=>{N.tabsPluginIframe&&Fn(N.tabsPluginIframe)},Hn=()=>{Ne.style.setProperty("--awUI-calc-bg",$t(Y.querySelector(".left-sidebar-inner")).trim()),N.tabsPluginIframe&&Wr(N.tabsPluginIframe)},zn=`#logseq-agenda_lsp_main#logseq-agenda_lsp_main{z-index:3!important;width:calc(100% - var(--ls-left-sidebar-width) - var(--awUI-calc-right-sidebar-width, var(--ls-right-sidebar-width)));height:calc(100% - var(--awUI-tabs-height) - var(--awUI-head-height))!important;left:var(--ls-left-sidebar-width);right:var(--awUI-calc-right-sidebar-width, var(--ls-right-sidebar-width));top:calc(var(--awUI-tabs-height) + var(--awUI-head-height))!important}#awUI-calendar-menu .ls-icon-calendar-time:before{content:"\\ee21"}
`,jr=()=>{const g=Y.getElementById("right-sidebar")?.getBoundingClientRect()?.width;Ne.style.setProperty("--awUI-calc-right-sidebar-width",`${g}px`)},qn=()=>{N.pluginConfig.featureCalendarEnabled?Zr():Yr()},Zr=async g=>{if(!N.pluginConfig.featureCalendarEnabled)return;logseq.provideStyle({key:"awUI-calendar-css",style:zn});const C=Y.querySelector(".nav-header .journals-nav"),B=`
        <div class="calendar-nav">
            <a href="#/page/Calendar" class="item group flex items-center text-sm font-medium rounded-md" id="awUI-calendar-menu">
                <span class="ui__icon ti ls-icon-calendar-time"></span><span class="flex-1">Calendar</span>
                </a>
        </div>
    `;C?.insertAdjacentHTML("afterend",B);const te=Y.getElementById("awUI-calendar-menu");if(jr(),g||(g=Y.getElementById("logseq-agenda_lsp_main"),g&&console.log("AwesomeUI: agenda plugin found on init!")),!g){console.log("AwesomeUI: agenda plugin not found!");return}const H=Y.querySelector("#injected-ui-item-logseq-plugin-agenda-logseq-agenda .button");if(!H){logseq.UI.showMsg('AwesomeUI: "Agenda" plugin button not found on toolbar, plz pin it and restart Logseq!',"warning",{timeout:2e4});return}if(!te){console.log("AwesomeUI: calendar button not found!");return}const ke=()=>{g.classList.remove("visible"),te.classList.remove("active")},D=()=>{jr(),H.click(),te.classList.add("active")};te.addEventListener("click",D,!1),logseq.App.onRouteChanged(({path:p})=>{p!=="/page/Calendar"&&ke()}),logseq.App.onSidebarVisibleChanged(()=>{jr()})},Yr=()=>{Y.head.querySelector(`style[data-injected-style="awUI-calendar-css-${N.pluginID}"]`)?.remove(),Y.querySelector(".nav-header .calendar-nav")?.remove()};const Bn=async()=>{Wt(),Zn(),Ur(),logseq.App.onRouteChanged(()=>{Yn(),setTimeout(()=>{Wt(),Ur()},100)})},Gn=()=>{Jr(),Vr()},$n=()=>{N.pluginConfig.featureHideDotProps?Wt():Jr()},Wn=()=>{N.pluginConfig.featureHideSetOfProps?Wt():Vr()},Jr=()=>{const g=Y.querySelectorAll(".awUI-hideDotProp");if(g.length)for(let C=0;C<g.length;C++)g[C].classList.remove("hidden","awUI-hideDotProp")},Vr=()=>{const g=Y.querySelectorAll(".awUI-hideSetOfProps");if(g.length)for(let C=0;C<g.length;C++)g[C].classList.remove("hidden","awUI-hideSetOfProps")},Wt=async()=>{if(!N.pluginConfig.featureHideDotProps&&!N.pluginConfig.featureHideSetOfProps)return;let g=[];N.pluginConfig.featureHideSetOfProps&&(g=N.pluginConfig.featureHideSetOfProps.trim().toLowerCase().replaceAll(", ",",").split(","));const C=Y.querySelectorAll(".block-properties .page-property-key");if(C.length)for(let B=0;B<C.length;B++){const te=C[B].textContent,H=C[B].parentElement.parentElement;te&&H&&(N.pluginConfig.featureHideDotProps&&te?.startsWith(".")?H.classList.add("hidden","awUI-hideDotProp"):N.pluginConfig.featureHideSetOfProps&&g.includes(te)?H.classList.add("hidden","awUI-hideSetOfProps"):H.classList.remove("hidden","awUI-hideSetOfProps"))}};let Xr,Ar;const Zn=()=>{Xr={attributes:!0,attributeFilter:["class"],attributeOldValue:!0,subtree:!0};const g=function(C){for(let B=0;B<C.length;B++){const te=C[B],H=te.target;H&&H.offsetParent?.classList.contains("pre-block")&&te.oldValue==="editor-wrapper"&&setTimeout(()=>{Wt()},10)}};Ar=new MutationObserver(g)},Ur=()=>{const g=Y.getElementsByClassName("content")[0]?.firstChild?.firstChild?.firstChild?.firstChild;g&&Ar.observe(g,Xr)},Yn=()=>{Ar.disconnect()},Jn=`:root{--awUI-propEdit-icon: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' stroke='%23888A' fill='none' %3e%3cpath d='M4.182 4h-.727A1.455 1.455 0 0 0 2 5.455V12a1.454 1.454 0 0 0 1.455 1.454H10A1.454 1.454 0 0 0 11.454 12v-.727'/%3e%3cpath d='m10.636 2.636 2.182 2.182m1.011-1.033a1.527 1.527 0 0 0-2.16-2.16L5.545 7.727V9.91h2.182l6.102-6.116v-.008Z'/%3e%3c/svg%3e")}.block-properties.block-properties.block-properties{display:grid!important;grid-template-columns:1fr 10fr;overflow:hidden;position:relative;margin:0;padding:0 8px!important;border:4px solid var(--ls-page-properties-background-color)!important}.is-awSt-theme .block-properties *:before,.block-properties *:after{transform:translateY(-1px)}.ls-block[data-collapsed]>div>div>div>div>.block-content>.block-properties{display:none!important}.ls-block:not([data-collapsed])>div>div>div>div>.block-content>.block-properties,.ls-block[data-collapsed=false]>div>div>div>div>.block-content>.block-properties{display:grid!important}.block-properties>div{display:contents!important}.block-properties>div>:is(div,span){margin:0}.block-properties span.mr-1{display:none}.block-properties .page-property-value{overflow:hidden;text-overflow:ellipsis}.block-properties>div>:is(div,span):first-child{padding:0 1.7em;position:relative}.block-properties .bracket{display:none}.block-properties>div>:is(div,span):first-child:after{content:"\\25cf";position:absolute;top:.6em;right:.8em;color:var(--ls-primary-text-color);opacity:.2;font-family:Inter;font-size:.6em}.block-properties .page-property-value:before{content:"\\ea08";position:absolute;z-index:0;margin-top:-.12ex;left:9px;font-family:tabler-icons;color:#888a;background:var(--ls-page-properties-background-color);font-size:1.13em;font-weight:400}.block-properties .page-property-value a.external-link:before{content:"\\eade";position:absolute;z-index:1;margin-top:-.24ex;left:8px;font-family:tabler-icons;color:#888a;background:var(--ls-page-properties-background-color);font-size:1.13em;font-weight:400}.block-properties .page-property-value .page-reference:first-of-type:before{content:"\\ea24";position:absolute;z-index:1;margin-top:-.36ex;left:7px;font-family:tabler-icons;color:#888a;background:var(--ls-page-properties-background-color);font-size:1.3em;font-weight:400}.block-properties .page-property-key[data-ref]:before{content:"";position:absolute;z-index:2;top:-.12ex;left:0;font-family:tabler-icons;color:#888a;background:var(--ls-page-properties-background-color);font-size:1.13em;font-weight:400}.block-properties .page-property-key[data-ref=link]:before,.block-properties .page-property-key[data-ref=links]:before,.block-properties .page-property-key[data-ref=url]:before,.block-properties .page-property-key[data-ref=source]:before{content:"\\eade"!important}.block-properties .page-property-key[data-ref=tags]:before,.block-properties .page-property-key[data-ref=tag]:before{content:"\\eb34"!important}.block-properties .page-property-key[data-ref=alias]:before{content:"\\edef"!important}.block-properties .page-property-key[data-ref=related]:before{content:"\\edff"!important}.block-properties .page-property-key[data-ref=media]:before{content:"\\ece8"!important}.block-properties .page-property-key[data-ref*=type]:before{content:"\\eaba"!important}.block-properties .page-property-key[data-ref=area]:before{content:"\\edc5"!important}.block-properties .page-property-key[data-ref*=category]:before,.block-properties .page-property-key[data-ref=subcategory]:before,.block-properties .page-property-key[data-ref=topic]:before{content:"\\ec9f"!important}.block-properties .page-property-key[data-ref*=author]:before,.block-properties .page-property-key[data-ref*=creator]:before,.block-properties .page-property-key[data-ref*=owner]:before,.block-properties .page-property-key[data-ref=who]:before,.block-properties .page-property-key[data-ref*=attendee]:before,.block-properties .page-property-key[data-ref*=participant]:before{content:"\\ef68"!important}.block-properties .page-property-key[data-ref*=project]:before{content:"\\ecef"!important}.block-properties .page-property-key[data-ref*=task]:before{content:"\\eb6a"!important}.block-properties .page-property-key[data-ref*=status]:before{content:"\\ea67"!important}.block-properties .page-property-key[data-ref*=date]:before,.block-properties .page-property-key[data-ref*=day]:before,.block-properties .page-property-key[data-ref*=week]:before,.block-properties .page-property-key[data-ref*=month]:before,.block-properties .page-property-key[data-ref*=year]:before{content:"\\ea52"!important}.block-properties .page-property-key[data-ref*=time]:before,.block-properties .page-property-key[data-ref*=duration]:before{content:"\\ea04"!important}.block-properties .page-property-key[data-ref*=image]:before,.block-properties .page-property-key[data-ref*=cover]:before,.block-properties .page-property-key[data-ref=banner]:before{content:"\\eb0a"!important}.block-properties .page-property-key[data-ref*=book]:before,.block-properties .page-property-key[data-ref*=pdf]:before{content:"\\ea39"!important}.block-properties .page-property-value a[data-href*=pdf]:before{content:"\\ea39";position:absolute;z-index:2;margin-top:-.12ex;left:8px;font-family:tabler-icons;color:#888a;background:var(--ls-page-properties-background-color);font-size:1.13em;font-weight:400}.block-properties .page-property-key[data-ref*=article]:before{content:"\\eafd"!important}.block-properties .page-property-key[data-ref*=slide]:before,.block-properties .page-property-key[data-ref=presentation]:before{content:"\\eb70"!important}.block-properties .page-property-key[data-ref*=file]:before{content:"\\eb02"!important}.block-properties .page-property-key[data-ref*=title]:before{content:"\\f2b1"!important}.block-properties .page-property-key[data-ref*=library]:before{content:"\\efc5"!important}.block-properties .page-property-key[data-ref=number]:before,.block-properties .page-property-key[data-ref=isbn]:before{content:"\\f1fe"!important}.block-properties .page-property-key[data-ref=code]:before{content:"\\ea77"!important}.block-properties .page-property-key[data-ref*=quote]:before{content:"\\efbe"!important}.block-properties .page-property-key[data-ref*=summary]:before,.block-properties .page-property-key[data-ref*=note]:before{content:"\\eb83"!important}.block-properties .page-property-key[data-ref=publisher]:before,.block-properties .page-property-key[data-ref=print]:before{content:"\\eb0e"!important}.block-properties .page-property-key[data-ref=location]:before,.block-properties .page-property-key[data-ref=place]:before{content:"\\eae8"!important}.block-properties .page-property-key[data-ref*=rating]:before,.block-properties .page-property-key[data-ref*=quality]:before{content:"\\eb2e"!important}.block-properties .page-property-key[data-ref=lang]:before,.block-properties .page-property-key[data-ref=language]:before{content:"\\eaa6"!important}.block-properties .page-property-key[data-ref*=level]:before{content:"\\efee"!important}.block-properties .page-property-key[data-ref*=size]:before{content:"\\eef7"!important}.block-properties .page-property-key[data-ref*=price]:before{content:"\\ee1e"!important}.block-properties .page-property-key[data-ref=paid]:before{content:"\\eb25"!important}.block-properties .page-property-key[data-ref=certificate]:before{content:"\\ed76"!important}.pre-block>.flex>.editor-wrapper>.editor-inner>textarea{padding:0 0 0 2.2em!important;border:4px solid transparent!important;background:var(--awUI-propEdit-icon) .45em 0 / 1.2em 24px repeat-y local,linear-gradient(transparent 0%,transparent 96%,#88888833 100%) 0 0 / 1px 24px repeat local!important;white-space:pre;overflow:auto}.page-property-key{min-width:unset!important;max-width:unset!important}.block-properties:before,.block-properties .inline.mr-1:before{display:none!important}
`,Vn=()=>{N.pluginConfig.featureAwesomeProps?Qr():Kr()},Qr=()=>{!N.pluginConfig.featureAwesomeProps||(Oe.classList.add("awUi-props"),setTimeout(()=>{logseq.provideStyle({key:"awUI-awesomeProps-css",style:Jn})},500))},Kr=()=>{Y.head.querySelector(`style[data-injected-style="awUI-awesomeProps-css-${N.pluginID}"]`)?.remove(),Oe.classList.remove("awUi-props")};const Xn=async()=>{console.log("AwesomeUI: plugin loaded"),an(),ln()};logseq.ready(Xn).catch(null);
//# sourceMappingURL=awesomeUI.js.map
