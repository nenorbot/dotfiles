(function(){const j=document.createElement("link").relList;if(j&&j.supports&&j.supports("modulepreload"))return;for(const B of document.querySelectorAll('link[rel="modulepreload"]'))Q(B);new MutationObserver(B=>{for(const ye of B)if(ye.type==="childList")for(const H of ye.addedNodes)H.tagName==="LINK"&&H.rel==="modulepreload"&&Q(H)}).observe(document,{childList:!0,subtree:!0});function G(B){const ye={};return B.integrity&&(ye.integrity=B.integrity),B.referrerpolicy&&(ye.referrerPolicy=B.referrerpolicy),B.crossorigin==="use-credentials"?ye.credentials="include":B.crossorigin==="anonymous"?ye.credentials="omit":ye.credentials="same-origin",ye}function Q(B){if(B.ep)return;B.ep=!0;const ye=G(B);fetch(B.href,ye)}})();var yn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dn={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */(function(f,j){(function(G,Q){f.exports=Q()})(self,()=>(()=>{var G={227:(H,p,E)=>{var M=E(155);p.formatArgs=function(T){if(T[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+T[0]+(this.useColors?"%c ":" ")+"+"+H.exports.humanize(this.diff),!this.useColors)return;const U="color: "+this.color;T.splice(1,0,U,"color: inherit");let b=0,u=0;T[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(b++,y==="%c"&&(u=b))}),T.splice(u,0,U)},p.save=function(T){try{T?p.storage.setItem("debug",T):p.storage.removeItem("debug")}catch{}},p.load=function(){let T;try{T=p.storage.getItem("debug")}catch{}return!T&&M!==void 0&&"env"in M&&(T=M.env.DEBUG),T},p.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer"&&!window.process.__nwjs)||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},p.storage=function(){try{return localStorage}catch{}}(),p.destroy=(()=>{let T=!1;return()=>{T||(T=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),p.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],p.log=console.debug||console.log||(()=>{}),H.exports=E(447)(p);const{formatters:C}=H.exports;C.j=function(T){try{return JSON.stringify(T)}catch(U){return"[UnexpectedJSONParseError]: "+U.message}}},447:(H,p,E)=>{H.exports=function(M){function C(b){let u,y=null;function m(...R){if(!m.enabled)return;const L=m,P=Number(new Date),W=P-(u||P);L.diff=W,L.prev=u,L.curr=P,u=P,R[0]=C.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let A=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(N,i)=>{if(N==="%%")return"%";A++;const a=C.formatters[i];if(typeof a=="function"){const h=R[A];N=a.call(L,h),R.splice(A,1),A--}return N}),C.formatArgs.call(L,R),(L.log||C.log).apply(L,R)}return m.namespace=b,m.useColors=C.useColors(),m.color=C.selectColor(b),m.extend=T,m.destroy=C.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>y===null?C.enabled(b):y,set:R=>{y=R}}),typeof C.init=="function"&&C.init(m),m}function T(b,u){const y=C(this.namespace+(u===void 0?":":u)+b);return y.log=this.log,y}function U(b){return b.toString().substring(2,b.toString().length-2).replace(/\.\*\?$/,"*")}return C.debug=C,C.default=C,C.coerce=function(b){return b instanceof Error?b.stack||b.message:b},C.disable=function(){const b=[...C.names.map(U),...C.skips.map(U).map(u=>"-"+u)].join(",");return C.enable(""),b},C.enable=function(b){let u;C.save(b),C.names=[],C.skips=[];const y=(typeof b=="string"?b:"").split(/[\s,]+/),m=y.length;for(u=0;u<m;u++)y[u]&&((b=y[u].replace(/\*/g,".*?"))[0]==="-"?C.skips.push(new RegExp("^"+b.substr(1)+"$")):C.names.push(new RegExp("^"+b+"$")))},C.enabled=function(b){if(b[b.length-1]==="*")return!0;let u,y;for(u=0,y=C.skips.length;u<y;u++)if(C.skips[u].test(b))return!1;for(u=0,y=C.names.length;u<y;u++)if(C.names[u].test(b))return!0;return!1},C.humanize=E(824),C.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(M).forEach(b=>{C[b]=M[b]}),C.names=[],C.skips=[],C.formatters={},C.selectColor=function(b){let u=0;for(let y=0;y<b.length;y++)u=(u<<5)-u+b.charCodeAt(y),u|=0;return C.colors[Math.abs(u)%C.colors.length]},C.enable(C.load()),C}},856:function(H){H.exports=function(){function p(z){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(z)}function E(z,_){return(E=Object.setPrototypeOf||function(O,Z){return O.__proto__=Z,O})(z,_)}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C(z,_,O){return(C=M()?Reflect.construct:function(Z,oe,Ee){var Ke=[null];Ke.push.apply(Ke,oe);var We=new(Function.bind.apply(Z,Ke));return Ee&&E(We,Ee.prototype),We}).apply(null,arguments)}function T(z){return function(_){if(Array.isArray(_))return U(_)}(z)||function(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}(z)||function(_,O){if(_){if(typeof _=="string")return U(_,O);var Z=Object.prototype.toString.call(_).slice(8,-1);return Z==="Object"&&_.constructor&&(Z=_.constructor.name),Z==="Map"||Z==="Set"?Array.from(_):Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z)?U(_,O):void 0}}(z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function U(z,_){(_==null||_>z.length)&&(_=z.length);for(var O=0,Z=new Array(_);O<_;O++)Z[O]=z[O];return Z}var b=Object.hasOwnProperty,u=Object.setPrototypeOf,y=Object.isFrozen,m=Object.getPrototypeOf,R=Object.getOwnPropertyDescriptor,L=Object.freeze,P=Object.seal,W=Object.create,A=typeof Reflect<"u"&&Reflect,N=A.apply,i=A.construct;N||(N=function(z,_,O){return z.apply(_,O)}),L||(L=function(z){return z}),P||(P=function(z){return z}),i||(i=function(z,_){return C(z,T(_))});var a,h=l(Array.prototype.forEach),k=l(Array.prototype.pop),$=l(Array.prototype.push),Y=l(String.prototype.toLowerCase),re=l(String.prototype.match),ae=l(String.prototype.replace),ke=l(String.prototype.indexOf),Ce=l(String.prototype.trim),se=l(RegExp.prototype.test),Ze=(a=TypeError,function(){for(var z=arguments.length,_=new Array(z),O=0;O<z;O++)_[O]=arguments[O];return i(a,_)});function l(z){return function(_){for(var O=arguments.length,Z=new Array(O>1?O-1:0),oe=1;oe<O;oe++)Z[oe-1]=arguments[oe];return N(z,_,Z)}}function d(z,_){u&&u(z,null);for(var O=_.length;O--;){var Z=_[O];if(typeof Z=="string"){var oe=Y(Z);oe!==Z&&(y(_)||(_[O]=oe),Z=oe)}z[Z]=!0}return z}function F(z){var _,O=W(null);for(_ in z)N(b,z,[_])&&(O[_]=z[_]);return O}function te(z,_){for(;z!==null;){var O=R(z,_);if(O){if(O.get)return l(O.get);if(typeof O.value=="function")return l(O.value)}z=m(z)}return function(Z){return console.warn("fallback value for",Z),null}}var _e=L(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),fe=L(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),V=L(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),le=L(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),be=L(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ve=L(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ue=L(["#text"]),Se=L(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ce=L(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ne=L(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),he=L(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Le=P(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ye=P(/<%[\w\W]*|[\w\W]*%>/gm),qe=P(/^data-[\-\w.\u00B7-\uFFFF]/),$e=P(/^aria-[\-\w]+$/),ft=P(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),it=P(/^(?:\w+script|data):/i),Vt=P(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),wn=P(/^html$/i),Zt=function(){return typeof window>"u"?null:window},_n=function(z,_){if(p(z)!=="object"||typeof z.createPolicy!="function")return null;var O=null,Z="data-tt-policy-suffix";_.currentScript&&_.currentScript.hasAttribute(Z)&&(O=_.currentScript.getAttribute(Z));var oe="dompurify"+(O?"#"+O:"");try{return z.createPolicy(oe,{createHTML:function(Ee){return Ee}})}catch{return console.warn("TrustedTypes policy "+oe+" could not be created."),null}};return function z(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zt(),O=function(r){return z(r)};if(O.version="2.3.8",O.removed=[],!_||!_.document||_.document.nodeType!==9)return O.isSupported=!1,O;var Z=_.document,oe=_.document,Ee=_.DocumentFragment,Ke=_.HTMLTemplateElement,We=_.Node,Yt=_.Element,St=_.NodeFilter,gt=_.NamedNodeMap,Et=gt===void 0?_.NamedNodeMap||_.MozNamedAttrMap:gt,Kt=_.HTMLFormElement,At=_.DOMParser,Xt=_.trustedTypes,at=Yt.prototype,en=te(at,"cloneNode"),tn=te(at,"nextSibling"),xn=te(at,"childNodes"),jt=te(at,"parentNode");if(typeof Ke=="function"){var ht=oe.createElement("template");ht.content&&ht.content.ownerDocument&&(oe=ht.content.ownerDocument)}var Re=_n(Xt,Z),nn=Re?Re.createHTML(""):"",X=oe,mt=X.implementation,st=X.createNodeIterator,Tt=X.createDocumentFragment,rn=X.getElementsByTagName,on=Z.importNode,Ot={};try{Ot=F(oe).documentMode?oe.documentMode:{}}catch{}var Ae={};O.isSupported=typeof jt=="function"&&mt&&mt.createHTMLDocument!==void 0&&Ot!==9;var lt,Ge,It=Le,yt=Ye,Cn=qe,kn=$e,Sn=it,an=Vt,bt=ft,me=null,sn=d({},[].concat(T(_e),T(fe),T(V),T(be),T(Ue))),we=null,Ft=d({},[].concat(T(Se),T(ce),T(ne),T(he))),ue=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Xe=null,Lt=null,ln=!0,Mt=!0,cn=!1,De=!1,Me=!1,Pt=!1,Nt=!1,et=!1,ct=!1,ut=!1,dt=!0,Rt=!0,Qe=!1,tt={},nt=null,Dt=d({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),He=null,un=d({},["audio","video","img","source","image","track"]),Ht=null,vt=d({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),zt="http://www.w3.org/1998/Math/MathML",Bt="http://www.w3.org/2000/svg",ze="http://www.w3.org/1999/xhtml",wt=ze,Ut=!1,qt=["application/xhtml+xml","text/html"],En="text/html",rt=null,An=oe.createElement("form"),dn=function(r){return r instanceof RegExp||r instanceof Function},Ie=function(r){rt&&rt===r||(r&&p(r)==="object"||(r={}),r=F(r),me="ALLOWED_TAGS"in r?d({},r.ALLOWED_TAGS):sn,we="ALLOWED_ATTR"in r?d({},r.ALLOWED_ATTR):Ft,Ht="ADD_URI_SAFE_ATTR"in r?d(F(vt),r.ADD_URI_SAFE_ATTR):vt,He="ADD_DATA_URI_TAGS"in r?d(F(un),r.ADD_DATA_URI_TAGS):un,nt="FORBID_CONTENTS"in r?d({},r.FORBID_CONTENTS):Dt,Xe="FORBID_TAGS"in r?d({},r.FORBID_TAGS):{},Lt="FORBID_ATTR"in r?d({},r.FORBID_ATTR):{},tt="USE_PROFILES"in r&&r.USE_PROFILES,ln=r.ALLOW_ARIA_ATTR!==!1,Mt=r.ALLOW_DATA_ATTR!==!1,cn=r.ALLOW_UNKNOWN_PROTOCOLS||!1,De=r.SAFE_FOR_TEMPLATES||!1,Me=r.WHOLE_DOCUMENT||!1,et=r.RETURN_DOM||!1,ct=r.RETURN_DOM_FRAGMENT||!1,ut=r.RETURN_TRUSTED_TYPE||!1,Nt=r.FORCE_BODY||!1,dt=r.SANITIZE_DOM!==!1,Rt=r.KEEP_CONTENT!==!1,Qe=r.IN_PLACE||!1,bt=r.ALLOWED_URI_REGEXP||bt,wt=r.NAMESPACE||ze,r.CUSTOM_ELEMENT_HANDLING&&dn(r.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ue.tagNameCheck=r.CUSTOM_ELEMENT_HANDLING.tagNameCheck),r.CUSTOM_ELEMENT_HANDLING&&dn(r.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ue.attributeNameCheck=r.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),r.CUSTOM_ELEMENT_HANDLING&&typeof r.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ue.allowCustomizedBuiltInElements=r.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),lt=lt=qt.indexOf(r.PARSER_MEDIA_TYPE)===-1?En:r.PARSER_MEDIA_TYPE,Ge=lt==="application/xhtml+xml"?function(x){return x}:Y,De&&(Mt=!1),ct&&(et=!0),tt&&(me=d({},T(Ue)),we=[],tt.html===!0&&(d(me,_e),d(we,Se)),tt.svg===!0&&(d(me,fe),d(we,ce),d(we,he)),tt.svgFilters===!0&&(d(me,V),d(we,ce),d(we,he)),tt.mathMl===!0&&(d(me,be),d(we,ne),d(we,he))),r.ADD_TAGS&&(me===sn&&(me=F(me)),d(me,r.ADD_TAGS)),r.ADD_ATTR&&(we===Ft&&(we=F(we)),d(we,r.ADD_ATTR)),r.ADD_URI_SAFE_ATTR&&d(Ht,r.ADD_URI_SAFE_ATTR),r.FORBID_CONTENTS&&(nt===Dt&&(nt=F(nt)),d(nt,r.FORBID_CONTENTS)),Rt&&(me["#text"]=!0),Me&&d(me,["html","head","body"]),me.table&&(d(me,["tbody"]),delete Xe.tbody),L&&L(r),rt=r)},pt=d({},["mi","mo","mn","ms","mtext"]),$t=d({},["foreignobject","desc","title","annotation-xml"]),_t=d({},["title","style","font","a","script"]),xt=d({},fe);d(xt,V),d(xt,le);var Wt=d({},be);d(Wt,ve);var jn=function(r){var x=jt(r);x&&x.tagName||(x={namespaceURI:ze,tagName:"template"});var v=Y(r.tagName),ee=Y(x.tagName);return r.namespaceURI===Bt?x.namespaceURI===ze?v==="svg":x.namespaceURI===zt?v==="svg"&&(ee==="annotation-xml"||pt[ee]):Boolean(xt[v]):r.namespaceURI===zt?x.namespaceURI===ze?v==="math":x.namespaceURI===Bt?v==="math"&&$t[ee]:Boolean(Wt[v]):r.namespaceURI===ze&&!(x.namespaceURI===Bt&&!$t[ee])&&!(x.namespaceURI===zt&&!pt[ee])&&!Wt[v]&&(_t[v]||!xt[v])},Fe=function(r){$(O.removed,{element:r});try{r.parentNode.removeChild(r)}catch{try{r.outerHTML=nn}catch{r.remove()}}},pn=function(r,x){try{$(O.removed,{attribute:x.getAttributeNode(r),from:x})}catch{$(O.removed,{attribute:null,from:x})}if(x.removeAttribute(r),r==="is"&&!we[r])if(et||ct)try{Fe(x)}catch{}else try{x.setAttribute(r,"")}catch{}},Ct=function(r){var x,v;if(Nt)r="<remove></remove>"+r;else{var ee=re(r,/^[\r\n\t ]+/);v=ee&&ee[0]}lt==="application/xhtml+xml"&&(r='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+r+"</body></html>");var t=Re?Re.createHTML(r):r;if(wt===ze)try{x=new At().parseFromString(t,lt)}catch{}if(!x||!x.documentElement){x=mt.createDocument(wt,"template",null);try{x.documentElement.innerHTML=Ut?"":t}catch{}}var e=x.body||x.documentElement;return r&&v&&e.insertBefore(oe.createTextNode(v),e.childNodes[0]||null),wt===ze?rn.call(x,Me?"html":"body")[0]:Me?x.documentElement:e},fn=function(r){return st.call(r.ownerDocument||r,r,St.SHOW_ELEMENT|St.SHOW_COMMENT|St.SHOW_TEXT,null,!1)},Tn=function(r){return r instanceof Kt&&(typeof r.nodeName!="string"||typeof r.textContent!="string"||typeof r.removeChild!="function"||!(r.attributes instanceof Et)||typeof r.removeAttribute!="function"||typeof r.setAttribute!="function"||typeof r.namespaceURI!="string"||typeof r.insertBefore!="function")},Pe=function(r){return p(We)==="object"?r instanceof We:r&&p(r)==="object"&&typeof r.nodeType=="number"&&typeof r.nodeName=="string"},je=function(r,x,v){Ae[r]&&h(Ae[r],function(ee){ee.call(O,x,v,rt)})},gn=function(r){var x;if(je("beforeSanitizeElements",r,null),Tn(r)||se(/[\u0080-\uFFFF]/,r.nodeName))return Fe(r),!0;var v=Ge(r.nodeName);if(je("uponSanitizeElement",r,{tagName:v,allowedTags:me}),r.hasChildNodes()&&!Pe(r.firstElementChild)&&(!Pe(r.content)||!Pe(r.content.firstElementChild))&&se(/<[/\w]/g,r.innerHTML)&&se(/<[/\w]/g,r.textContent)||v==="select"&&se(/<template/i,r.innerHTML))return Fe(r),!0;if(!me[v]||Xe[v]){if(!Xe[v]&&hn(v)&&(ue.tagNameCheck instanceof RegExp&&se(ue.tagNameCheck,v)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(v)))return!1;if(Rt&&!nt[v]){var ee=jt(r)||r.parentNode,t=xn(r)||r.childNodes;if(t&&ee)for(var e=t.length-1;e>=0;--e)ee.insertBefore(en(t[e],!0),tn(r))}return Fe(r),!0}return r instanceof Yt&&!jn(r)?(Fe(r),!0):v!=="noscript"&&v!=="noembed"||!se(/<\/no(script|embed)/i,r.innerHTML)?(De&&r.nodeType===3&&(x=r.textContent,x=ae(x,It," "),x=ae(x,yt," "),r.textContent!==x&&($(O.removed,{element:r.cloneNode()}),r.textContent=x)),je("afterSanitizeElements",r,null),!1):(Fe(r),!0)},Gt=function(r,x,v){if(dt&&(x==="id"||x==="name")&&(v in oe||v in An))return!1;if(!(Mt&&!Lt[x]&&se(Cn,x))){if(!(ln&&se(kn,x))){if(!we[x]||Lt[x]){if(!(hn(r)&&(ue.tagNameCheck instanceof RegExp&&se(ue.tagNameCheck,r)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(r))&&(ue.attributeNameCheck instanceof RegExp&&se(ue.attributeNameCheck,x)||ue.attributeNameCheck instanceof Function&&ue.attributeNameCheck(x))||x==="is"&&ue.allowCustomizedBuiltInElements&&(ue.tagNameCheck instanceof RegExp&&se(ue.tagNameCheck,v)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(v))))return!1}else if(!Ht[x]){if(!se(bt,ae(v,an,""))){if((x!=="src"&&x!=="xlink:href"&&x!=="href"||r==="script"||ke(v,"data:")!==0||!He[r])&&!(cn&&!se(Sn,ae(v,an,"")))){if(v)return!1}}}}}return!0},hn=function(r){return r.indexOf("-")>0},mn=function(r){var x,v,ee,t;je("beforeSanitizeAttributes",r,null);var e=r.attributes;if(e){var n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:we};for(t=e.length;t--;){var o=x=e[t],s=o.name,c=o.namespaceURI;if(v=s==="value"?x.value:Ce(x.value),ee=Ge(s),n.attrName=ee,n.attrValue=v,n.keepAttr=!0,n.forceKeepAttr=void 0,je("uponSanitizeAttribute",r,n),v=n.attrValue,!n.forceKeepAttr&&(pn(s,r),n.keepAttr))if(se(/\/>/i,v))pn(s,r);else{De&&(v=ae(v,It," "),v=ae(v,yt," "));var g=Ge(r.nodeName);if(Gt(g,ee,v))try{c?r.setAttributeNS(c,s,v):r.setAttribute(s,v),k(O.removed)}catch{}}}je("afterSanitizeAttributes",r,null)}},On=function r(x){var v,ee=fn(x);for(je("beforeSanitizeShadowDOM",x,null);v=ee.nextNode();)je("uponSanitizeShadowNode",v,null),gn(v)||(v.content instanceof Ee&&r(v.content),mn(v));je("afterSanitizeShadowDOM",x,null)};return O.sanitize=function(r,x){var v,ee,t,e,n;if((Ut=!r)&&(r="<!-->"),typeof r!="string"&&!Pe(r)){if(typeof r.toString!="function")throw Ze("toString is not a function");if(typeof(r=r.toString())!="string")throw Ze("dirty is not a string, aborting")}if(!O.isSupported){if(p(_.toStaticHTML)==="object"||typeof _.toStaticHTML=="function"){if(typeof r=="string")return _.toStaticHTML(r);if(Pe(r))return _.toStaticHTML(r.outerHTML)}return r}if(Pt||Ie(x),O.removed=[],typeof r=="string"&&(Qe=!1),Qe){if(r.nodeName){var o=Ge(r.nodeName);if(!me[o]||Xe[o])throw Ze("root node is forbidden and cannot be sanitized in-place")}}else if(r instanceof We)(ee=(v=Ct("<!---->")).ownerDocument.importNode(r,!0)).nodeType===1&&ee.nodeName==="BODY"||ee.nodeName==="HTML"?v=ee:v.appendChild(ee);else{if(!et&&!De&&!Me&&r.indexOf("<")===-1)return Re&&ut?Re.createHTML(r):r;if(!(v=Ct(r)))return et?null:ut?nn:""}v&&Nt&&Fe(v.firstChild);for(var s=fn(Qe?r:v);t=s.nextNode();)t.nodeType===3&&t===e||gn(t)||(t.content instanceof Ee&&On(t.content),mn(t),e=t);if(e=null,Qe)return r;if(et){if(ct)for(n=Tt.call(v.ownerDocument);v.firstChild;)n.appendChild(v.firstChild);else n=v;return we.shadowroot&&(n=on.call(Z,n,!0)),n}var c=Me?v.outerHTML:v.innerHTML;return Me&&me["!doctype"]&&v.ownerDocument&&v.ownerDocument.doctype&&v.ownerDocument.doctype.name&&se(wn,v.ownerDocument.doctype.name)&&(c="<!DOCTYPE "+v.ownerDocument.doctype.name+`>
`+c),De&&(c=ae(c,It," "),c=ae(c,yt," ")),Re&&ut?Re.createHTML(c):c},O.setConfig=function(r){Ie(r),Pt=!0},O.clearConfig=function(){rt=null,Pt=!1},O.isValidAttribute=function(r,x,v){rt||Ie({});var ee=Ge(r),t=Ge(x);return Gt(ee,t,v)},O.addHook=function(r,x){typeof x=="function"&&(Ae[r]=Ae[r]||[],$(Ae[r],x))},O.removeHook=function(r){if(Ae[r])return k(Ae[r])},O.removeHooks=function(r){Ae[r]&&(Ae[r]=[])},O.removeAllHooks=function(){Ae={}},O}()}()},729:H=>{var p=Object.prototype.hasOwnProperty,E="~";function M(){}function C(u,y,m){this.fn=u,this.context=y,this.once=m||!1}function T(u,y,m,R,L){if(typeof m!="function")throw new TypeError("The listener must be a function");var P=new C(m,R||u,L),W=E?E+y:y;return u._events[W]?u._events[W].fn?u._events[W]=[u._events[W],P]:u._events[W].push(P):(u._events[W]=P,u._eventsCount++),u}function U(u,y){--u._eventsCount==0?u._events=new M:delete u._events[y]}function b(){this._events=new M,this._eventsCount=0}Object.create&&(M.prototype=Object.create(null),new M().__proto__||(E=!1)),b.prototype.eventNames=function(){var u,y,m=[];if(this._eventsCount===0)return m;for(y in u=this._events)p.call(u,y)&&m.push(E?y.slice(1):y);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(u)):m},b.prototype.listeners=function(u){var y=E?E+u:u,m=this._events[y];if(!m)return[];if(m.fn)return[m.fn];for(var R=0,L=m.length,P=new Array(L);R<L;R++)P[R]=m[R].fn;return P},b.prototype.listenerCount=function(u){var y=E?E+u:u,m=this._events[y];return m?m.fn?1:m.length:0},b.prototype.emit=function(u,y,m,R,L,P){var W=E?E+u:u;if(!this._events[W])return!1;var A,N,i=this._events[W],a=arguments.length;if(i.fn){switch(i.once&&this.removeListener(u,i.fn,void 0,!0),a){case 1:return i.fn.call(i.context),!0;case 2:return i.fn.call(i.context,y),!0;case 3:return i.fn.call(i.context,y,m),!0;case 4:return i.fn.call(i.context,y,m,R),!0;case 5:return i.fn.call(i.context,y,m,R,L),!0;case 6:return i.fn.call(i.context,y,m,R,L,P),!0}for(N=1,A=new Array(a-1);N<a;N++)A[N-1]=arguments[N];i.fn.apply(i.context,A)}else{var h,k=i.length;for(N=0;N<k;N++)switch(i[N].once&&this.removeListener(u,i[N].fn,void 0,!0),a){case 1:i[N].fn.call(i[N].context);break;case 2:i[N].fn.call(i[N].context,y);break;case 3:i[N].fn.call(i[N].context,y,m);break;case 4:i[N].fn.call(i[N].context,y,m,R);break;default:if(!A)for(h=1,A=new Array(a-1);h<a;h++)A[h-1]=arguments[h];i[N].fn.apply(i[N].context,A)}}return!0},b.prototype.on=function(u,y,m){return T(this,u,y,m,!1)},b.prototype.once=function(u,y,m){return T(this,u,y,m,!0)},b.prototype.removeListener=function(u,y,m,R){var L=E?E+u:u;if(!this._events[L])return this;if(!y)return U(this,L),this;var P=this._events[L];if(P.fn)P.fn!==y||R&&!P.once||m&&P.context!==m||U(this,L);else{for(var W=0,A=[],N=P.length;W<N;W++)(P[W].fn!==y||R&&!P[W].once||m&&P[W].context!==m)&&A.push(P[W]);A.length?this._events[L]=A.length===1?A[0]:A:U(this,L)}return this},b.prototype.removeAllListeners=function(u){var y;return u?(y=E?E+u:u,this._events[y]&&U(this,y)):(this._events=new M,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=E,b.EventEmitter=b,H.exports=b},717:H=>{typeof Object.create=="function"?H.exports=function(p,E){p.super_=E,p.prototype=Object.create(E.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}})}:H.exports=function(p,E){p.super_=E;var M=function(){};M.prototype=E.prototype,p.prototype=new M,p.prototype.constructor=p}},824:H=>{var p=1e3,E=60*p,M=60*E,C=24*M;function T(U,b,u,y){var m=b>=1.5*u;return Math.round(U/u)+" "+y+(m?"s":"")}H.exports=function(U,b){b=b||{};var u,y,m=typeof U;if(m==="string"&&U.length>0)return function(R){if(!((R=String(R)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(L){var P=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*P;case"weeks":case"week":case"w":return 6048e5*P;case"days":case"day":case"d":return P*C;case"hours":case"hour":case"hrs":case"hr":case"h":return P*M;case"minutes":case"minute":case"mins":case"min":case"m":return P*E;case"seconds":case"second":case"secs":case"sec":case"s":return P*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return P;default:return}}}}(U);if(m==="number"&&isFinite(U))return b.long?(u=U,(y=Math.abs(u))>=C?T(u,y,C,"day"):y>=M?T(u,y,M,"hour"):y>=E?T(u,y,E,"minute"):y>=p?T(u,y,p,"second"):u+" ms"):function(R){var L=Math.abs(R);return L>=C?Math.round(R/C)+"d":L>=M?Math.round(R/M)+"h":L>=E?Math.round(R/E)+"m":L>=p?Math.round(R/p)+"s":R+"ms"}(U);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(U))}},520:(H,p,E)=>{var M=E(155),C=M.platform==="win32",T=E(539);function U(i,a){for(var h=[],k=0;k<i.length;k++){var $=i[k];$&&$!=="."&&($===".."?h.length&&h[h.length-1]!==".."?h.pop():a&&h.push(".."):h.push($))}return h}function b(i){for(var a=i.length-1,h=0;h<=a&&!i[h];h++);for(var k=a;k>=0&&!i[k];k--);return h===0&&k===a?i:h>k?[]:i.slice(h,k+1)}var u=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,y=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,m={};function R(i){var a=u.exec(i),h=(a[1]||"")+(a[2]||""),k=a[3]||"",$=y.exec(k);return[h,$[1],$[2],$[3]]}function L(i){var a=u.exec(i),h=a[1]||"",k=!!h&&h[1]!==":";return{device:h,isUnc:k,isAbsolute:k||!!a[2],tail:a[3]}}function P(i){return"\\\\"+i.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}m.resolve=function(){for(var i="",a="",h=!1,k=arguments.length-1;k>=-1;k--){var $;if(k>=0?$=arguments[k]:i?($=M.env["="+i])&&$.substr(0,3).toLowerCase()===i.toLowerCase()+"\\"||($=i+"\\"):$=M.cwd(),!T.isString($))throw new TypeError("Arguments to path.resolve must be strings");if($){var Y=L($),re=Y.device,ae=Y.isUnc,ke=Y.isAbsolute,Ce=Y.tail;if((!re||!i||re.toLowerCase()===i.toLowerCase())&&(i||(i=re),h||(a=Ce+"\\"+a,h=ke),i&&h))break}}return ae&&(i=P(i)),i+(h?"\\":"")+(a=U(a.split(/[\\\/]+/),!h).join("\\"))||"."},m.normalize=function(i){var a=L(i),h=a.device,k=a.isUnc,$=a.isAbsolute,Y=a.tail,re=/[\\\/]$/.test(Y);return(Y=U(Y.split(/[\\\/]+/),!$).join("\\"))||$||(Y="."),Y&&re&&(Y+="\\"),k&&(h=P(h)),h+($?"\\":"")+Y},m.isAbsolute=function(i){return L(i).isAbsolute},m.join=function(){for(var i=[],a=0;a<arguments.length;a++){var h=arguments[a];if(!T.isString(h))throw new TypeError("Arguments to path.join must be strings");h&&i.push(h)}var k=i.join("\\");return/^[\\\/]{2}[^\\\/]/.test(i[0])||(k=k.replace(/^[\\\/]{2,}/,"\\")),m.normalize(k)},m.relative=function(i,a){i=m.resolve(i),a=m.resolve(a);for(var h=i.toLowerCase(),k=a.toLowerCase(),$=b(a.split("\\")),Y=b(h.split("\\")),re=b(k.split("\\")),ae=Math.min(Y.length,re.length),ke=ae,Ce=0;Ce<ae;Ce++)if(Y[Ce]!==re[Ce]){ke=Ce;break}if(ke==0)return a;var se=[];for(Ce=ke;Ce<Y.length;Ce++)se.push("..");return(se=se.concat($.slice(ke))).join("\\")},m._makeLong=function(i){if(!T.isString(i))return i;if(!i)return"";var a=m.resolve(i);return/^[a-zA-Z]\:\\/.test(a)?"\\\\?\\"+a:/^\\\\[^?.]/.test(a)?"\\\\?\\UNC\\"+a.substring(2):i},m.dirname=function(i){var a=R(i),h=a[0],k=a[1];return h||k?(k&&(k=k.substr(0,k.length-1)),h+k):"."},m.basename=function(i,a){var h=R(i)[2];return a&&h.substr(-1*a.length)===a&&(h=h.substr(0,h.length-a.length)),h},m.extname=function(i){return R(i)[3]},m.format=function(i){if(!T.isObject(i))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof i);var a=i.root||"";if(!T.isString(a))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof i.root);var h=i.dir,k=i.base||"";return h?h[h.length-1]===m.sep?h+k:h+m.sep+k:k},m.parse=function(i){if(!T.isString(i))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof i);var a=R(i);if(!a||a.length!==4)throw new TypeError("Invalid path '"+i+"'");return{root:a[0],dir:a[0]+a[1].slice(0,-1),base:a[2],ext:a[3],name:a[2].slice(0,a[2].length-a[3].length)}},m.sep="\\",m.delimiter=";";var W=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,A={};function N(i){return W.exec(i).slice(1)}A.resolve=function(){for(var i="",a=!1,h=arguments.length-1;h>=-1&&!a;h--){var k=h>=0?arguments[h]:M.cwd();if(!T.isString(k))throw new TypeError("Arguments to path.resolve must be strings");k&&(i=k+"/"+i,a=k[0]==="/")}return(a?"/":"")+(i=U(i.split("/"),!a).join("/"))||"."},A.normalize=function(i){var a=A.isAbsolute(i),h=i&&i[i.length-1]==="/";return(i=U(i.split("/"),!a).join("/"))||a||(i="."),i&&h&&(i+="/"),(a?"/":"")+i},A.isAbsolute=function(i){return i.charAt(0)==="/"},A.join=function(){for(var i="",a=0;a<arguments.length;a++){var h=arguments[a];if(!T.isString(h))throw new TypeError("Arguments to path.join must be strings");h&&(i+=i?"/"+h:h)}return A.normalize(i)},A.relative=function(i,a){i=A.resolve(i).substr(1),a=A.resolve(a).substr(1);for(var h=b(i.split("/")),k=b(a.split("/")),$=Math.min(h.length,k.length),Y=$,re=0;re<$;re++)if(h[re]!==k[re]){Y=re;break}var ae=[];for(re=Y;re<h.length;re++)ae.push("..");return(ae=ae.concat(k.slice(Y))).join("/")},A._makeLong=function(i){return i},A.dirname=function(i){var a=N(i),h=a[0],k=a[1];return h||k?(k&&(k=k.substr(0,k.length-1)),h+k):"."},A.basename=function(i,a){var h=N(i)[2];return a&&h.substr(-1*a.length)===a&&(h=h.substr(0,h.length-a.length)),h},A.extname=function(i){return N(i)[3]},A.format=function(i){if(!T.isObject(i))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof i);var a=i.root||"";if(!T.isString(a))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof i.root);return(i.dir?i.dir+A.sep:"")+(i.base||"")},A.parse=function(i){if(!T.isString(i))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof i);var a=N(i);if(!a||a.length!==4)throw new TypeError("Invalid path '"+i+"'");return a[1]=a[1]||"",a[2]=a[2]||"",a[3]=a[3]||"",{root:a[0],dir:a[0]+a[1].slice(0,-1),base:a[2],ext:a[3],name:a[2].slice(0,a[2].length-a[3].length)}},A.sep="/",A.delimiter=":",H.exports=C?m:A,H.exports.posix=A,H.exports.win32=m},155:H=>{var p,E,M=H.exports={};function C(){throw new Error("setTimeout has not been defined")}function T(){throw new Error("clearTimeout has not been defined")}function U(A){if(p===setTimeout)return setTimeout(A,0);if((p===C||!p)&&setTimeout)return p=setTimeout,setTimeout(A,0);try{return p(A,0)}catch{try{return p.call(null,A,0)}catch{return p.call(this,A,0)}}}(function(){try{p=typeof setTimeout=="function"?setTimeout:C}catch{p=C}try{E=typeof clearTimeout=="function"?clearTimeout:T}catch{E=T}})();var b,u=[],y=!1,m=-1;function R(){y&&b&&(y=!1,b.length?u=b.concat(u):m=-1,u.length&&L())}function L(){if(!y){var A=U(R);y=!0;for(var N=u.length;N;){for(b=u,u=[];++m<N;)b&&b[m].run();m=-1,N=u.length}b=null,y=!1,function(i){if(E===clearTimeout)return clearTimeout(i);if((E===T||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(i);try{E(i)}catch{try{return E.call(null,i)}catch{return E.call(this,i)}}}(A)}}function P(A,N){this.fun=A,this.array=N}function W(){}M.nextTick=function(A){var N=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)N[i-1]=arguments[i];u.push(new P(A,N)),u.length!==1||y||U(L)},P.prototype.run=function(){this.fun.apply(null,this.array)},M.title="browser",M.browser=!0,M.env={},M.argv=[],M.version="",M.versions={},M.on=W,M.addListener=W,M.once=W,M.off=W,M.removeListener=W,M.removeAllListeners=W,M.emit=W,M.prependListener=W,M.prependOnceListener=W,M.listeners=function(A){return[]},M.binding=function(A){throw new Error("process.binding is not supported")},M.cwd=function(){return"/"},M.chdir=function(A){throw new Error("process.chdir is not supported")},M.umask=function(){return 0}},384:H=>{H.exports=function(p){return p&&typeof p=="object"&&typeof p.copy=="function"&&typeof p.fill=="function"&&typeof p.readUInt8=="function"}},539:(H,p,E)=>{var M=E(155),C=/%[sdj%]/g;p.format=function(l){if(!i(l)){for(var d=[],F=0;F<arguments.length;F++)d.push(b(arguments[F]));return d.join(" ")}F=1;for(var te=arguments,_e=te.length,fe=String(l).replace(C,function(le){if(le==="%%")return"%";if(F>=_e)return le;switch(le){case"%s":return String(te[F++]);case"%d":return Number(te[F++]);case"%j":try{return JSON.stringify(te[F++])}catch{return"[Circular]"}default:return le}}),V=te[F];F<_e;V=te[++F])A(V)||!k(V)?fe+=" "+V:fe+=" "+b(V);return fe},p.deprecate=function(l,d){if(a(E.g.process))return function(){return p.deprecate(l,d).apply(this,arguments)};if(M.noDeprecation===!0)return l;var F=!1;return function(){if(!F){if(M.throwDeprecation)throw new Error(d);M.traceDeprecation?console.trace(d):console.error(d),F=!0}return l.apply(this,arguments)}};var T,U={};function b(l,d){var F={seen:[],stylize:y};return arguments.length>=3&&(F.depth=arguments[2]),arguments.length>=4&&(F.colors=arguments[3]),W(d)?F.showHidden=d:d&&p._extend(F,d),a(F.showHidden)&&(F.showHidden=!1),a(F.depth)&&(F.depth=2),a(F.colors)&&(F.colors=!1),a(F.customInspect)&&(F.customInspect=!0),F.colors&&(F.stylize=u),m(F,l,F.depth)}function u(l,d){var F=b.styles[d];return F?"\x1B["+b.colors[F][0]+"m"+l+"\x1B["+b.colors[F][1]+"m":l}function y(l,d){return l}function m(l,d,F){if(l.customInspect&&d&&re(d.inspect)&&d.inspect!==p.inspect&&(!d.constructor||d.constructor.prototype!==d)){var te=d.inspect(F,l);return i(te)||(te=m(l,te,F)),te}var _e=function(ce,ne){if(a(ne))return ce.stylize("undefined","undefined");if(i(ne)){var he="'"+JSON.stringify(ne).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ce.stylize(he,"string")}return N(ne)?ce.stylize(""+ne,"number"):W(ne)?ce.stylize(""+ne,"boolean"):A(ne)?ce.stylize("null","null"):void 0}(l,d);if(_e)return _e;var fe=Object.keys(d),V=function(ce){var ne={};return ce.forEach(function(he,Le){ne[he]=!0}),ne}(fe);if(l.showHidden&&(fe=Object.getOwnPropertyNames(d)),Y(d)&&(fe.indexOf("message")>=0||fe.indexOf("description")>=0))return R(d);if(fe.length===0){if(re(d)){var le=d.name?": "+d.name:"";return l.stylize("[Function"+le+"]","special")}if(h(d))return l.stylize(RegExp.prototype.toString.call(d),"regexp");if($(d))return l.stylize(Date.prototype.toString.call(d),"date");if(Y(d))return R(d)}var be,ve="",Ue=!1,Se=["{","}"];return P(d)&&(Ue=!0,Se=["[","]"]),re(d)&&(ve=" [Function"+(d.name?": "+d.name:"")+"]"),h(d)&&(ve=" "+RegExp.prototype.toString.call(d)),$(d)&&(ve=" "+Date.prototype.toUTCString.call(d)),Y(d)&&(ve=" "+R(d)),fe.length!==0||Ue&&d.length!=0?F<0?h(d)?l.stylize(RegExp.prototype.toString.call(d),"regexp"):l.stylize("[Object]","special"):(l.seen.push(d),be=Ue?function(ce,ne,he,Le,Ye){for(var qe=[],$e=0,ft=ne.length;$e<ft;++$e)Ze(ne,String($e))?qe.push(L(ce,ne,he,Le,String($e),!0)):qe.push("");return Ye.forEach(function(it){it.match(/^\d+$/)||qe.push(L(ce,ne,he,Le,it,!0))}),qe}(l,d,F,V,fe):fe.map(function(ce){return L(l,d,F,V,ce,Ue)}),l.seen.pop(),function(ce,ne,he){return ce.reduce(function(Le,Ye){return Ye.indexOf(`
`),Le+Ye.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?he[0]+(ne===""?"":ne+`
 `)+" "+ce.join(`,
  `)+" "+he[1]:he[0]+ne+" "+ce.join(", ")+" "+he[1]}(be,ve,Se)):Se[0]+ve+Se[1]}function R(l){return"["+Error.prototype.toString.call(l)+"]"}function L(l,d,F,te,_e,fe){var V,le,be;if((be=Object.getOwnPropertyDescriptor(d,_e)||{value:d[_e]}).get?le=be.set?l.stylize("[Getter/Setter]","special"):l.stylize("[Getter]","special"):be.set&&(le=l.stylize("[Setter]","special")),Ze(te,_e)||(V="["+_e+"]"),le||(l.seen.indexOf(be.value)<0?(le=A(F)?m(l,be.value,null):m(l,be.value,F-1)).indexOf(`
`)>-1&&(le=fe?le.split(`
`).map(function(ve){return"  "+ve}).join(`
`).substr(2):`
`+le.split(`
`).map(function(ve){return"   "+ve}).join(`
`)):le=l.stylize("[Circular]","special")),a(V)){if(fe&&_e.match(/^\d+$/))return le;(V=JSON.stringify(""+_e)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(V=V.substr(1,V.length-2),V=l.stylize(V,"name")):(V=V.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),V=l.stylize(V,"string"))}return V+": "+le}function P(l){return Array.isArray(l)}function W(l){return typeof l=="boolean"}function A(l){return l===null}function N(l){return typeof l=="number"}function i(l){return typeof l=="string"}function a(l){return l===void 0}function h(l){return k(l)&&ae(l)==="[object RegExp]"}function k(l){return typeof l=="object"&&l!==null}function $(l){return k(l)&&ae(l)==="[object Date]"}function Y(l){return k(l)&&(ae(l)==="[object Error]"||l instanceof Error)}function re(l){return typeof l=="function"}function ae(l){return Object.prototype.toString.call(l)}function ke(l){return l<10?"0"+l.toString(10):l.toString(10)}p.debuglog=function(l){if(a(T)&&(T=M.env.NODE_DEBUG||""),l=l.toUpperCase(),!U[l])if(new RegExp("\\b"+l+"\\b","i").test(T)){var d=M.pid;U[l]=function(){var F=p.format.apply(p,arguments);console.error("%s %d: %s",l,d,F)}}else U[l]=function(){};return U[l]},p.inspect=b,b.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},b.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},p.isArray=P,p.isBoolean=W,p.isNull=A,p.isNullOrUndefined=function(l){return l==null},p.isNumber=N,p.isString=i,p.isSymbol=function(l){return typeof l=="symbol"},p.isUndefined=a,p.isRegExp=h,p.isObject=k,p.isDate=$,p.isError=Y,p.isFunction=re,p.isPrimitive=function(l){return l===null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||typeof l=="symbol"||l===void 0},p.isBuffer=E(384);var Ce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function se(){var l=new Date,d=[ke(l.getHours()),ke(l.getMinutes()),ke(l.getSeconds())].join(":");return[l.getDate(),Ce[l.getMonth()],d].join(" ")}function Ze(l,d){return Object.prototype.hasOwnProperty.call(l,d)}p.log=function(){console.log("%s - %s",se(),p.format.apply(p,arguments))},p.inherits=E(717),p._extend=function(l,d){if(!d||!k(d))return l;for(var F=Object.keys(d),te=F.length;te--;)l[F[te]]=d[F[te]];return l}}},Q={};function B(H){var p=Q[H];if(p!==void 0)return p.exports;var E=Q[H]={exports:{}};return G[H].call(E.exports,E,E.exports,B),E.exports}B.n=H=>{var p=H&&H.__esModule?()=>H.default:()=>H;return B.d(p,{a:p}),p},B.d=(H,p)=>{for(var E in p)B.o(p,E)&&!B.o(H,E)&&Object.defineProperty(H,E,{enumerable:!0,get:p[E]})},B.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),B.o=(H,p)=>Object.prototype.hasOwnProperty.call(H,p),B.r=H=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(H,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(H,"__esModule",{value:!0})};var ye={};return(()=>{B.r(ye),B.d(ye,{LSPluginUser:()=>v,setupPluginUserInstance:()=>ee});var H=B(520);B(856);const p=function(t,e){return t===e||t!=t&&e!=e},E=function(t,e){for(var n=t.length;n--;)if(p(t[n][0],e))return n;return-1};var M=Array.prototype.splice;function C(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}C.prototype.clear=function(){this.__data__=[],this.size=0},C.prototype.delete=function(t){var e=this.__data__,n=E(e,t);return!(n<0||(n==e.length-1?e.pop():M.call(e,n,1),--this.size,0))},C.prototype.get=function(t){var e=this.__data__,n=E(e,t);return n<0?void 0:e[n][1]},C.prototype.has=function(t){return E(this.__data__,t)>-1},C.prototype.set=function(t,e){var n=this.__data__,o=E(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this};const T=C,U=typeof yn=="object"&&yn&&yn.Object===Object&&yn;var b=typeof self=="object"&&self&&self.Object===Object&&self;const u=U||b||Function("return this")(),y=u.Symbol;var m=Object.prototype,R=m.hasOwnProperty,L=m.toString,P=y?y.toStringTag:void 0,W=Object.prototype.toString,A=y?y.toStringTag:void 0;const N=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":A&&A in Object(t)?function(e){var n=R.call(e,P),o=e[P];try{e[P]=void 0;var s=!0}catch{}var c=L.call(e);return s&&(n?e[P]=o:delete e[P]),c}(t):function(e){return W.call(e)}(t)},i=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},a=function(t){if(!i(t))return!1;var e=N(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},h=u["__core-js_shared__"];var k,$=(k=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",Y=Function.prototype.toString,re=/^\[object .+?Constructor\]$/,ae=Function.prototype,ke=Object.prototype,Ce=ae.toString,se=ke.hasOwnProperty,Ze=RegExp("^"+Ce.call(se).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const l=function(t){return!(!i(t)||(e=t,$&&$ in e))&&(a(t)?Ze:re).test(function(n){if(n!=null){try{return Y.call(n)}catch{}try{return n+""}catch{}}return""}(t));var e},d=function(t,e){var n=function(o,s){return o?.[s]}(t,e);return l(n)?n:void 0},F=d(u,"Map"),te=d(Object,"create");var _e=Object.prototype.hasOwnProperty,fe=Object.prototype.hasOwnProperty;function V(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}V.prototype.clear=function(){this.__data__=te?te(null):{},this.size=0},V.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},V.prototype.get=function(t){var e=this.__data__;if(te){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return _e.call(e,t)?e[t]:void 0},V.prototype.has=function(t){var e=this.__data__;return te?e[t]!==void 0:fe.call(e,t)},V.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=te&&e===void 0?"__lodash_hash_undefined__":e,this};const le=V,be=function(t,e){var n,o,s=t.__data__;return((o=typeof(n=e))=="string"||o=="number"||o=="symbol"||o=="boolean"?n!=="__proto__":n===null)?s[typeof e=="string"?"string":"hash"]:s.map};function ve(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}ve.prototype.clear=function(){this.size=0,this.__data__={hash:new le,map:new(F||T),string:new le}},ve.prototype.delete=function(t){var e=be(this,t).delete(t);return this.size-=e?1:0,e},ve.prototype.get=function(t){return be(this,t).get(t)},ve.prototype.has=function(t){return be(this,t).has(t)},ve.prototype.set=function(t,e){var n=be(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this};const Ue=ve;function Se(t){var e=this.__data__=new T(t);this.size=e.size}Se.prototype.clear=function(){this.__data__=new T,this.size=0},Se.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Se.prototype.get=function(t){return this.__data__.get(t)},Se.prototype.has=function(t){return this.__data__.has(t)},Se.prototype.set=function(t,e){var n=this.__data__;if(n instanceof T){var o=n.__data__;if(!F||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ue(o)}return n.set(t,e),this.size=n.size,this};const ce=Se,ne=function(){try{var t=d(Object,"defineProperty");return t({},"",{}),t}catch{}}(),he=function(t,e,n){e=="__proto__"&&ne?ne(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Le=function(t,e,n){(n!==void 0&&!p(t[e],n)||n===void 0&&!(e in t))&&he(t,e,n)},Ye=function(t,e,n){for(var o=-1,s=Object(t),c=n(t),g=c.length;g--;){var S=c[++o];if(e(s[S],S,s)===!1)break}return t};var qe=j&&!j.nodeType&&j,$e=qe&&!0&&f&&!f.nodeType&&f,ft=$e&&$e.exports===qe?u.Buffer:void 0,it=ft?ft.allocUnsafe:void 0;const Vt=u.Uint8Array,wn=function(t,e){var n,o,s=e?(n=t.buffer,o=new n.constructor(n.byteLength),new Vt(o).set(new Vt(n)),o):t.buffer;return new t.constructor(s,t.byteOffset,t.length)};var Zt=Object.create;const _n=function(){function t(){}return function(e){if(!i(e))return{};if(Zt)return Zt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),z=(_=Object.getPrototypeOf,O=Object,function(t){return _(O(t))});var _,O,Z=Object.prototype;const oe=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Z)},Ee=function(t){return t!=null&&typeof t=="object"},Ke=function(t){return Ee(t)&&N(t)=="[object Arguments]"};var We=Object.prototype,Yt=We.hasOwnProperty,St=We.propertyIsEnumerable;const gt=Ke(function(){return arguments}())?Ke:function(t){return Ee(t)&&Yt.call(t,"callee")&&!St.call(t,"callee")},Et=Array.isArray,Kt=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},At=function(t){return t!=null&&Kt(t.length)&&!a(t)};var Xt=j&&!j.nodeType&&j,at=Xt&&!0&&f&&!f.nodeType&&f,en=at&&at.exports===Xt?u.Buffer:void 0;const tn=(en?en.isBuffer:void 0)||function(){return!1};var xn=Function.prototype,jt=Object.prototype,ht=xn.toString,Re=jt.hasOwnProperty,nn=ht.call(Object),X={};X["[object Float32Array]"]=X["[object Float64Array]"]=X["[object Int8Array]"]=X["[object Int16Array]"]=X["[object Int32Array]"]=X["[object Uint8Array]"]=X["[object Uint8ClampedArray]"]=X["[object Uint16Array]"]=X["[object Uint32Array]"]=!0,X["[object Arguments]"]=X["[object Array]"]=X["[object ArrayBuffer]"]=X["[object Boolean]"]=X["[object DataView]"]=X["[object Date]"]=X["[object Error]"]=X["[object Function]"]=X["[object Map]"]=X["[object Number]"]=X["[object Object]"]=X["[object RegExp]"]=X["[object Set]"]=X["[object String]"]=X["[object WeakMap]"]=!1;var mt=j&&!j.nodeType&&j,st=mt&&!0&&f&&!f.nodeType&&f,Tt=st&&st.exports===mt&&U.process,rn=function(){try{return st&&st.require&&st.require("util").types||Tt&&Tt.binding&&Tt.binding("util")}catch{}}(),on=rn&&rn.isTypedArray;const Ot=on?function(t){return function(e){return t(e)}}(on):function(t){return Ee(t)&&Kt(t.length)&&!!X[N(t)]},Ae=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]};var lt=Object.prototype.hasOwnProperty;const Ge=function(t,e,n){var o=t[e];lt.call(t,e)&&p(o,n)&&(n!==void 0||e in t)||he(t,e,n)};var It=/^(?:0|[1-9]\d*)$/;const yt=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&It.test(t))&&t>-1&&t%1==0&&t<e};var Cn=Object.prototype.hasOwnProperty;const kn=function(t,e){var n=Et(t),o=!n&&gt(t),s=!n&&!o&&tn(t),c=!n&&!o&&!s&&Ot(t),g=n||o||s||c,S=g?function(q,D){for(var J=-1,de=Array(q);++J<q;)de[J]=D(J);return de}(t.length,String):[],I=S.length;for(var w in t)!e&&!Cn.call(t,w)||g&&(w=="length"||s&&(w=="offset"||w=="parent")||c&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||yt(w,I))||S.push(w);return S};var Sn=Object.prototype.hasOwnProperty;const an=function(t){if(!i(t))return function(s){var c=[];if(s!=null)for(var g in Object(s))c.push(g);return c}(t);var e=oe(t),n=[];for(var o in t)(o!="constructor"||!e&&Sn.call(t,o))&&n.push(o);return n},bt=function(t){return At(t)?kn(t,!0):an(t)},me=function(t){return function(e,n,o,s){var c=!o;o||(o={});for(var g=-1,S=n.length;++g<S;){var I=n[g],w=s?s(o[I],e[I],I,o,e):void 0;w===void 0&&(w=e[I]),c?he(o,I,w):Ge(o,I,w)}return o}(t,bt(t))},sn=function(t,e,n,o,s,c,g){var S,I=Ae(t,n),w=Ae(e,n),q=g.get(w);if(q)Le(t,n,q);else{var D=c?c(I,w,n+"",t,e,g):void 0,J=D===void 0;if(J){var de=Et(w),Be=!de&&tn(w),Je=!de&&!Be&&Ot(w);D=w,de||Be||Je?Et(I)?D=I:Ee(S=I)&&At(S)?D=function(ie,Oe){var Te=-1,Qt=ie.length;for(Oe||(Oe=Array(Qt));++Te<Qt;)Oe[Te]=ie[Te];return Oe}(I):Be?(J=!1,D=function(ie,Oe){if(Oe)return ie.slice();var Te=ie.length,Qt=it?it(Te):new ie.constructor(Te);return ie.copy(Qt),Qt}(w,!0)):Je?(J=!1,D=wn(w,!0)):D=[]:function(ie){if(!Ee(ie)||N(ie)!="[object Object]")return!1;var Oe=z(ie);if(Oe===null)return!0;var Te=Re.call(Oe,"constructor")&&Oe.constructor;return typeof Te=="function"&&Te instanceof Te&&ht.call(Te)==nn}(w)||gt(w)?(D=I,gt(I)?D=me(I):i(I)&&!a(I)||(D=function(ie){return typeof ie.constructor!="function"||oe(ie)?{}:_n(z(ie))}(w))):J=!1}J&&(g.set(w,D),s(D,w,o,c,g),g.delete(w)),Le(t,n,D)}},we=function t(e,n,o,s,c){e!==n&&Ye(n,function(g,S){if(c||(c=new ce),i(g))sn(e,n,S,o,t,s,c);else{var I=s?s(Ae(e,S),g,S+"",e,n,c):void 0;I===void 0&&(I=g),Le(e,S,I)}},bt)},Ft=function(t){return t},ue=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var Xe=Math.max;const Lt=ne?function(t,e){return ne(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Ft;var ln=Date.now;const Mt=function(t){var e=0,n=0;return function(){var o=ln(),s=16-(o-n);if(n=o,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Lt),cn=(De=function(t,e,n){we(t,e,n)},function(t,e){return Mt(function(n,o,s){return o=Xe(o===void 0?n.length-1:o,0),function(){for(var c=arguments,g=-1,S=Xe(c.length-o,0),I=Array(S);++g<S;)I[g]=c[o+g];g=-1;for(var w=Array(o+1);++g<o;)w[g]=c[g];return w[o]=s(I),ue(n,this,w)}}(t,e,Ft),t+"")}(function(t,e){var n=-1,o=e.length,s=o>1?e[o-1]:void 0,c=o>2?e[2]:void 0;for(s=De.length>3&&typeof s=="function"?(o--,s):void 0,c&&function(S,I,w){if(!i(w))return!1;var q=typeof I;return!!(q=="number"?At(w)&&yt(I,w.length):q=="string"&&I in w)&&p(w[I],S)}(e[0],e[1],c)&&(s=o<3?void 0:s,o=1),t=Object(t);++n<o;){var g=e[n];g&&De(t,g,n)}return t}));var De,Me=function(){return(Me=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};function Pt(t){return t.toLowerCase()}var Nt=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],et=/[^A-Z0-9]+/gi;function ct(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(o,s){return o.replace(s,n)},t)}const ut=navigator.platform.toLowerCase()==="win32"?H.win32:H.posix,dt=function(t,e){return e===void 0&&(e={}),function(n,o){return o===void 0&&(o={}),function(s,c){c===void 0&&(c={});for(var g=c.splitRegexp,S=g===void 0?Nt:g,I=c.stripRegexp,w=I===void 0?et:I,q=c.transform,D=q===void 0?Pt:q,J=c.delimiter,de=J===void 0?" ":J,Be=ct(ct(s,S,"$1\0$2"),w,"\0"),Je=0,ie=Be.length;Be.charAt(Je)==="\0";)Je++;for(;Be.charAt(ie-1)==="\0";)ie--;return Be.slice(Je,ie).split("\0").map(D).join(de)}(n,Me({delimiter:"."},o))}(t,Me({delimiter:"_"},e))},Rt=cn;function Qe(t,e){let n,o,s=!1;const c=S=>I=>{t&&clearTimeout(t),S(I),s=!0},g=new Promise((S,I)=>{n=c(S),o=c(I),t&&(t=setTimeout(()=>o(new Error(`[deferred timeout] ${e}`)),t))});return{created:Date.now(),setTag:S=>e=S,resolve:n,reject:o,promise:g,get settled(){return s}}}const tt=new Map;window.__injectedUIEffects=tt;var nt=B(227),Dt=B.n(nt);const He="application/x-postmate-v1+json";let un=0;const Ht={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},vt=(t,e)=>!(typeof e=="string"&&t.origin!==e||!t.data||typeof t.data=="object"&&!("postmate"in t.data)||t.data.type!==He||!Ht[t.data.postmate]);class zt{parent;frame;child;events={};childOrigin;listener;constructor(e){this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.listener=n=>{if(!vt(n,this.childOrigin))return!1;const{data:o,name:s}=((n||{}).data||{}).value||{};n.data.postmate==="emit"&&s in this.events&&this.events[s].forEach(c=>{c.call(this,o)})},this.parent.addEventListener("message",this.listener,!1)}get(e){return new Promise(n=>{const o=++un,s=c=>{c.data.uid===o&&c.data.postmate==="reply"&&(this.parent.removeEventListener("message",s,!1),n(c.data.value))};this.parent.addEventListener("message",s,!1),this.child.postMessage({postmate:"request",type:He,property:e,uid:o},this.childOrigin)})}call(e,n){this.child.postMessage({postmate:"call",type:He,property:e,data:n},this.childOrigin)}on(e,n){this.events[e]||(this.events[e]=[]),this.events[e].push(n)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class Bt{model;parent;parentOrigin;child;constructor(e){this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",n=>{if(!vt(n,this.parentOrigin))return;const{property:o,uid:s,data:c}=n.data;n.data.postmate!=="call"?((g,S)=>{const I=typeof g[S]=="function"?g[S]():g[S];return Promise.resolve(I)})(this.model,o).then(g=>{n.source.postMessage({property:o,postmate:"reply",type:He,uid:s,value:g},n.origin)}):o in this.model&&typeof this.model[o]=="function"&&this.model[o](c)})}emit(e,n){this.parent.postMessage({postmate:"emit",type:He,value:{name:e,data:n}},this.parentOrigin)}}class ze{static debug=!1;container;parent;frame;child;childOrigin;url;model;static Model;constructor(e){this.container=e.container,this.url=e.url,this.parent=window,this.frame=document.createElement("iframe"),e.id&&(this.frame.id=e.id),e.name&&(this.frame.name=e.name),this.frame.classList.add.apply(this.frame.classList,e.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=e.model||{}}sendHandshake(e){const n=(c=>{const g=document.createElement("a");g.href=c;const S=g.protocol.length>4?g.protocol:window.location.protocol,I=g.host.length?g.port==="80"||g.port==="443"?g.hostname:g.host:window.location.host;return g.origin||`${S}//${I}`})(e=e||this.url);let o,s=0;return new Promise((c,g)=>{const S=w=>!!vt(w,n)&&(w.data.postmate==="handshake-reply"?(clearInterval(o),this.parent.removeEventListener("message",S,!1),this.childOrigin=w.origin,c(new zt(this))):g("Failed handshake"));this.parent.addEventListener("message",S,!1);const I=()=>{s++,this.child.postMessage({postmate:"handshake",type:He,model:this.model},n),s===5&&clearInterval(o)};this.frame.addEventListener("load",()=>{I(),o=setInterval(I,500)}),this.frame.src=e})}}class wt{child;model;parent;parentOrigin;constructor(e){this.child=window,this.model=e,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((e,n)=>{const o=s=>{if(s.data.postmate){if(s.data.postmate==="handshake"){this.child.removeEventListener("message",o,!1),s.source.postMessage({postmate:"handshake-reply",type:He},s.origin),this.parentOrigin=s.origin;const c=s.data.model;return c&&Object.keys(c).forEach(g=>{this.model[g]=c[g]}),e(new Bt(this))}return n("Handshake Reply Failed")}};this.child.addEventListener("message",o,!1)})}}var Ut=B(729),qt=B.n(Ut);const{importHTML:En,createSandboxContainer:rt}=window.QSandbox||{};function An(t,e){return t.startsWith("http")?fetch(t,e):(t=t.replace("file://",""),new Promise(async(n,o)=>{try{const s=await window.apis.doAction(["readFile",t]);n({text:()=>s})}catch(s){console.error(s),o(s)}}))}class dn extends qt(){_pluginLocal;_frame;_root;_loaded=!1;_unmountFns=[];constructor(e){super(),this._pluginLocal=e,e._dispose(()=>{this._unmount()})}async load(){const{name:e,entry:n}=this._pluginLocal.options;if(this.loaded||!n)return;const{template:o,execScripts:s}=await En(n,{fetch:An});this._mount(o,document.body);const c=rt(e,{elementGetter:()=>this._root?.firstChild}).instance.proxy;c.__shadow_mode__=!0,c.LSPluginLocal=this._pluginLocal,c.LSPluginShadow=this,c.LSPluginUser=c.logseq=new v(this._pluginLocal.toJSON(),this._pluginLocal.caller);const g=await s(c,!0);this._unmountFns.push(g.unmount),this._loaded=!0}_mount(e,n){const o=this._frame=document.createElement("div");o.classList.add("lsp-shadow-sandbox"),o.id=this._pluginLocal.id,this._root=o.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,n.appendChild(o),this.emit("mounted")}_unmount(){for(const e of this._unmountFns)e&&e.call(null)}destroy(){this.frame?.parentNode?.removeChild(this.frame)}get loaded(){return this._loaded}get document(){return this._root?.firstChild}get frame(){return this._frame}}const Ie=Dt()("LSPlugin:caller"),pt="#await#response#",$t="#lspmsg#error#",_t=t=>`#lspmsg#${t}`;class xt extends qt(){_pluginLocal;_connected=!1;_parent;_child;_shadow;_status;_userModel={};_call;_callUserModel;_debugTag="";constructor(e){super(),this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){if(this._connected)return;const n=this,o=this._pluginLocal!=null;let s=0;const c=new Map,g=Qe(5e3),S=this._extendUserModel({"#lspmsg#ready#":async w=>{S[_t(w?.pid)]=({type:q,payload:D})=>{Ie(`[host (_call) -> *user] ${this._debugTag}`,q,D),n.emit(q,D)},await g.resolve()},"#lspmsg#beforeunload#":async w=>{const q=Qe(1e4);n.emit("beforeunload",Object.assign({actor:q},w)),await q.promise},"#lspmsg#settings#":async({type:w,payload:q})=>{n.emit("settings:changed",q)},"#lspmsg#":async({ns:w,type:q,payload:D})=>{Ie(`[host (async) -> *user] ${this._debugTag} ns=${w} type=${q}`,D),w&&w.startsWith("hook")?n.emit(`${w}:${q}`,D):n.emit(q,D)},"#lspmsg#reply#":({_sync:w,result:q})=>{if(Ie(`[sync host -> *user] #${w}`,q),c.has(w)){const D=c.get(w);D&&(q?.hasOwnProperty($t)?D.reject(q[$t]):D.resolve(q),c.delete(w))}},...e});if(o)return await g.promise,JSON.parse(JSON.stringify(this._pluginLocal?.toJSON()));const I=new wt(S).sendHandshakeReply();return this._status="pending",await I.then(w=>{this._child=w,this._connected=!0,this._call=async(q,D={},J)=>{if(J){const de=++s;c.set(de,J),D._sync=de,J.setTag(`async call #${de}`),Ie(`async call #${de}`)}return w.emit(_t(S.baseInfo.id),{type:q,payload:D}),J?.promise},this._callUserModel=async(q,D)=>{try{S[q](D)}catch{Ie(`[model method] #${q} not existed`)}},setInterval(()=>{if(c.size>100)for(const[q,D]of c)D.settled&&c.delete(q)},18e5)}).finally(()=>{this._status=void 0}),await g.promise,S.baseInfo}async call(e,n={}){return this._call?.call(this,e,n)}async callAsync(e,n={}){const o=Qe(1e4);return this._call?.call(this,e,n,o)}async callUserModel(e,n={}){return this._callUserModel?.call(this,e,n)}async _setupIframeSandbox(){const e=this._pluginLocal,n=e.id,o=`${n}_lsp_main`,s=new URL(e.options.entry);s.searchParams.set("__v__",e.options.version);const c=document.querySelector(`#${o}`);c&&c.parentElement.removeChild(c);const g=document.createElement("div");g.classList.add("lsp-iframe-sandbox-container"),g.id=o,g.dataset.pid=n;try{const w=(await this._pluginLocal._loadLayoutsData())?.$$0;if(w){g.dataset.inited_layout="true";const{width:q,height:D,left:J,top:de}=w;Object.assign(g.style,{width:q+"px",height:D+"px",left:J+"px",top:de+"px"})}}catch(w){console.error("[Restore Layout Error]",w)}document.body.appendChild(g);let S,I=new ze({id:n+"_iframe",container:g,url:s.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}}).sendHandshake();return this._status="pending",new Promise((w,q)=>{S=setTimeout(()=>{q(new Error("handshake Timeout"))},8e3),I.then(D=>{this._parent=D,this._connected=!0,this.emit("connected"),D.on(_t(e.id),({type:J,payload:de})=>{Ie("[user -> *host] ",J,de),this._pluginLocal?.emit(J,de||{})}),this._call=async(...J)=>{await D.call(_t(e.id),{type:J[0],payload:Object.assign(J[1]||{},{$$pid:e.id})})},this._callUserModel=async(J,de)=>{if(J.startsWith(pt))return await D.get(J.replace(pt,""));D.call(J,de)},w(null)}).catch(D=>{q(D)}).finally(()=>{clearTimeout(S)})}).catch(w=>{throw Ie("[iframe sandbox] error",w),w}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const e=this._pluginLocal,n=this._shadow=new dn(e);try{this._status="pending",await n.load(),this._connected=!0,this.emit("connected"),this._call=async(o,s={},c)=>(c&&(s.actor=c),this._pluginLocal?.emit(o,Object.assign(s,{$$pid:e.id})),c?.promise),this._callUserModel=async(...o)=>{let s=o[0];s?.startsWith(pt)&&(s=s.replace(pt,""));const c=o[1]||{},g=this._userModel[s];typeof g=="function"&&await g.call(null,c)}}catch(o){throw Ie("[shadow sandbox] error",o),o}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){return this._parent?.frame.parentNode}_getSandboxShadowContainer(){return this._shadow?.frame.parentNode}_getSandboxIframeRoot(){return this._parent?.frame}_getSandboxShadowRoot(){return this._shadow?.frame}set debugTag(e){this._debugTag=e}async destroy(){let e=null;this._parent&&(e=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(e=this._getSandboxShadowContainer(),this._shadow.destroy()),e?.parentNode.removeChild(e)}}class Wt{ctx;constructor(e){this.ctx=e}get ctxId(){return this.ctx.baseInfo.id}setItem(e,n){return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,e,n]})}getItem(e){return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,e]})}removeItem(e){return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,e]})}clear(){return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId]})}hasItem(e){return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,e]})}}class jn{ctx;constructor(e){this.ctx=e}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(e,...n){const o=this.ensureHostScope();return e=dt(e)?.toLowerCase(),o.logseq.api["exper_"+e]?.apply(o,n)}async loadScripts(...e){(e=e.map(n=>n?.startsWith("http")?n:this.ctx.resolveResourceFullUrl(n))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...e)}registerFencedCodeRenderer(e,n){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,e,n)}registerExtensionsEnhancer(e,n){const o=this.ensureHostScope();switch(e){case"katex":o.katex&&n(o.katex).catch(console.error)}return o.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,e,n)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}const Fe=t=>`task_callback_${t}`;class pn{_client;_requestId;_requestOptions;_promise;_aborted=!1;constructor(e,n,o={}){this._client=e,this._requestId=n,this._requestOptions=o,this._promise=new Promise((S,I)=>{if(!this._requestId)return I(null);this._client.once(Fe(this._requestId),w=>{w&&w instanceof Error?I(w):S(w)})});const{success:s,fail:c,final:g}=this._requestOptions;this._promise.then(S=>{s?.(S)}).catch(S=>{c?.(S)}).finally(()=>{g?.()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class Ct extends Ut.EventEmitter{_ctx;constructor(e){super(),this._ctx=e,this.ctx.caller.on("#lsp#request#callback",n=>{const o=n?.requestId;o&&this.emit(Fe(o),n?.payload)})}static createRequestTask(e,n,o){return new pn(e,n,o)}async _request(e){const n=this.ctx.baseInfo.id,{success:o,fail:s,final:c,...g}=e,S=this.ctx.Experiments.invokeExperMethod("request",n,g),I=Ct.createRequestTask(this.ctx.Request,S,e);return g.abortable?I:I.promise}get ctx(){return this._ctx}}const fn=Symbol.for("proxy-continue"),Tn=Dt()("LSPlugin:user");function Pe(t,e,n){if(typeof n!="function")return!1;const{key:o,label:s,desc:c,palette:g,keybinding:S}=e,I=`SimpleCommandHook${o}${++Gt}`;this.Editor["on"+I](n),this.caller?.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:o,label:s,type:t,desc:c,keybinding:S},["editor/hook",I]],g]})}let je=null;const gn={async getInfo(t){return je||(je=await this._execCallableAPIAsync("get-app-info")),typeof t=="string"?je[t]:je},registerCommand:Pe,registerCommandPalette(t,e){const{key:n,label:o,keybinding:s}=t;return Pe.call(this,"$palette$",{key:n,label:o,palette:!0,keybinding:s},e)},registerCommandShortcut(t,e){const{binding:n}=t,o="$shortcut$",s=o+dt(n);return Pe.call(this,o,{key:s,palette:!1,keybinding:t},e)},registerUIItem(t,e){const n=this.baseInfo.id;this.caller?.call("api:call",{method:"register-plugin-ui-item",args:[n,t,e]})},registerPageMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id,o=t;Pe.call(this,"page-menu-item",{key:n,label:o},e)},setFullScreen(t){const e=(...n)=>this._callWin("setFullScreen",...n);t==="toggle"?this._callWin("isFullScreen").then(n=>{n?e():e(!0)}):t?e(!0):e()}};let Gt=0;const hn={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(t,e){Tn("Register slash command #",this.baseInfo.id,t,e),typeof e=="function"&&(e=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",e]]),e=e.map(n=>{const[o,...s]=n;switch(o){case"editor/hook":let c=s[0],g=()=>{this.caller?.callUserModel(c)};typeof c=="function"&&(g=c);const S=`SlashCommandHook${o}${++Gt}`;n[1]=S,this.Editor["on"+S](g)}return n}),this.caller?.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[t,e]]})},registerBlockContextMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id,o=t;Pe.call(this,"block-context-menu-item",{key:n,label:o},e)},scrollToBlockInPage(t,e,n){const o="block-content-"+e;n?.replaceState?this.App.replaceState("page",{name:t},{anchor:o}):this.App.pushState("page",{name:t},{anchor:o})}},mn={onBlockChanged(t,e){const n=this.baseInfo.id,o=`hook:db:${dt(`block:${t}`)}`,s=({block:c,txData:g,txMeta:S})=>{c.uuid===t&&e(c,g,S)};return this.caller.on(o,s),this.App._installPluginHook(n,o),()=>{this.caller.off(o,s),this.App._uninstallPluginHook(n,o)}}},On={},r={},x={};class v extends qt(){_baseInfo;_caller;_version="0.0.8";_debugTag="";_settingsSchema;_connected=!1;_ui=new Map;_mFileStorage;_mRequest;_mExperiments;_beforeunloadCallback;constructor(e,n){super(),this._baseInfo=e,this._caller=n,n.on("sys:ui:visible",o=>{o?.toggle&&this.toggleMainUI()}),n.on("settings:changed",o=>{const s=Object.assign({},this.settings),c=Object.assign(this._baseInfo.settings,o);this.emit("settings:changed",{...c},s)}),n.on("beforeunload",async o=>{const{actor:s,...c}=o,g=this._beforeunloadCallback;try{g&&await g(c),s?.resolve(null)}catch(S){console.debug(`${n.debugTag} [beforeunload] `,S),s?.reject(S)}})}async ready(e,n){if(!this._connected)try{typeof e=="function"&&(n=e,e={});let o=await this._caller.connectToParent(e);this._connected=!0,o=Rt(this._baseInfo,o),this._settingsSchema&&(o.settings=function(s,c){const g=(c||[]).reduce((S,I)=>("default"in I&&(S[I.key]=I.default),S),{});return Object.assign(g,s)}(o.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema)),o?.id&&(this._debugTag=this._caller.debugTag=`#${o.id} [${o.name}]`);try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(s){console.warn(s)}n&&n.call(this,o)}catch(o){console.error(`${this._debugTag} [Ready Error]`,o)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(e){typeof e=="function"&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){const n="settings:changed";return this.on(n,e),()=>this.off(n,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){const n={key:0,visible:!1,cursor:e?.restoreEditingCursor};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}showMainUI(e){const n={key:0,visible:!0,autoFocus:e?.autoFocus};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}toggleMainUI(){const e=this._ui.get(0);e&&e.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const e=this._ui.get(0);return Boolean(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get settings(){return this.baseInfo?.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),function(n,...o){try{const s=new URL(n);if(!s.origin)throw new Error(null);const c=ut.join(n.substr(s.origin.length),...o);return s.origin+c}catch{return ut.join(n,...o)}}(this._baseInfo.lsr,e)}_makeUserProxy(e,n){const o=this,s=this.caller;return new Proxy(e,{get(c,g,S){const I=c[g];return function(...w){if(I){const D=I.apply(o,w.concat(n));if(D!==fn)return D}if(n){const D=g.toString().match(/^(once|off|on)/i);if(D!=null){const J=D[0].toLowerCase(),de=D.input.slice(J.length),Be=J==="off",Je=o.baseInfo.id,ie=`hook:${n}:${dt(de)}`,Oe=w[0];s[J](ie,Oe);const Te=()=>{s.off(ie,Oe),s.listenerCount(ie)||o.App._uninstallPluginHook(Je,ie)};return Be?void Te():(o.App._installPluginHook(Je,ie),Te)}}let q=g;return["git","ui","assets"].includes(n)&&(q=n+"_"+q),s.callAsync("api:call",{tag:n,method:q,args:w})}}})}_execCallableAPIAsync(e,...n){return this._caller.callAsync("api:call",{method:e,args:n})}_execCallableAPI(e,...n){this._caller.call("api:call",{method:e,args:n})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(gn,"app")}get Editor(){return this._makeUserProxy(hn,"editor")}get DB(){return this._makeUserProxy(mn,"db")}get Git(){return this._makeUserProxy(On,"git")}get UI(){return this._makeUserProxy(r,"ui")}get Assets(){return this._makeUserProxy(x,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new Wt(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new Ct(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new jn(this)),e}}function ee(t,e){return new v(t,e)}if(window.__LSP__HOST__==null){const t=new xt(null);window.logseq=ee({},t)}})(),ye})())})(Dn,Dn.exports);const Qn={id:"logseq-banners-plugin",title:"Banners",icon:"./logo.png"},Jn=`@import"https://fonts.googleapis.com/css2?family=Fira+Sans+Condensed:wght@500&display=swap";#main-content-container{display:block}.content{position:relative}#banner{position:relative;display:none;height:0;margin:0 auto;overflow:hidden;background-repeat:no-repeat;background-size:cover;background-position-x:50%}.cp__sidebar-main-content{margin:0 auto}.cp__right-sidebar-inner .resizer{z-index:9}body:is([data-page="page"],[data-page="home"]).is-banner-active #banner{height:var(--bannerHeight)}body:is([data-page="page"],[data-page="home"]).is-banner-active #banner:before{position:absolute;inset:0;content:"";background-repeat:no-repeat;background-size:cover;background-image:var(--pageBanner);background-position-y:var(--bannerAlign)}body[data-page=home].is-icon-active .journal-item:first-of-type>.page>.flex-col:first-child>.content>.flex-1:before,body[data-page=page].is-icon-active .page>.relative>.flex-row>.flex-1:before{content:var(--pageIcon);font-size:var(--iconWidth);font-weight:400;position:absolute;left:-7px;z-index:2;transform:translateY(-55%);line-height:initial;opacity:.9}body[data-page=home].is-icon-active #main-content-container .journal-item:first-of-type .journal-title,body[data-page=page].is-icon-active #main-content-container .page-title,body[data-page=page].is-icon-active #main-content-container .ls-page-title.editing{margin-top:35px}body[data-page=home].is-icon-active #journals .journal-item:first-child{margin-top:0}body[data-page=home].is-icon-active #journals .journal-item h1.title:before{content:var(--pageIcon);margin-right:8px;font-size:.9em;font-weight:400}body[data-page=home].is-icon-active #journals .journal-item:first-of-type h1.title:before{display:none}.is-icon-active #main-content-container .page-title .page-icon{display:none}#banner-widgets{width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end}#banner-widgets:before{display:none;content:"";position:absolute;left:0;top:0;width:calc(var(--widgetsCalendarWidth) * .93);height:100%;background-color:rgba(var(--widgetsBgColor),.8);filter:drop-shadow(0px 1px 10px rgba(var(--widgetsTextColor),.4))}#banner-widgets.banner-widgets-bg:before{display:block}#banner-widgets iframe{margin:0}#banner-widgets-calendar{position:absolute;top:0;left:2px;transform:scale(.9) translate(-5%,-5%)}#banner-widgets-calendar .logseq-block-calendar{width:var(--widgetsCalendarWidth);overflow:hidden;color:rgb(var(--widgetsTextColor));background-color:transparent;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;text-shadow:1px 1px 0px rgba(var(--widgetsBgColor),.8);font-weight:700}#banner-widgets-calendar .calendar-month{padding-left:8px}#banner-widgets-calendar .calendar-nav{padding:0 8px 0 0}#banner-widgets-calendar .logseq-block-calendar th{border:0}#banner-widgets-calendar .calendar-head td{padding:2px 0;font-size:16px;border:0}#banner-widgets-calendar .calendar-day{display:block;padding:0 10px;height:1.8rem;opacity:1;transition:none}#banner-widgets-calendar .calendar-day-today{background-color:rgba(var(--widgetsBgColor),.5)}#banner-widgets-calendar .calendar-day:hover{background-color:rgba(var(--widgetsBgColor),.2)}#banner-widgets-weather{position:absolute;bottom:0;left:0;display:flex;align-items:center;width:calc(var(--widgetsCalendarWidth) * .93);padding:0 10px;text-shadow:1px 1px 0px rgba(var(--widgetsBgColor),.8);line-height:1.2;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}#banner-widgets-weather .weather_dailyForecastContainerWithDots{margin-bottom:32px!important}#banner-widgets-weather .weather_text{font-size:.8em!important;text-align:center;word-break:keep-all;color:rgba(var(--widgetsTextColor))!important}#banner-widgets-weather .weather_dailyContainer .weather_text{display:inline}#banner-widgets-weather .weather_row{align-items:center}#banner-widgets-weather>.weather_currentContainer{justify-content:flex-end!important;margin-right:8px!important}#banner-widgets-weather .weather_currentContainer>.weather_currentContainer{flex:initial!important}#banner-widgets-weather .weather_degreeRow{display:flex;flex-direction:row;flex-wrap:nowrap}#banner-widgets-weather .col-xl{white-space:nowrap}#banner-widgets-weather .col-xl:last-child:before{content:"\\a0("}#banner-widgets-weather .col-xl:last-child:after{content:")"}#banner-widgets-weather .weather_dailyContainer .weather_image{width:32px;height:32px}#banner-widgets-weather .weather_text+div{overflow:hidden;height:20px;display:flex;justify-content:center;align-items:center}#banner-widgets-weather .weather_currentContainer>.weather_currentContainer .weather_image{max-width:50px!important;margin-right:0!important}#banner-widgets-quote{position:relative;max-width:calc(100% - var(--widgetsCalendarWidth));margin:6px 8px;filter:drop-shadow(0px 0px 2px rgba(var(--widgetsTextColor),.2)) drop-shadow(-2px -2px 0px rgba(var(--widgetsBgColor),.8))}#banner-widgets-quote:before{--widgetsQuoteIcon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M3.7 6.3C5 4.8 7.2 4 10 4h1v2.8l-.8.2c-1.4.3-2.3.8-2.8 1.6a2.9 2.9 0 0 0-.5 1.4H10a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2H3a1 1 0 0 1-1-1v-8s-.2-2.7 1.7-4.7zM20 20h-6a1 1 0 0 1-1-1v-8s-.2-2.7 1.7-4.7C16 4.8 18.2 4 21 4h1v2.8l-.8.2c-1.4.3-2.3.8-2.8 1.6a2.9 2.9 0 0 0-.5 1.4H21a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2z'/%3E%3C/svg%3E");display:block;content:"";position:absolute;top:-18px;left:-10px;z-index:1;width:30px;height:30px;-webkit-mask:var(--widgetsQuoteIcon) no-repeat 50% 50%;mask:var(--widgetsQuoteIcon) no-repeat 50% 50%;-webkit-mask-size:cover;mask-size:cover;background-color:rgba(var(--widgetsTextColor),.9)}#banner-widgets-quote-block{text-overflow:ellipsis;overflow:hidden;display:-webkit-box;-webkit-line-clamp:7;-webkit-box-orient:vertical;font-family:Fira Sans Condensed,sans-serif;font-size:calc(var(--widgetsQuoteFS) * .8);text-align:right;border-radius:6px;text-shadow:1px 1px 0px rgba(var(--widgetsBgColor),.8);background-color:rgba(var(--widgetsBgColor),.7)}@media (min-width: 1024px){#banner-widgets-quote-block{font-size:var(--widgetsQuoteFS)}}#banner-widgets-quote-link{display:block;padding:6px 12px;color:var(--ls-primary-text-color)}#banner-widgets-quote-text{max-width:var(--widgetsQuoteMaxWidth, 48ch);font-size:var(--widgetsQuoteSize, 100%);line-height:1.2em}#banner-widgets-pomo{width:182px;height:110px;position:absolute;right:0;top:0;border-radius:0 0 0 6px;filter:saturate(.3) brightness(.9) opacity(.6);transform:scale(.8) translate(23px,-14px)}
`,Ne=Qn.id;let ge,xe,ot,kt,Ve,bn,vn,pe,In,K,Fn,Pn,Nn,Bn;const Vn=["banner","banner-align","page-icon","icon"],Zn="https://wallpaperaccess.com/full/1146672.jpg",Yn="https://images.unsplash.com/photo-1646026371686-79950ceb6daa?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1034&q=80",Kn='<iframe id="banner-widgets-pomo" src="https://pomofocus.io/app"></iframe>',Xn=[{key:"generalHeading",title:"\u2699 General settings",description:"",type:"heading",default:null},{key:"hidePluginProps",title:"",description:"Hide plugin related page props? (will be shown only on edit)",type:"boolean",default:!0},{key:"widgetsCalendarHeading",title:"\u{1F4C5} Widgets: calendar",description:"",type:"heading",default:null},{key:"widgetsCalendarEnabled",title:"Show calendar?",description:"\u26A0 check readme for instructions! https://github.com/yoyurec/logseq-banners-plugin",type:"enum",enumPicker:"radio",enumChoices:["off","journals","everywhere"],default:"journals"},{key:"widgetsCalendarWidth",title:"Block calendar widget width (in px)",description:"",type:"string",default:"380px"},{key:"widgetsWeatherHeading",title:"\u26C5 Widgets: weather",description:"",type:"heading",default:null},{key:"widgetsWeatherEnabled",title:"Show weather?",description:"\u26A0 check readme for instructions! https://github.com/yoyurec/logseq-banners-plugin",type:"enum",enumPicker:"radio",enumChoices:["off","journals","everywhere"],default:"journals"},{key:"widgetsWeatherID",title:"Weather ID",description:"",type:"string",default:"7QOWaH4IPGGaAr4puql2"},{key:"widgetsQuoteHeading",title:"\u{1F4AC} Widgets: quote",description:"",type:"heading",default:null},{key:"widgetsQuoteEnabled",title:"Show random #quote?",description:"\u26A0 check readme for instructions! https://github.com/yoyurec/logseq-banners-plugin",type:"enum",enumPicker:"radio",enumChoices:["off","journals","everywhere"],default:"journals"},{key:"widgetsQuoteTag",title:"Show random quotes with this tag (case sensitive!)",description:"",type:"string",default:"#quote"},{key:"widgetsQuoteMaxWidth",title:"Quote width limit (in chars)",description:"",type:"string",default:"48ch"},{key:"widgetsQuoteSize",title:"Quote font size (relative to default calculated, in %)",description:"",type:"string",default:"100%"},{key:"widgetsQuoteCleanupRegEx",title:"Cleanup RegEx for quote text",description:"",type:"string",default:"(^(TODO|NOW))|(id::.*)|(SCHEDULED:.<.*>)"},{key:"widgetsCustomHeading",title:"\u{1F4CA} Widgets: custom",description:"",type:"heading",default:null},{key:"widgetsCustomEnabled",title:"Show custom?",description:"\u26A0 check readme for instructions! https://github.com/yoyurec/logseq-banners-plugin",type:"enum",enumPicker:"radio",enumChoices:["off","journals","everywhere"],default:"everywhere"},{key:"widgetsCustomCode",title:"",description:"Show custom HTML (iframe for ex.) as widget",type:"string",default:Kn},{key:"journalHeading",title:"\u{1F4C6} Journal and home settings",description:"",type:"heading",default:null},{key:"defaultJournalBanner",title:"Default banner for journal and home page (set empty to disable)",description:"",type:"string",default:Yn},{key:"journalBannerHeight",title:"Banner height for journal & home page",description:"",type:"string",default:"280px"},{key:"journalBannerAlign",title:"Default banner vertical align for journal and home page",description:"",type:"string",default:"50%"},{key:"defaultJournalIcon",title:"Default icon (emoji) for journal and home page (set empty to disable)",description:"",type:"string",default:"\u{1F4C5}"},{key:"journalIconWidth",title:"Icon width for journal & home page (in px)",description:"",type:"string",default:"50px"},{key:"pageHeading",title:"\u{1F4C4} Common page settings",description:"",type:"heading",default:null},{key:"defaultPageBanner",title:"Default banner for common page (set empty to disable)",description:"",type:"string",default:Zn},{key:"pageBannerHeight",title:"Banner height for common page",description:"",type:"string",default:"280px"},{key:"pageBannerAlign",title:"Default banner vertical align for common page",description:"",type:"string",default:"50%"},{key:"defaultPageIcon",title:"Default icon (emoji) for common page (set empty to disable)",description:"",type:"string",default:"\u{1F4C4}"},{key:"pageIconWidth",title:"Icon width for common page (in px)",description:"",type:"string",default:"40px"},{key:"advancedHeading",title:"Advanced settings",description:"",type:"heading",default:null},{key:"customPropsConfig",title:"Advanced custom pages banners and icons config",description:"",type:"object",default:{pageType:{evrgrn:{pageIcon:"\u{1F333}",banner:"https://images.unsplash.com/photo-1502082553048-f009c37129b9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",bannerHeight:"200px",bannerAlign:"50%"},seed:{pageIcon:"\u{1F331}",banner:"https://images.unsplash.com/photo-1631949454967-6c6d07fb59cd?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",bannerHeight:"200px",bannerAlign:"50%"}},anotherCamalCasedPropName:{}}}],er=()=>{logseq.provideStyle(Jn)},Un=()=>{jr()},qn=()=>{Pn=!1,Nn=!1,Fn={...K},K={calendar:{},weather:{},quote:{},custom:{}},pe={page:{},journal:{}},logseq.settings&&({hidePluginProps:Bn,widgetsCalendarEnabled:K.calendar.enabled,widgetsCalendarWidth:K.calendar.width,widgetsWeatherEnabled:K.weather.enabled,widgetsWeatherID:K.weather.id,widgetsQuoteEnabled:K.quote.enabled,widgetsQuoteTag:K.quote.tag,widgetsQuoteMaxWidth:K.quote.maxwidth,widgetsQuoteSize:K.quote.size,widgetsQuoteCleanupRegEx:K.quote.cleanup,widgetsCustomEnabled:K.custom.enabled,widgetsCustomCode:K.custom.code,defaultPageBanner:pe.page.banner,pageBannerHeight:pe.page.bannerHeight,pageBannerAlign:pe.page.bannerAlign,defaultPageIcon:pe.page.pageIcon,pageIconWidth:pe.page.iconWidth,defaultJournalBanner:pe.journal.banner,journalBannerHeight:pe.journal.bannerHeight,journalBannerAlign:pe.journal.bannerAlign,defaultJournalIcon:pe.journal.pageIcon,journalIconWidth:pe.journal.iconWidth,customPropsConfig:In}=logseq.settings),nr()},tr=()=>{K.custom.code!==Fn.custom.code&&(Pn=!0),K.weather.id!==Fn.weather.id&&(Nn=!0)},Hn=async f=>{let j;try{j=await fetch(f)}catch{return""}const G=await j.blob();return new Promise(Q=>{const B=new FileReader;B.readAsDataURL(G),B.onloadend=()=>{const ye=B.result;Q(ye)}})},nr=async()=>{pe.page.banner&&!pe.page.banner?.includes("source.unsplash.com")&&(pe.page.banner=await Hn(pe.page.banner)),pe.journal.banner&&!pe.journal.banner?.includes("source.unsplash.com")&&(pe.journal.banner=await Hn(pe.journal.banner))},zn=f=>{const j=document.createElement("canvas");j.height=1,j.width=1;const G=j.getContext("2d");G.fillStyle=f,G.fillRect(0,0,1,1);const Q=G.getImageData(0,0,1,1).data;return`${Q[0]}, ${Q[1]}, ${Q[2]}`},$n=()=>{const f=getComputedStyle(top.document.documentElement).getPropertyValue("--ls-primary-text-color").trim();xe.style.setProperty("--widgetsTextColor",zn(f));const j=getComputedStyle(top.document.documentElement).getPropertyValue("--ls-primary-background-color").trim();xe.style.setProperty("--widgetsBgColor",zn(j))},rr=()=>{const f=ge.getElementsByClassName("page-property-key");if(f?.length)for(let j=0;j<f.length;j++){const G=f[j].textContent;G&&Vn.includes(G)&&(f[j].parentElement.parentElement.style.display=Bn?"none":"block")}},or=()=>{bn=!1,Ve=!1;const f=ot.getAttribute("data-page");f==="home"&&(Ve=!0,bn=!1),f==="page"&&(bn=!0,Ve=!1)},ir=async()=>{let f={...pe.journal},j={};if(Ve)return console.info(`#${Ne}: Homepage`),f;const G=await ar();if(kt=G["journal?"],kt)return console.info(`#${Ne}: Journal page`),f;if(console.info(`#${Ne}: Trying page props`),j=G.properties,j){const Q=sr(j);f={...pe.page,...Q,...j}}else console.info(`#${Ne}: Default page`),f={...pe.page};return G.name&&(f.title=G.name.split(" ").slice(0,3).join("-").replace(/[\])}[{(]/g,"")),console.info(`#${Ne}: pageAssetsData -- `,f),f},ar=async()=>{let f=null;if(f=await logseq.Editor.getCurrentPage(),f){const j=f.page?.id;j&&(f=null,f=await logseq.Editor.getPage(j))}return f},sr=f=>{console.info(`#${Ne}: Trying custom JSON settings`);let j={};for(const G of Object.keys(In)){const Q=f?.[G];if(Q){const B=Array.isArray(Q)?Q[0]:Q;B&&(j=In?.[G]?.[B])}}return j},lr=async f=>f.banner?(ot.classList.add("is-banner-active"),xe.style.setProperty("--bannerHeight",`${f.bannerHeight}`),xe.style.setProperty("--bannerAlign",`${f.bannerAlign}`),f.banner=f.banner.replace(/^"(.*)"$/,"$1"),f.banner.startsWith("../")&&(f.banner=encodeURI("assets://"+vn?.path+f.banner.replace("..",""))),xe.style.setProperty("--pageBanner",`url(${f.banner})`),!0):(Ln(),!1),cr=async f=>{const j=f.icon||f.pageIcon;j?(ot.classList.add("is-icon-active"),xe.style.setProperty("--iconWidth",`${f.iconWidth}`),xe.style.setProperty("--pageIcon",`"${j}"`)):Mn()},Ln=()=>{ot.classList.remove("is-banner-active"),xe.style.setProperty("--pageBanner",""),xe.style.setProperty("--bannerHeight",""),xe.style.setProperty("--bannerAlign","")},Mn=()=>{ot.classList.remove("is-icon-active"),xe.style.setProperty("--pageIcon",""),xe.style.setProperty("--iconWidth","")};let Wn,Rn;const ur=()=>{Wn={attributes:!0,attributeFilter:["class"],attributeOldValue:!0,subtree:!0};const f=function(j){for(let G=0;G<j.length;G++){if(j[G].oldValue?.includes("pre-block")){console.info(`#${Ne}: page props - deleted`),Jt();return}j[G]?.target?.offsetParent?.classList.contains("pre-block")&&j[G].oldValue==="editor-wrapper"&&(console.info(`#${Ne}: page props - edited or added`),Jt())}};Rn=new MutationObserver(f)},Gn=()=>{const f=ge.getElementsByClassName("content")[0]?.firstChild?.firstChild?.firstChild?.firstChild;f&&Rn.observe(f,Wn)},dr=()=>{Rn.disconnect()},pr=()=>{console.info(`#${Ne}: page route changed`),dr(),Jt(),setTimeout(()=>{Gn()},200)},fr=()=>{qn(),Un(),tr(),Jt()},gr=()=>{setTimeout(()=>{$n()},300)},hr=async()=>{vn=await logseq.App.getCurrentGraph()},mr=()=>{top.document.getElementById("banner")?.remove(),ot.classList.remove("is-banner-active"),ot.classList.remove("is-icon-active")},yr=()=>{if(!ge.getElementById("banner")){const f=ge.getElementById("main-content-container");f&&f.insertAdjacentHTML("afterbegin",`<div id="banner">
          <div id="banner-widgets">
            <div id="banner-widgets-calendar"></div>
          </div>
        </div>`)}},br=()=>{ge.getElementById("banner").style.display="block"},vr=()=>{ge.getElementById("banner").style.display="none"},wr=async()=>{const f=_r(),j=await xr();f||j?ge.getElementById("banner-widgets")?.classList.add("banner-widgets-bg"):ge.getElementById("banner-widgets")?.classList.remove("banner-widgets-bg"),kr(),Ar()},_r=()=>{const f=ge.getElementById("banner-widgets-calendar");return K.calendar.enabled==="off"||K.calendar.enabled==="journals"&&!(Ve||kt)?(f.style.display="none",!1):(f.style.display="block",!0)},xr=async()=>{const f=ge.getElementById("banner-widgets-weather");if(K.weather.enabled==="off"||K.weather.enabled==="journals"&&!(Ve||kt))return f?.remove(),!1;if(!f||Nn){f?.remove();const j=await Cr();ge.getElementById("banner-widgets")?.insertAdjacentHTML("beforeend",`<div id="banner-widgets-weather">${j}</div>`)}return!0},Cr=async()=>{const f=`https://indify.co/widgets/live/weather/${K.weather.id}`;let j="",G=await fetch(f);if(G&&G.status===200){if(j=await G.text(),j){j=j.replace(/src="/g,'src="https://indify.co').replace(/flex-dir/g,"display:flex;flex-dir").replace(/__...../g,"");var Q=new DOMParser,B=Q.parseFromString(j,"text/html");B.getElementById("weatherTemp")?.remove(),j=B.querySelector("[class^=weather_container]")?.innerHTML||""}}else console.info(`#${Ne}: HTTP-Error: ${G.status}`);return j},kr=async()=>{if(K.quote.enabled==="off"||K.quote.enabled==="journals"&&!(Ve||kt)){ge.getElementById("banner-widgets-quote")?.remove();return}const f=await Er();if(!f){ge.getElementById("banner-widgets-quote")?.remove();return}xe.style.setProperty("--widgetsQuoteFS",Sr(f.length)),xe.style.setProperty("--widgetsQuoteSize",K.quote.size),xe.style.setProperty("--widgetsQuoteMaxWidth",K.quote.maxwidth);const j=ge.getElementById("banner-widgets-quote-text");j?(j.remove(),ge.getElementById("banner-widgets-quote-block")?.insertAdjacentHTML("beforeend",`<div id="banner-widgets-quote-text">${f}</div>`)):ge.getElementById("banner-widgets")?.insertAdjacentHTML("beforeend",`<div id="banner-widgets-quote"><div id="banner-widgets-quote-block"><div id="banner-widgets-quote-text">${f}</div></div></div>`)},Sr=f=>f>200?"1.2em":f>150?"1.25em":"1.3em",Er=async()=>{let f=`
    [
      :find ?content ?page-title
      :where
          [?id :block/content ?content]
          (or
              [(clojure.string/starts-with? ?content "${K.quote.tag} ")]
              [(clojure.string/ends-with? ?content " ${K.quote.tag}")]
          )
          [?id :block/page ?page-id]
          [?page-id :block/original-name ?page-title]
    ]
  `,j=await logseq.DB.datascriptQuery(f);if(!j.length)return"";const G=j[Math.floor(Math.random()*j.length)];let Q=G[0];const B=new RegExp(`${K.quote.tag}`,"gi");Q=Q.replace(B,"").replace(/\n/g,"").trim();const ye=new RegExp(`${K.quote.cleanup}`,"g");Q=Q.replace(ye,"").trim(),Q=Q.replace(/(==)|(\^\^)/g,""),Q=Q.replace(/\*\*(.*)\*\*/g,"<b>$1</b>").replace(/\*(.*)\*/g,"<i>$1</i>").replace(/_(.*)_/g,"<i>$1</i>");const H=G[1];return Q=`<a href=${encodeURI(`logseq://graph/${vn?.name}?page=${H}`)} title="${H}" id="banner-widgets-quote-link">${Q}</a>`,Q},Ar=async()=>{const f=ge.getElementById("banner-widgets-custom");if(K.custom.enabled==="off"||K.custom.enabled==="journals"&&!(Ve||kt)){f?.remove();return}(!f||Pn)&&ge.getElementById("banner-widgets")?.insertAdjacentHTML("beforeend",`<div id="banner-widgets-custom">${K.custom.code}</div>`)},jr=()=>{setTimeout(()=>{$n()},500),xe.style.setProperty("--widgetsCalendarWidth",K.calendar.width)},Jt=async()=>{if(or(),!(Ve||bn)){Ln(),Mn();return}rr();let f=null;if(f=await ir(),f){if(!f.banner||f.banner==="false"||f.banner==="off"||f.banner==="none"||f.banner==='""'||f.banner==="''"){Ln(),Mn();return}await lr(f)&&(cr(f),wr(),br())}},Tr=async()=>{console.info(`#${Ne}: MAIN`),vn=await logseq.App.getCurrentGraph(),logseq.useSettingsSchema(Xn),ge=top.document,xe=ge.documentElement,ot=ge.body,er(),yr(),vr(),setTimeout(()=>{qn(),Un(),Jt()},500),ur(),setTimeout(()=>{Gn(),logseq.App.onRouteChanged(async()=>{pr()}),logseq.onSettingsChanged(()=>{fr()}),logseq.App.onThemeModeChanged(()=>{gr()}),logseq.App.onCurrentGraphChanged(()=>{hr()}),logseq.beforeunload(async()=>{mr()})},4e3)};logseq.ready(Tr).catch(console.error);
//# sourceMappingURL=index.8926b63d.js.map
