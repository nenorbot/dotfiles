(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const m of c)if(m.type==="childList")for(const C of m.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&i(C)}).observe(document,{childList:!0,subtree:!0});function n(c){const m={};return c.integrity&&(m.integrity=c.integrity),c.referrerpolicy&&(m.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?m.credentials="include":c.crossorigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function i(c){if(c.ep)return;c.ep=!0;const m=n(c);fetch(c.href,m)}})();var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ir={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */(function(a,r){(function(n,i){a.exports=i()})(self,()=>(()=>{var n={227:(C,f,_)=>{var x=_(155);f.formatArgs=function(T){if(T[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+T[0]+(this.useColors?"%c ":" ")+"+"+C.exports.humanize(this.diff),!this.useColors)return;const G="color: "+this.color;T.splice(1,0,G,"color: inherit");let b=0,g=0;T[0].replace(/%[a-zA-Z%]/g,M=>{M!=="%%"&&(b++,M==="%c"&&(g=b))}),T.splice(g,0,G)},f.save=function(T){try{T?f.storage.setItem("debug",T):f.storage.removeItem("debug")}catch{}},f.load=function(){let T;try{T=f.storage.getItem("debug")}catch{}return!T&&x!==void 0&&"env"in x&&(T=x.env.DEBUG),T},f.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer"&&!window.process.__nwjs)||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},f.storage=function(){try{return localStorage}catch{}}(),f.destroy=(()=>{let T=!1;return()=>{T||(T=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),f.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],f.log=console.debug||console.log||(()=>{}),C.exports=_(447)(f);const{formatters:k}=C.exports;k.j=function(T){try{return JSON.stringify(T)}catch(G){return"[UnexpectedJSONParseError]: "+G.message}}},447:(C,f,_)=>{C.exports=function(x){function k(b){let g,M=null;function O(...H){if(!O.enabled)return;const z=O,N=Number(new Date),ee=N-(g||N);z.diff=ee,z.prev=g,z.curr=N,g=N,H[0]=k.coerce(H[0]),typeof H[0]!="string"&&H.unshift("%O");let U=0;H[0]=H[0].replace(/%([a-zA-Z%])/g,(j,l)=>{if(j==="%%")return"%";U++;const h=k.formatters[l];if(typeof h=="function"){const v=H[U];j=h.call(z,v),H.splice(U,1),U--}return j}),k.formatArgs.call(z,H),(z.log||k.log).apply(z,H)}return O.namespace=b,O.useColors=k.useColors(),O.color=k.selectColor(b),O.extend=T,O.destroy=k.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>M===null?k.enabled(b):M,set:H=>{M=H}}),typeof k.init=="function"&&k.init(O),O}function T(b,g){const M=k(this.namespace+(g===void 0?":":g)+b);return M.log=this.log,M}function G(b){return b.toString().substring(2,b.toString().length-2).replace(/\.\*\?$/,"*")}return k.debug=k,k.default=k,k.coerce=function(b){return b instanceof Error?b.stack||b.message:b},k.disable=function(){const b=[...k.names.map(G),...k.skips.map(G).map(g=>"-"+g)].join(",");return k.enable(""),b},k.enable=function(b){let g;k.save(b),k.names=[],k.skips=[];const M=(typeof b=="string"?b:"").split(/[\s,]+/),O=M.length;for(g=0;g<O;g++)M[g]&&((b=M[g].replace(/\*/g,".*?"))[0]==="-"?k.skips.push(new RegExp("^"+b.substr(1)+"$")):k.names.push(new RegExp("^"+b+"$")))},k.enabled=function(b){if(b[b.length-1]==="*")return!0;let g,M;for(g=0,M=k.skips.length;g<M;g++)if(k.skips[g].test(b))return!1;for(g=0,M=k.names.length;g<M;g++)if(k.names[g].test(b))return!0;return!1},k.humanize=_(824),k.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(x).forEach(b=>{k[b]=x[b]}),k.names=[],k.skips=[],k.formatters={},k.selectColor=function(b){let g=0;for(let M=0;M<b.length;M++)g=(g<<5)-g+b.charCodeAt(M),g|=0;return k.colors[Math.abs(g)%k.colors.length]},k.enable(k.load()),k}},856:function(C){C.exports=function(){function f(K){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(K)}function _(K,I){return(_=Object.setPrototypeOf||function(Y,se){return Y.__proto__=se,Y})(K,I)}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(K,I,Y){return(k=x()?Reflect.construct:function(se,ge,xe){var Ve=[null];Ve.push.apply(Ve,ge);var ze=new(Function.bind.apply(se,Ve));return xe&&_(ze,xe.prototype),ze}).apply(null,arguments)}function T(K){return function(I){if(Array.isArray(I))return G(I)}(K)||function(I){if(typeof Symbol<"u"&&I[Symbol.iterator]!=null||I["@@iterator"]!=null)return Array.from(I)}(K)||function(I,Y){if(I){if(typeof I=="string")return G(I,Y);var se=Object.prototype.toString.call(I).slice(8,-1);return se==="Object"&&I.constructor&&(se=I.constructor.name),se==="Map"||se==="Set"?Array.from(I):se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se)?G(I,Y):void 0}}(K)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function G(K,I){(I==null||I>K.length)&&(I=K.length);for(var Y=0,se=new Array(I);Y<I;Y++)se[Y]=K[Y];return se}var b=Object.hasOwnProperty,g=Object.setPrototypeOf,M=Object.isFrozen,O=Object.getPrototypeOf,H=Object.getOwnPropertyDescriptor,z=Object.freeze,N=Object.seal,ee=Object.create,U=typeof Reflect<"u"&&Reflect,j=U.apply,l=U.construct;j||(j=function(K,I,Y){return K.apply(I,Y)}),z||(z=function(K){return K}),N||(N=function(K){return K}),l||(l=function(K,I){return k(K,T(I))});var h,v=d(Array.prototype.forEach),S=d(Array.prototype.pop),X=d(Array.prototype.push),ne=d(String.prototype.toLowerCase),q=d(String.prototype.match),F=d(String.prototype.replace),D=d(String.prototype.indexOf),W=d(String.prototype.trim),E=d(RegExp.prototype.test),Z=(h=TypeError,function(){for(var K=arguments.length,I=new Array(K),Y=0;Y<K;Y++)I[Y]=arguments[Y];return l(h,I)});function d(K){return function(I){for(var Y=arguments.length,se=new Array(Y>1?Y-1:0),ge=1;ge<Y;ge++)se[ge-1]=arguments[ge];return j(K,I,se)}}function p(K,I){g&&g(K,null);for(var Y=I.length;Y--;){var se=I[Y];if(typeof se=="string"){var ge=ne(se);ge!==se&&(M(I)||(I[Y]=ge),se=ge)}K[se]=!0}return K}function P(K){var I,Y=ee(null);for(I in K)j(b,K,[I])&&(Y[I]=K[I]);return Y}function Q(K,I){for(;K!==null;){var Y=H(K,I);if(Y){if(Y.get)return d(Y.get);if(typeof Y.value=="function")return d(Y.value)}K=O(K)}return function(se){return console.warn("fallback value for",se),null}}var ae=z(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ue=z(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),re=z(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fe=z(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),me=z(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),he=z(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ve=z(["#text"]),be=z(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),pe=z(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ie=z(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ce=z(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ne=N(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ge=N(/<%[\w\W]*|[\w\W]*%>/gm),qe=N(/^data-[\-\w.\u00B7-\uFFFF]/),Je=N(/^aria-[\-\w]+$/),ft=N(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),rt=N(/^(?:\w+script|data):/i),Qt=N(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Tr=N(/^html$/i),Xt=function(){return typeof window>"u"?null:window},kr=function(K,I){if(f(K)!=="object"||typeof K.createPolicy!="function")return null;var Y=null,se="data-tt-policy-suffix";I.currentScript&&I.currentScript.hasAttribute(se)&&(Y=I.currentScript.getAttribute(se));var ge="dompurify"+(Y?"#"+Y:"");try{return K.createPolicy(ge,{createHTML:function(xe){return xe}})}catch{return console.warn("TrustedTypes policy "+ge+" could not be created."),null}};return function K(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Xt(),Y=function(s){return K(s)};if(Y.version="2.3.8",Y.removed=[],!I||!I.document||I.document.nodeType!==9)return Y.isSupported=!1,Y;var se=I.document,ge=I.document,xe=I.DocumentFragment,Ve=I.HTMLTemplateElement,ze=I.Node,Zt=I.Element,kt=I.NodeFilter,ht=I.NamedNodeMap,xt=ht===void 0?I.NamedNodeMap||I.MozNamedAttrMap:ht,Kt=I.HTMLFormElement,Ot=I.DOMParser,er=I.trustedTypes,nt=Zt.prototype,tr=Q(nt,"cloneNode"),rr=Q(nt,"nextSibling"),xr=Q(nt,"childNodes"),Mt=Q(nt,"parentNode");if(typeof Ve=="function"){var pt=ge.createElement("template");pt.content&&pt.content.ownerDocument&&(ge=pt.content.ownerDocument)}var Pe=kr(er,se),nr=Pe?Pe.createHTML(""):"",ce=ge,mt=ce.implementation,at=ce.createNodeIterator,Dt=ce.createDocumentFragment,ar=ce.getElementsByTagName,or=se.importNode,Et={};try{Et=P(ge).documentMode?ge.documentMode:{}}catch{}var Oe={};Y.isSupported=typeof Mt=="function"&&mt&&mt.createHTMLDocument!==void 0&&Et!==9;var ot,He,At=Ne,gt=Ge,Or=qe,Mr=Je,Dr=rt,ir=Qt,yt=ft,Se=null,sr=p({},[].concat(T(ae),T(ue),T(re),T(me),T(ve))),Te=null,Ft=p({},[].concat(T(be),T(pe),T(ie),T(Ce))),we=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Qe=null,Nt=null,ur=!0,jt=!0,cr=!1,Le=!1,je=!1,$t=!1,Pt=!1,Xe=!1,it=!1,st=!1,ut=!0,Lt=!0,Ye=!1,Ze={},Ke=null,It=p({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ie=null,lr=p({},["audio","video","img","source","image","track"]),Ut=null,vt=p({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Rt="http://www.w3.org/1998/Math/MathML",Wt="http://www.w3.org/2000/svg",Ue="http://www.w3.org/1999/xhtml",bt=Ue,qt=!1,Jt=["application/xhtml+xml","text/html"],Er="text/html",et=null,Ar=ge.createElement("form"),dr=function(s){return s instanceof RegExp||s instanceof Function},Ae=function(s){et&&et===s||(s&&f(s)==="object"||(s={}),s=P(s),Se="ALLOWED_TAGS"in s?p({},s.ALLOWED_TAGS):sr,Te="ALLOWED_ATTR"in s?p({},s.ALLOWED_ATTR):Ft,Ut="ADD_URI_SAFE_ATTR"in s?p(P(vt),s.ADD_URI_SAFE_ATTR):vt,Ie="ADD_DATA_URI_TAGS"in s?p(P(lr),s.ADD_DATA_URI_TAGS):lr,Ke="FORBID_CONTENTS"in s?p({},s.FORBID_CONTENTS):It,Qe="FORBID_TAGS"in s?p({},s.FORBID_TAGS):{},Nt="FORBID_ATTR"in s?p({},s.FORBID_ATTR):{},Ze="USE_PROFILES"in s&&s.USE_PROFILES,ur=s.ALLOW_ARIA_ATTR!==!1,jt=s.ALLOW_DATA_ATTR!==!1,cr=s.ALLOW_UNKNOWN_PROTOCOLS||!1,Le=s.SAFE_FOR_TEMPLATES||!1,je=s.WHOLE_DOCUMENT||!1,Xe=s.RETURN_DOM||!1,it=s.RETURN_DOM_FRAGMENT||!1,st=s.RETURN_TRUSTED_TYPE||!1,Pt=s.FORCE_BODY||!1,ut=s.SANITIZE_DOM!==!1,Lt=s.KEEP_CONTENT!==!1,Ye=s.IN_PLACE||!1,yt=s.ALLOWED_URI_REGEXP||yt,bt=s.NAMESPACE||Ue,s.CUSTOM_ELEMENT_HANDLING&&dr(s.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(we.tagNameCheck=s.CUSTOM_ELEMENT_HANDLING.tagNameCheck),s.CUSTOM_ELEMENT_HANDLING&&dr(s.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(we.attributeNameCheck=s.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),s.CUSTOM_ELEMENT_HANDLING&&typeof s.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(we.allowCustomizedBuiltInElements=s.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ot=ot=Jt.indexOf(s.PARSER_MEDIA_TYPE)===-1?Er:s.PARSER_MEDIA_TYPE,He=ot==="application/xhtml+xml"?function(R){return R}:ne,Le&&(jt=!1),it&&(Xe=!0),Ze&&(Se=p({},T(ve)),Te=[],Ze.html===!0&&(p(Se,ae),p(Te,be)),Ze.svg===!0&&(p(Se,ue),p(Te,pe),p(Te,Ce)),Ze.svgFilters===!0&&(p(Se,re),p(Te,pe),p(Te,Ce)),Ze.mathMl===!0&&(p(Se,me),p(Te,ie),p(Te,Ce))),s.ADD_TAGS&&(Se===sr&&(Se=P(Se)),p(Se,s.ADD_TAGS)),s.ADD_ATTR&&(Te===Ft&&(Te=P(Te)),p(Te,s.ADD_ATTR)),s.ADD_URI_SAFE_ATTR&&p(Ut,s.ADD_URI_SAFE_ATTR),s.FORBID_CONTENTS&&(Ke===It&&(Ke=P(Ke)),p(Ke,s.FORBID_CONTENTS)),Lt&&(Se["#text"]=!0),je&&p(Se,["html","head","body"]),Se.table&&(p(Se,["tbody"]),delete Qe.tbody),z&&z(s),et=s)},ct=p({},["mi","mo","mn","ms","mtext"]),zt=p({},["foreignobject","desc","title","annotation-xml"]),wt=p({},["title","style","font","a","script"]),_t=p({},ue);p(_t,re),p(_t,fe);var Ht=p({},me);p(Ht,he);var Fr=function(s){var R=Mt(s);R&&R.tagName||(R={namespaceURI:Ue,tagName:"template"});var $=ne(s.tagName),le=ne(R.tagName);return s.namespaceURI===Wt?R.namespaceURI===Ue?$==="svg":R.namespaceURI===Rt?$==="svg"&&(le==="annotation-xml"||ct[le]):Boolean(_t[$]):s.namespaceURI===Rt?R.namespaceURI===Ue?$==="math":R.namespaceURI===Wt?$==="math"&&zt[le]:Boolean(Ht[$]):s.namespaceURI===Ue&&!(R.namespaceURI===Wt&&!zt[le])&&!(R.namespaceURI===Rt&&!ct[le])&&!Ht[$]&&(wt[$]||!_t[$])},Fe=function(s){X(Y.removed,{element:s});try{s.parentNode.removeChild(s)}catch{try{s.outerHTML=nr}catch{s.remove()}}},fr=function(s,R){try{X(Y.removed,{attribute:R.getAttributeNode(s),from:R})}catch{X(Y.removed,{attribute:null,from:R})}if(R.removeAttribute(s),s==="is"&&!Te[s])if(Xe||it)try{Fe(R)}catch{}else try{R.setAttribute(s,"")}catch{}},Ct=function(s){var R,$;if(Pt)s="<remove></remove>"+s;else{var le=q(s,/^[\r\n\t ]+/);$=le&&le[0]}ot==="application/xhtml+xml"&&(s='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+s+"</body></html>");var t=Pe?Pe.createHTML(s):s;if(bt===Ue)try{R=new Ot().parseFromString(t,ot)}catch{}if(!R||!R.documentElement){R=mt.createDocument(bt,"template",null);try{R.documentElement.innerHTML=qt?"":t}catch{}}var e=R.body||R.documentElement;return s&&$&&e.insertBefore(ge.createTextNode($),e.childNodes[0]||null),bt===Ue?ar.call(R,je?"html":"body")[0]:je?R.documentElement:e},hr=function(s){return at.call(s.ownerDocument||s,s,kt.SHOW_ELEMENT|kt.SHOW_COMMENT|kt.SHOW_TEXT,null,!1)},Nr=function(s){return s instanceof Kt&&(typeof s.nodeName!="string"||typeof s.textContent!="string"||typeof s.removeChild!="function"||!(s.attributes instanceof xt)||typeof s.removeAttribute!="function"||typeof s.setAttribute!="function"||typeof s.namespaceURI!="string"||typeof s.insertBefore!="function")},$e=function(s){return f(ze)==="object"?s instanceof ze:s&&f(s)==="object"&&typeof s.nodeType=="number"&&typeof s.nodeName=="string"},Me=function(s,R,$){Oe[s]&&v(Oe[s],function(le){le.call(Y,R,$,et)})},pr=function(s){var R;if(Me("beforeSanitizeElements",s,null),Nr(s)||E(/[\u0080-\uFFFF]/,s.nodeName))return Fe(s),!0;var $=He(s.nodeName);if(Me("uponSanitizeElement",s,{tagName:$,allowedTags:Se}),s.hasChildNodes()&&!$e(s.firstElementChild)&&(!$e(s.content)||!$e(s.content.firstElementChild))&&E(/<[/\w]/g,s.innerHTML)&&E(/<[/\w]/g,s.textContent)||$==="select"&&E(/<template/i,s.innerHTML))return Fe(s),!0;if(!Se[$]||Qe[$]){if(!Qe[$]&&mr($)&&(we.tagNameCheck instanceof RegExp&&E(we.tagNameCheck,$)||we.tagNameCheck instanceof Function&&we.tagNameCheck($)))return!1;if(Lt&&!Ke[$]){var le=Mt(s)||s.parentNode,t=xr(s)||s.childNodes;if(t&&le)for(var e=t.length-1;e>=0;--e)le.insertBefore(tr(t[e],!0),rr(s))}return Fe(s),!0}return s instanceof Zt&&!Fr(s)?(Fe(s),!0):$!=="noscript"&&$!=="noembed"||!E(/<\/no(script|embed)/i,s.innerHTML)?(Le&&s.nodeType===3&&(R=s.textContent,R=F(R,At," "),R=F(R,gt," "),s.textContent!==R&&(X(Y.removed,{element:s.cloneNode()}),s.textContent=R)),Me("afterSanitizeElements",s,null),!1):(Fe(s),!0)},Yt=function(s,R,$){if(ut&&(R==="id"||R==="name")&&($ in ge||$ in Ar))return!1;if(!(jt&&!Nt[R]&&E(Or,R))){if(!(ur&&E(Mr,R))){if(!Te[R]||Nt[R]){if(!(mr(s)&&(we.tagNameCheck instanceof RegExp&&E(we.tagNameCheck,s)||we.tagNameCheck instanceof Function&&we.tagNameCheck(s))&&(we.attributeNameCheck instanceof RegExp&&E(we.attributeNameCheck,R)||we.attributeNameCheck instanceof Function&&we.attributeNameCheck(R))||R==="is"&&we.allowCustomizedBuiltInElements&&(we.tagNameCheck instanceof RegExp&&E(we.tagNameCheck,$)||we.tagNameCheck instanceof Function&&we.tagNameCheck($))))return!1}else if(!Ut[R]){if(!E(yt,F($,ir,""))){if((R!=="src"&&R!=="xlink:href"&&R!=="href"||s==="script"||D($,"data:")!==0||!Ie[s])&&!(cr&&!E(Dr,F($,ir,"")))){if($)return!1}}}}}return!0},mr=function(s){return s.indexOf("-")>0},gr=function(s){var R,$,le,t;Me("beforeSanitizeAttributes",s,null);var e=s.attributes;if(e){var o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Te};for(t=e.length;t--;){var u=R=e[t],y=u.name,w=u.namespaceURI;if($=y==="value"?R.value:W(R.value),le=He(y),o.attrName=le,o.attrValue=$,o.keepAttr=!0,o.forceKeepAttr=void 0,Me("uponSanitizeAttribute",s,o),$=o.attrValue,!o.forceKeepAttr&&(fr(y,s),o.keepAttr))if(E(/\/>/i,$))fr(y,s);else{Le&&($=F($,At," "),$=F($,gt," "));var A=He(s.nodeName);if(Yt(A,le,$))try{w?s.setAttributeNS(w,y,$):s.setAttribute(y,$),S(Y.removed)}catch{}}}Me("afterSanitizeAttributes",s,null)}},jr=function s(R){var $,le=hr(R);for(Me("beforeSanitizeShadowDOM",R,null);$=le.nextNode();)Me("uponSanitizeShadowNode",$,null),pr($)||($.content instanceof xe&&s($.content),gr($));Me("afterSanitizeShadowDOM",R,null)};return Y.sanitize=function(s,R){var $,le,t,e,o;if((qt=!s)&&(s="<!-->"),typeof s!="string"&&!$e(s)){if(typeof s.toString!="function")throw Z("toString is not a function");if(typeof(s=s.toString())!="string")throw Z("dirty is not a string, aborting")}if(!Y.isSupported){if(f(I.toStaticHTML)==="object"||typeof I.toStaticHTML=="function"){if(typeof s=="string")return I.toStaticHTML(s);if($e(s))return I.toStaticHTML(s.outerHTML)}return s}if($t||Ae(R),Y.removed=[],typeof s=="string"&&(Ye=!1),Ye){if(s.nodeName){var u=He(s.nodeName);if(!Se[u]||Qe[u])throw Z("root node is forbidden and cannot be sanitized in-place")}}else if(s instanceof ze)(le=($=Ct("<!---->")).ownerDocument.importNode(s,!0)).nodeType===1&&le.nodeName==="BODY"||le.nodeName==="HTML"?$=le:$.appendChild(le);else{if(!Xe&&!Le&&!je&&s.indexOf("<")===-1)return Pe&&st?Pe.createHTML(s):s;if(!($=Ct(s)))return Xe?null:st?nr:""}$&&Pt&&Fe($.firstChild);for(var y=hr(Ye?s:$);t=y.nextNode();)t.nodeType===3&&t===e||pr(t)||(t.content instanceof xe&&jr(t.content),gr(t),e=t);if(e=null,Ye)return s;if(Xe){if(it)for(o=Dt.call($.ownerDocument);$.firstChild;)o.appendChild($.firstChild);else o=$;return Te.shadowroot&&(o=or.call(se,o,!0)),o}var w=je?$.outerHTML:$.innerHTML;return je&&Se["!doctype"]&&$.ownerDocument&&$.ownerDocument.doctype&&$.ownerDocument.doctype.name&&E(Tr,$.ownerDocument.doctype.name)&&(w="<!DOCTYPE "+$.ownerDocument.doctype.name+`>
`+w),Le&&(w=F(w,At," "),w=F(w,gt," ")),Pe&&st?Pe.createHTML(w):w},Y.setConfig=function(s){Ae(s),$t=!0},Y.clearConfig=function(){et=null,$t=!1},Y.isValidAttribute=function(s,R,$){et||Ae({});var le=He(s),t=He(R);return Yt(le,t,$)},Y.addHook=function(s,R){typeof R=="function"&&(Oe[s]=Oe[s]||[],X(Oe[s],R))},Y.removeHook=function(s){if(Oe[s])return S(Oe[s])},Y.removeHooks=function(s){Oe[s]&&(Oe[s]=[])},Y.removeAllHooks=function(){Oe={}},Y}()}()},729:C=>{var f=Object.prototype.hasOwnProperty,_="~";function x(){}function k(g,M,O){this.fn=g,this.context=M,this.once=O||!1}function T(g,M,O,H,z){if(typeof O!="function")throw new TypeError("The listener must be a function");var N=new k(O,H||g,z),ee=_?_+M:M;return g._events[ee]?g._events[ee].fn?g._events[ee]=[g._events[ee],N]:g._events[ee].push(N):(g._events[ee]=N,g._eventsCount++),g}function G(g,M){--g._eventsCount==0?g._events=new x:delete g._events[M]}function b(){this._events=new x,this._eventsCount=0}Object.create&&(x.prototype=Object.create(null),new x().__proto__||(_=!1)),b.prototype.eventNames=function(){var g,M,O=[];if(this._eventsCount===0)return O;for(M in g=this._events)f.call(g,M)&&O.push(_?M.slice(1):M);return Object.getOwnPropertySymbols?O.concat(Object.getOwnPropertySymbols(g)):O},b.prototype.listeners=function(g){var M=_?_+g:g,O=this._events[M];if(!O)return[];if(O.fn)return[O.fn];for(var H=0,z=O.length,N=new Array(z);H<z;H++)N[H]=O[H].fn;return N},b.prototype.listenerCount=function(g){var M=_?_+g:g,O=this._events[M];return O?O.fn?1:O.length:0},b.prototype.emit=function(g,M,O,H,z,N){var ee=_?_+g:g;if(!this._events[ee])return!1;var U,j,l=this._events[ee],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(g,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,M),!0;case 3:return l.fn.call(l.context,M,O),!0;case 4:return l.fn.call(l.context,M,O,H),!0;case 5:return l.fn.call(l.context,M,O,H,z),!0;case 6:return l.fn.call(l.context,M,O,H,z,N),!0}for(j=1,U=new Array(h-1);j<h;j++)U[j-1]=arguments[j];l.fn.apply(l.context,U)}else{var v,S=l.length;for(j=0;j<S;j++)switch(l[j].once&&this.removeListener(g,l[j].fn,void 0,!0),h){case 1:l[j].fn.call(l[j].context);break;case 2:l[j].fn.call(l[j].context,M);break;case 3:l[j].fn.call(l[j].context,M,O);break;case 4:l[j].fn.call(l[j].context,M,O,H);break;default:if(!U)for(v=1,U=new Array(h-1);v<h;v++)U[v-1]=arguments[v];l[j].fn.apply(l[j].context,U)}}return!0},b.prototype.on=function(g,M,O){return T(this,g,M,O,!1)},b.prototype.once=function(g,M,O){return T(this,g,M,O,!0)},b.prototype.removeListener=function(g,M,O,H){var z=_?_+g:g;if(!this._events[z])return this;if(!M)return G(this,z),this;var N=this._events[z];if(N.fn)N.fn!==M||H&&!N.once||O&&N.context!==O||G(this,z);else{for(var ee=0,U=[],j=N.length;ee<j;ee++)(N[ee].fn!==M||H&&!N[ee].once||O&&N[ee].context!==O)&&U.push(N[ee]);U.length?this._events[z]=U.length===1?U[0]:U:G(this,z)}return this},b.prototype.removeAllListeners=function(g){var M;return g?(M=_?_+g:g,this._events[M]&&G(this,M)):(this._events=new x,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=_,b.EventEmitter=b,C.exports=b},717:C=>{typeof Object.create=="function"?C.exports=function(f,_){f.super_=_,f.prototype=Object.create(_.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}:C.exports=function(f,_){f.super_=_;var x=function(){};x.prototype=_.prototype,f.prototype=new x,f.prototype.constructor=f}},824:C=>{var f=1e3,_=60*f,x=60*_,k=24*x;function T(G,b,g,M){var O=b>=1.5*g;return Math.round(G/g)+" "+M+(O?"s":"")}C.exports=function(G,b){b=b||{};var g,M,O=typeof G;if(O==="string"&&G.length>0)return function(H){if(!((H=String(H)).length>100)){var z=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(H);if(z){var N=parseFloat(z[1]);switch((z[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*N;case"weeks":case"week":case"w":return 6048e5*N;case"days":case"day":case"d":return N*k;case"hours":case"hour":case"hrs":case"hr":case"h":return N*x;case"minutes":case"minute":case"mins":case"min":case"m":return N*_;case"seconds":case"second":case"secs":case"sec":case"s":return N*f;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return N;default:return}}}}(G);if(O==="number"&&isFinite(G))return b.long?(g=G,(M=Math.abs(g))>=k?T(g,M,k,"day"):M>=x?T(g,M,x,"hour"):M>=_?T(g,M,_,"minute"):M>=f?T(g,M,f,"second"):g+" ms"):function(H){var z=Math.abs(H);return z>=k?Math.round(H/k)+"d":z>=x?Math.round(H/x)+"h":z>=_?Math.round(H/_)+"m":z>=f?Math.round(H/f)+"s":H+"ms"}(G);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(G))}},520:(C,f,_)=>{var x=_(155),k=x.platform==="win32",T=_(539);function G(l,h){for(var v=[],S=0;S<l.length;S++){var X=l[S];X&&X!=="."&&(X===".."?v.length&&v[v.length-1]!==".."?v.pop():h&&v.push(".."):v.push(X))}return v}function b(l){for(var h=l.length-1,v=0;v<=h&&!l[v];v++);for(var S=h;S>=0&&!l[S];S--);return v===0&&S===h?l:v>S?[]:l.slice(v,S+1)}var g=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,M=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,O={};function H(l){var h=g.exec(l),v=(h[1]||"")+(h[2]||""),S=h[3]||"",X=M.exec(S);return[v,X[1],X[2],X[3]]}function z(l){var h=g.exec(l),v=h[1]||"",S=!!v&&v[1]!==":";return{device:v,isUnc:S,isAbsolute:S||!!h[2],tail:h[3]}}function N(l){return"\\\\"+l.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}O.resolve=function(){for(var l="",h="",v=!1,S=arguments.length-1;S>=-1;S--){var X;if(S>=0?X=arguments[S]:l?(X=x.env["="+l])&&X.substr(0,3).toLowerCase()===l.toLowerCase()+"\\"||(X=l+"\\"):X=x.cwd(),!T.isString(X))throw new TypeError("Arguments to path.resolve must be strings");if(X){var ne=z(X),q=ne.device,F=ne.isUnc,D=ne.isAbsolute,W=ne.tail;if((!q||!l||q.toLowerCase()===l.toLowerCase())&&(l||(l=q),v||(h=W+"\\"+h,v=D),l&&v))break}}return F&&(l=N(l)),l+(v?"\\":"")+(h=G(h.split(/[\\\/]+/),!v).join("\\"))||"."},O.normalize=function(l){var h=z(l),v=h.device,S=h.isUnc,X=h.isAbsolute,ne=h.tail,q=/[\\\/]$/.test(ne);return(ne=G(ne.split(/[\\\/]+/),!X).join("\\"))||X||(ne="."),ne&&q&&(ne+="\\"),S&&(v=N(v)),v+(X?"\\":"")+ne},O.isAbsolute=function(l){return z(l).isAbsolute},O.join=function(){for(var l=[],h=0;h<arguments.length;h++){var v=arguments[h];if(!T.isString(v))throw new TypeError("Arguments to path.join must be strings");v&&l.push(v)}var S=l.join("\\");return/^[\\\/]{2}[^\\\/]/.test(l[0])||(S=S.replace(/^[\\\/]{2,}/,"\\")),O.normalize(S)},O.relative=function(l,h){l=O.resolve(l),h=O.resolve(h);for(var v=l.toLowerCase(),S=h.toLowerCase(),X=b(h.split("\\")),ne=b(v.split("\\")),q=b(S.split("\\")),F=Math.min(ne.length,q.length),D=F,W=0;W<F;W++)if(ne[W]!==q[W]){D=W;break}if(D==0)return h;var E=[];for(W=D;W<ne.length;W++)E.push("..");return(E=E.concat(X.slice(D))).join("\\")},O._makeLong=function(l){if(!T.isString(l))return l;if(!l)return"";var h=O.resolve(l);return/^[a-zA-Z]\:\\/.test(h)?"\\\\?\\"+h:/^\\\\[^?.]/.test(h)?"\\\\?\\UNC\\"+h.substring(2):l},O.dirname=function(l){var h=H(l),v=h[0],S=h[1];return v||S?(S&&(S=S.substr(0,S.length-1)),v+S):"."},O.basename=function(l,h){var v=H(l)[2];return h&&v.substr(-1*h.length)===h&&(v=v.substr(0,v.length-h.length)),v},O.extname=function(l){return H(l)[3]},O.format=function(l){if(!T.isObject(l))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof l);var h=l.root||"";if(!T.isString(h))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof l.root);var v=l.dir,S=l.base||"";return v?v[v.length-1]===O.sep?v+S:v+O.sep+S:S},O.parse=function(l){if(!T.isString(l))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof l);var h=H(l);if(!h||h.length!==4)throw new TypeError("Invalid path '"+l+"'");return{root:h[0],dir:h[0]+h[1].slice(0,-1),base:h[2],ext:h[3],name:h[2].slice(0,h[2].length-h[3].length)}},O.sep="\\",O.delimiter=";";var ee=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,U={};function j(l){return ee.exec(l).slice(1)}U.resolve=function(){for(var l="",h=!1,v=arguments.length-1;v>=-1&&!h;v--){var S=v>=0?arguments[v]:x.cwd();if(!T.isString(S))throw new TypeError("Arguments to path.resolve must be strings");S&&(l=S+"/"+l,h=S[0]==="/")}return(h?"/":"")+(l=G(l.split("/"),!h).join("/"))||"."},U.normalize=function(l){var h=U.isAbsolute(l),v=l&&l[l.length-1]==="/";return(l=G(l.split("/"),!h).join("/"))||h||(l="."),l&&v&&(l+="/"),(h?"/":"")+l},U.isAbsolute=function(l){return l.charAt(0)==="/"},U.join=function(){for(var l="",h=0;h<arguments.length;h++){var v=arguments[h];if(!T.isString(v))throw new TypeError("Arguments to path.join must be strings");v&&(l+=l?"/"+v:v)}return U.normalize(l)},U.relative=function(l,h){l=U.resolve(l).substr(1),h=U.resolve(h).substr(1);for(var v=b(l.split("/")),S=b(h.split("/")),X=Math.min(v.length,S.length),ne=X,q=0;q<X;q++)if(v[q]!==S[q]){ne=q;break}var F=[];for(q=ne;q<v.length;q++)F.push("..");return(F=F.concat(S.slice(ne))).join("/")},U._makeLong=function(l){return l},U.dirname=function(l){var h=j(l),v=h[0],S=h[1];return v||S?(S&&(S=S.substr(0,S.length-1)),v+S):"."},U.basename=function(l,h){var v=j(l)[2];return h&&v.substr(-1*h.length)===h&&(v=v.substr(0,v.length-h.length)),v},U.extname=function(l){return j(l)[3]},U.format=function(l){if(!T.isObject(l))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof l);var h=l.root||"";if(!T.isString(h))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof l.root);return(l.dir?l.dir+U.sep:"")+(l.base||"")},U.parse=function(l){if(!T.isString(l))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof l);var h=j(l);if(!h||h.length!==4)throw new TypeError("Invalid path '"+l+"'");return h[1]=h[1]||"",h[2]=h[2]||"",h[3]=h[3]||"",{root:h[0],dir:h[0]+h[1].slice(0,-1),base:h[2],ext:h[3],name:h[2].slice(0,h[2].length-h[3].length)}},U.sep="/",U.delimiter=":",C.exports=k?O:U,C.exports.posix=U,C.exports.win32=O},155:C=>{var f,_,x=C.exports={};function k(){throw new Error("setTimeout has not been defined")}function T(){throw new Error("clearTimeout has not been defined")}function G(U){if(f===setTimeout)return setTimeout(U,0);if((f===k||!f)&&setTimeout)return f=setTimeout,setTimeout(U,0);try{return f(U,0)}catch{try{return f.call(null,U,0)}catch{return f.call(this,U,0)}}}(function(){try{f=typeof setTimeout=="function"?setTimeout:k}catch{f=k}try{_=typeof clearTimeout=="function"?clearTimeout:T}catch{_=T}})();var b,g=[],M=!1,O=-1;function H(){M&&b&&(M=!1,b.length?g=b.concat(g):O=-1,g.length&&z())}function z(){if(!M){var U=G(H);M=!0;for(var j=g.length;j;){for(b=g,g=[];++O<j;)b&&b[O].run();O=-1,j=g.length}b=null,M=!1,function(l){if(_===clearTimeout)return clearTimeout(l);if((_===T||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(l);try{_(l)}catch{try{return _.call(null,l)}catch{return _.call(this,l)}}}(U)}}function N(U,j){this.fun=U,this.array=j}function ee(){}x.nextTick=function(U){var j=new Array(arguments.length-1);if(arguments.length>1)for(var l=1;l<arguments.length;l++)j[l-1]=arguments[l];g.push(new N(U,j)),g.length!==1||M||G(z)},N.prototype.run=function(){this.fun.apply(null,this.array)},x.title="browser",x.browser=!0,x.env={},x.argv=[],x.version="",x.versions={},x.on=ee,x.addListener=ee,x.once=ee,x.off=ee,x.removeListener=ee,x.removeAllListeners=ee,x.emit=ee,x.prependListener=ee,x.prependOnceListener=ee,x.listeners=function(U){return[]},x.binding=function(U){throw new Error("process.binding is not supported")},x.cwd=function(){return"/"},x.chdir=function(U){throw new Error("process.chdir is not supported")},x.umask=function(){return 0}},384:C=>{C.exports=function(f){return f&&typeof f=="object"&&typeof f.copy=="function"&&typeof f.fill=="function"&&typeof f.readUInt8=="function"}},539:(C,f,_)=>{var x=_(155),k=/%[sdj%]/g;f.format=function(d){if(!l(d)){for(var p=[],P=0;P<arguments.length;P++)p.push(b(arguments[P]));return p.join(" ")}P=1;for(var Q=arguments,ae=Q.length,ue=String(d).replace(k,function(fe){if(fe==="%%")return"%";if(P>=ae)return fe;switch(fe){case"%s":return String(Q[P++]);case"%d":return Number(Q[P++]);case"%j":try{return JSON.stringify(Q[P++])}catch{return"[Circular]"}default:return fe}}),re=Q[P];P<ae;re=Q[++P])U(re)||!S(re)?ue+=" "+re:ue+=" "+b(re);return ue},f.deprecate=function(d,p){if(h(_.g.process))return function(){return f.deprecate(d,p).apply(this,arguments)};if(x.noDeprecation===!0)return d;var P=!1;return function(){if(!P){if(x.throwDeprecation)throw new Error(p);x.traceDeprecation?console.trace(p):console.error(p),P=!0}return d.apply(this,arguments)}};var T,G={};function b(d,p){var P={seen:[],stylize:M};return arguments.length>=3&&(P.depth=arguments[2]),arguments.length>=4&&(P.colors=arguments[3]),ee(p)?P.showHidden=p:p&&f._extend(P,p),h(P.showHidden)&&(P.showHidden=!1),h(P.depth)&&(P.depth=2),h(P.colors)&&(P.colors=!1),h(P.customInspect)&&(P.customInspect=!0),P.colors&&(P.stylize=g),O(P,d,P.depth)}function g(d,p){var P=b.styles[p];return P?"\x1B["+b.colors[P][0]+"m"+d+"\x1B["+b.colors[P][1]+"m":d}function M(d,p){return d}function O(d,p,P){if(d.customInspect&&p&&q(p.inspect)&&p.inspect!==f.inspect&&(!p.constructor||p.constructor.prototype!==p)){var Q=p.inspect(P,d);return l(Q)||(Q=O(d,Q,P)),Q}var ae=function(pe,ie){if(h(ie))return pe.stylize("undefined","undefined");if(l(ie)){var Ce="'"+JSON.stringify(ie).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return pe.stylize(Ce,"string")}return j(ie)?pe.stylize(""+ie,"number"):ee(ie)?pe.stylize(""+ie,"boolean"):U(ie)?pe.stylize("null","null"):void 0}(d,p);if(ae)return ae;var ue=Object.keys(p),re=function(pe){var ie={};return pe.forEach(function(Ce,Ne){ie[Ce]=!0}),ie}(ue);if(d.showHidden&&(ue=Object.getOwnPropertyNames(p)),ne(p)&&(ue.indexOf("message")>=0||ue.indexOf("description")>=0))return H(p);if(ue.length===0){if(q(p)){var fe=p.name?": "+p.name:"";return d.stylize("[Function"+fe+"]","special")}if(v(p))return d.stylize(RegExp.prototype.toString.call(p),"regexp");if(X(p))return d.stylize(Date.prototype.toString.call(p),"date");if(ne(p))return H(p)}var me,he="",ve=!1,be=["{","}"];return N(p)&&(ve=!0,be=["[","]"]),q(p)&&(he=" [Function"+(p.name?": "+p.name:"")+"]"),v(p)&&(he=" "+RegExp.prototype.toString.call(p)),X(p)&&(he=" "+Date.prototype.toUTCString.call(p)),ne(p)&&(he=" "+H(p)),ue.length!==0||ve&&p.length!=0?P<0?v(p)?d.stylize(RegExp.prototype.toString.call(p),"regexp"):d.stylize("[Object]","special"):(d.seen.push(p),me=ve?function(pe,ie,Ce,Ne,Ge){for(var qe=[],Je=0,ft=ie.length;Je<ft;++Je)Z(ie,String(Je))?qe.push(z(pe,ie,Ce,Ne,String(Je),!0)):qe.push("");return Ge.forEach(function(rt){rt.match(/^\d+$/)||qe.push(z(pe,ie,Ce,Ne,rt,!0))}),qe}(d,p,P,re,ue):ue.map(function(pe){return z(d,p,P,re,pe,ve)}),d.seen.pop(),function(pe,ie,Ce){return pe.reduce(function(Ne,Ge){return Ge.indexOf(`
`),Ne+Ge.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Ce[0]+(ie===""?"":ie+`
 `)+" "+pe.join(`,
  `)+" "+Ce[1]:Ce[0]+ie+" "+pe.join(", ")+" "+Ce[1]}(me,he,be)):be[0]+he+be[1]}function H(d){return"["+Error.prototype.toString.call(d)+"]"}function z(d,p,P,Q,ae,ue){var re,fe,me;if((me=Object.getOwnPropertyDescriptor(p,ae)||{value:p[ae]}).get?fe=me.set?d.stylize("[Getter/Setter]","special"):d.stylize("[Getter]","special"):me.set&&(fe=d.stylize("[Setter]","special")),Z(Q,ae)||(re="["+ae+"]"),fe||(d.seen.indexOf(me.value)<0?(fe=U(P)?O(d,me.value,null):O(d,me.value,P-1)).indexOf(`
`)>-1&&(fe=ue?fe.split(`
`).map(function(he){return"  "+he}).join(`
`).substr(2):`
`+fe.split(`
`).map(function(he){return"   "+he}).join(`
`)):fe=d.stylize("[Circular]","special")),h(re)){if(ue&&ae.match(/^\d+$/))return fe;(re=JSON.stringify(""+ae)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(re=re.substr(1,re.length-2),re=d.stylize(re,"name")):(re=re.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),re=d.stylize(re,"string"))}return re+": "+fe}function N(d){return Array.isArray(d)}function ee(d){return typeof d=="boolean"}function U(d){return d===null}function j(d){return typeof d=="number"}function l(d){return typeof d=="string"}function h(d){return d===void 0}function v(d){return S(d)&&F(d)==="[object RegExp]"}function S(d){return typeof d=="object"&&d!==null}function X(d){return S(d)&&F(d)==="[object Date]"}function ne(d){return S(d)&&(F(d)==="[object Error]"||d instanceof Error)}function q(d){return typeof d=="function"}function F(d){return Object.prototype.toString.call(d)}function D(d){return d<10?"0"+d.toString(10):d.toString(10)}f.debuglog=function(d){if(h(T)&&(T=x.env.NODE_DEBUG||""),d=d.toUpperCase(),!G[d])if(new RegExp("\\b"+d+"\\b","i").test(T)){var p=x.pid;G[d]=function(){var P=f.format.apply(f,arguments);console.error("%s %d: %s",d,p,P)}}else G[d]=function(){};return G[d]},f.inspect=b,b.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},b.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},f.isArray=N,f.isBoolean=ee,f.isNull=U,f.isNullOrUndefined=function(d){return d==null},f.isNumber=j,f.isString=l,f.isSymbol=function(d){return typeof d=="symbol"},f.isUndefined=h,f.isRegExp=v,f.isObject=S,f.isDate=X,f.isError=ne,f.isFunction=q,f.isPrimitive=function(d){return d===null||typeof d=="boolean"||typeof d=="number"||typeof d=="string"||typeof d=="symbol"||d===void 0},f.isBuffer=_(384);var W=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var d=new Date,p=[D(d.getHours()),D(d.getMinutes()),D(d.getSeconds())].join(":");return[d.getDate(),W[d.getMonth()],p].join(" ")}function Z(d,p){return Object.prototype.hasOwnProperty.call(d,p)}f.log=function(){console.log("%s - %s",E(),f.format.apply(f,arguments))},f.inherits=_(717),f._extend=function(d,p){if(!p||!S(p))return d;for(var P=Object.keys(p),Q=P.length;Q--;)d[P[Q]]=p[P[Q]];return d}}},i={};function c(C){var f=i[C];if(f!==void 0)return f.exports;var _=i[C]={exports:{}};return n[C].call(_.exports,_,_.exports,c),_.exports}c.n=C=>{var f=C&&C.__esModule?()=>C.default:()=>C;return c.d(f,{a:f}),f},c.d=(C,f)=>{for(var _ in f)c.o(f,_)&&!c.o(C,_)&&Object.defineProperty(C,_,{enumerable:!0,get:f[_]})},c.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),c.o=(C,f)=>Object.prototype.hasOwnProperty.call(C,f),c.r=C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})};var m={};return(()=>{c.r(m),c.d(m,{LSPluginUser:()=>$,setupPluginUserInstance:()=>le});var C=c(520);c(856);const f=function(t,e){return t===e||t!=t&&e!=e},_=function(t,e){for(var o=t.length;o--;)if(f(t[o][0],e))return o;return-1};var x=Array.prototype.splice;function k(t){var e=-1,o=t==null?0:t.length;for(this.clear();++e<o;){var u=t[e];this.set(u[0],u[1])}}k.prototype.clear=function(){this.__data__=[],this.size=0},k.prototype.delete=function(t){var e=this.__data__,o=_(e,t);return!(o<0||(o==e.length-1?e.pop():x.call(e,o,1),--this.size,0))},k.prototype.get=function(t){var e=this.__data__,o=_(e,t);return o<0?void 0:e[o][1]},k.prototype.has=function(t){return _(this.__data__,t)>-1},k.prototype.set=function(t,e){var o=this.__data__,u=_(o,t);return u<0?(++this.size,o.push([t,e])):o[u][1]=e,this};const T=k,G=typeof Tt=="object"&&Tt&&Tt.Object===Object&&Tt;var b=typeof self=="object"&&self&&self.Object===Object&&self;const g=G||b||Function("return this")(),M=g.Symbol;var O=Object.prototype,H=O.hasOwnProperty,z=O.toString,N=M?M.toStringTag:void 0,ee=Object.prototype.toString,U=M?M.toStringTag:void 0;const j=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":U&&U in Object(t)?function(e){var o=H.call(e,N),u=e[N];try{e[N]=void 0;var y=!0}catch{}var w=z.call(e);return y&&(o?e[N]=u:delete e[N]),w}(t):function(e){return ee.call(e)}(t)},l=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},h=function(t){if(!l(t))return!1;var e=j(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},v=g["__core-js_shared__"];var S,X=(S=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",ne=Function.prototype.toString,q=/^\[object .+?Constructor\]$/,F=Function.prototype,D=Object.prototype,W=F.toString,E=D.hasOwnProperty,Z=RegExp("^"+W.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const d=function(t){return!(!l(t)||(e=t,X&&X in e))&&(h(t)?Z:q).test(function(o){if(o!=null){try{return ne.call(o)}catch{}try{return o+""}catch{}}return""}(t));var e},p=function(t,e){var o=function(u,y){return u?.[y]}(t,e);return d(o)?o:void 0},P=p(g,"Map"),Q=p(Object,"create");var ae=Object.prototype.hasOwnProperty,ue=Object.prototype.hasOwnProperty;function re(t){var e=-1,o=t==null?0:t.length;for(this.clear();++e<o;){var u=t[e];this.set(u[0],u[1])}}re.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},re.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},re.prototype.get=function(t){var e=this.__data__;if(Q){var o=e[t];return o==="__lodash_hash_undefined__"?void 0:o}return ae.call(e,t)?e[t]:void 0},re.prototype.has=function(t){var e=this.__data__;return Q?e[t]!==void 0:ue.call(e,t)},re.prototype.set=function(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=Q&&e===void 0?"__lodash_hash_undefined__":e,this};const fe=re,me=function(t,e){var o,u,y=t.__data__;return((u=typeof(o=e))=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null)?y[typeof e=="string"?"string":"hash"]:y.map};function he(t){var e=-1,o=t==null?0:t.length;for(this.clear();++e<o;){var u=t[e];this.set(u[0],u[1])}}he.prototype.clear=function(){this.size=0,this.__data__={hash:new fe,map:new(P||T),string:new fe}},he.prototype.delete=function(t){var e=me(this,t).delete(t);return this.size-=e?1:0,e},he.prototype.get=function(t){return me(this,t).get(t)},he.prototype.has=function(t){return me(this,t).has(t)},he.prototype.set=function(t,e){var o=me(this,t),u=o.size;return o.set(t,e),this.size+=o.size==u?0:1,this};const ve=he;function be(t){var e=this.__data__=new T(t);this.size=e.size}be.prototype.clear=function(){this.__data__=new T,this.size=0},be.prototype.delete=function(t){var e=this.__data__,o=e.delete(t);return this.size=e.size,o},be.prototype.get=function(t){return this.__data__.get(t)},be.prototype.has=function(t){return this.__data__.has(t)},be.prototype.set=function(t,e){var o=this.__data__;if(o instanceof T){var u=o.__data__;if(!P||u.length<199)return u.push([t,e]),this.size=++o.size,this;o=this.__data__=new ve(u)}return o.set(t,e),this.size=o.size,this};const pe=be,ie=function(){try{var t=p(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ce=function(t,e,o){e=="__proto__"&&ie?ie(t,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[e]=o},Ne=function(t,e,o){(o!==void 0&&!f(t[e],o)||o===void 0&&!(e in t))&&Ce(t,e,o)},Ge=function(t,e,o){for(var u=-1,y=Object(t),w=o(t),A=w.length;A--;){var J=w[++u];if(e(y[J],J,y)===!1)break}return t};var qe=r&&!r.nodeType&&r,Je=qe&&!0&&a&&!a.nodeType&&a,ft=Je&&Je.exports===qe?g.Buffer:void 0,rt=ft?ft.allocUnsafe:void 0;const Qt=g.Uint8Array,Tr=function(t,e){var o,u,y=e?(o=t.buffer,u=new o.constructor(o.byteLength),new Qt(u).set(new Qt(o)),u):t.buffer;return new t.constructor(y,t.byteOffset,t.length)};var Xt=Object.create;const kr=function(){function t(){}return function(e){if(!l(e))return{};if(Xt)return Xt(e);t.prototype=e;var o=new t;return t.prototype=void 0,o}}(),K=(I=Object.getPrototypeOf,Y=Object,function(t){return I(Y(t))});var I,Y,se=Object.prototype;const ge=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||se)},xe=function(t){return t!=null&&typeof t=="object"},Ve=function(t){return xe(t)&&j(t)=="[object Arguments]"};var ze=Object.prototype,Zt=ze.hasOwnProperty,kt=ze.propertyIsEnumerable;const ht=Ve(function(){return arguments}())?Ve:function(t){return xe(t)&&Zt.call(t,"callee")&&!kt.call(t,"callee")},xt=Array.isArray,Kt=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},Ot=function(t){return t!=null&&Kt(t.length)&&!h(t)};var er=r&&!r.nodeType&&r,nt=er&&!0&&a&&!a.nodeType&&a,tr=nt&&nt.exports===er?g.Buffer:void 0;const rr=(tr?tr.isBuffer:void 0)||function(){return!1};var xr=Function.prototype,Mt=Object.prototype,pt=xr.toString,Pe=Mt.hasOwnProperty,nr=pt.call(Object),ce={};ce["[object Float32Array]"]=ce["[object Float64Array]"]=ce["[object Int8Array]"]=ce["[object Int16Array]"]=ce["[object Int32Array]"]=ce["[object Uint8Array]"]=ce["[object Uint8ClampedArray]"]=ce["[object Uint16Array]"]=ce["[object Uint32Array]"]=!0,ce["[object Arguments]"]=ce["[object Array]"]=ce["[object ArrayBuffer]"]=ce["[object Boolean]"]=ce["[object DataView]"]=ce["[object Date]"]=ce["[object Error]"]=ce["[object Function]"]=ce["[object Map]"]=ce["[object Number]"]=ce["[object Object]"]=ce["[object RegExp]"]=ce["[object Set]"]=ce["[object String]"]=ce["[object WeakMap]"]=!1;var mt=r&&!r.nodeType&&r,at=mt&&!0&&a&&!a.nodeType&&a,Dt=at&&at.exports===mt&&G.process,ar=function(){try{return at&&at.require&&at.require("util").types||Dt&&Dt.binding&&Dt.binding("util")}catch{}}(),or=ar&&ar.isTypedArray;const Et=or?function(t){return function(e){return t(e)}}(or):function(t){return xe(t)&&Kt(t.length)&&!!ce[j(t)]},Oe=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]};var ot=Object.prototype.hasOwnProperty;const He=function(t,e,o){var u=t[e];ot.call(t,e)&&f(u,o)&&(o!==void 0||e in t)||Ce(t,e,o)};var At=/^(?:0|[1-9]\d*)$/;const gt=function(t,e){var o=typeof t;return!!(e=e??9007199254740991)&&(o=="number"||o!="symbol"&&At.test(t))&&t>-1&&t%1==0&&t<e};var Or=Object.prototype.hasOwnProperty;const Mr=function(t,e){var o=xt(t),u=!o&&ht(t),y=!o&&!u&&rr(t),w=!o&&!u&&!y&&Et(t),A=o||u||y||w,J=A?function(te,V){for(var oe=-1,_e=Array(te);++oe<te;)_e[oe]=V(oe);return _e}(t.length,String):[],B=J.length;for(var L in t)!e&&!Or.call(t,L)||A&&(L=="length"||y&&(L=="offset"||L=="parent")||w&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||gt(L,B))||J.push(L);return J};var Dr=Object.prototype.hasOwnProperty;const ir=function(t){if(!l(t))return function(y){var w=[];if(y!=null)for(var A in Object(y))w.push(A);return w}(t);var e=ge(t),o=[];for(var u in t)(u!="constructor"||!e&&Dr.call(t,u))&&o.push(u);return o},yt=function(t){return Ot(t)?Mr(t,!0):ir(t)},Se=function(t){return function(e,o,u,y){var w=!u;u||(u={});for(var A=-1,J=o.length;++A<J;){var B=o[A],L=y?y(u[B],e[B],B,u,e):void 0;L===void 0&&(L=e[B]),w?Ce(u,B,L):He(u,B,L)}return u}(t,yt(t))},sr=function(t,e,o,u,y,w,A){var J,B=Oe(t,o),L=Oe(e,o),te=A.get(L);if(te)Ne(t,o,te);else{var V=w?w(B,L,o+"",t,e,A):void 0,oe=V===void 0;if(oe){var _e=xt(L),Re=!_e&&rr(L),Be=!_e&&!Re&&Et(L);V=L,_e||Re||Be?xt(B)?V=B:xe(J=B)&&Ot(J)?V=function(ye,Ee){var De=-1,Bt=ye.length;for(Ee||(Ee=Array(Bt));++De<Bt;)Ee[De]=ye[De];return Ee}(B):Re?(oe=!1,V=function(ye,Ee){if(Ee)return ye.slice();var De=ye.length,Bt=rt?rt(De):new ye.constructor(De);return ye.copy(Bt),Bt}(L,!0)):Be?(oe=!1,V=Tr(L,!0)):V=[]:function(ye){if(!xe(ye)||j(ye)!="[object Object]")return!1;var Ee=K(ye);if(Ee===null)return!0;var De=Pe.call(Ee,"constructor")&&Ee.constructor;return typeof De=="function"&&De instanceof De&&pt.call(De)==nr}(L)||ht(L)?(V=B,ht(B)?V=Se(B):l(B)&&!h(B)||(V=function(ye){return typeof ye.constructor!="function"||ge(ye)?{}:kr(K(ye))}(L))):oe=!1}oe&&(A.set(L,V),y(V,L,u,w,A),A.delete(L)),Ne(t,o,V)}},Te=function t(e,o,u,y,w){e!==o&&Ge(o,function(A,J){if(w||(w=new pe),l(A))sr(e,o,J,u,t,y,w);else{var B=y?y(Oe(e,J),A,J+"",e,o,w):void 0;B===void 0&&(B=A),Ne(e,J,B)}},yt)},Ft=function(t){return t},we=function(t,e,o){switch(o.length){case 0:return t.call(e);case 1:return t.call(e,o[0]);case 2:return t.call(e,o[0],o[1]);case 3:return t.call(e,o[0],o[1],o[2])}return t.apply(e,o)};var Qe=Math.max;const Nt=ie?function(t,e){return ie(t,"toString",{configurable:!0,enumerable:!1,value:(o=e,function(){return o}),writable:!0});var o}:Ft;var ur=Date.now;const jt=function(t){var e=0,o=0;return function(){var u=ur(),y=16-(u-o);if(o=u,y>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Nt),cr=(Le=function(t,e,o){Te(t,e,o)},function(t,e){return jt(function(o,u,y){return u=Qe(u===void 0?o.length-1:u,0),function(){for(var w=arguments,A=-1,J=Qe(w.length-u,0),B=Array(J);++A<J;)B[A]=w[u+A];A=-1;for(var L=Array(u+1);++A<u;)L[A]=w[A];return L[u]=y(B),we(o,this,L)}}(t,e,Ft),t+"")}(function(t,e){var o=-1,u=e.length,y=u>1?e[u-1]:void 0,w=u>2?e[2]:void 0;for(y=Le.length>3&&typeof y=="function"?(u--,y):void 0,w&&function(J,B,L){if(!l(L))return!1;var te=typeof B;return!!(te=="number"?Ot(L)&&gt(B,L.length):te=="string"&&B in L)&&f(L[B],J)}(e[0],e[1],w)&&(y=u<3?void 0:y,u=1),t=Object(t);++o<u;){var A=e[o];A&&Le(t,A,o)}return t}));var Le,je=function(){return(je=Object.assign||function(t){for(var e,o=1,u=arguments.length;o<u;o++)for(var y in e=arguments[o])Object.prototype.hasOwnProperty.call(e,y)&&(t[y]=e[y]);return t}).apply(this,arguments)};function $t(t){return t.toLowerCase()}var Pt=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Xe=/[^A-Z0-9]+/gi;function it(t,e,o){return e instanceof RegExp?t.replace(e,o):e.reduce(function(u,y){return u.replace(y,o)},t)}const st=navigator.platform.toLowerCase()==="win32"?C.win32:C.posix,ut=function(t,e){return e===void 0&&(e={}),function(o,u){return u===void 0&&(u={}),function(y,w){w===void 0&&(w={});for(var A=w.splitRegexp,J=A===void 0?Pt:A,B=w.stripRegexp,L=B===void 0?Xe:B,te=w.transform,V=te===void 0?$t:te,oe=w.delimiter,_e=oe===void 0?" ":oe,Re=it(it(y,J,"$1\0$2"),L,"\0"),Be=0,ye=Re.length;Re.charAt(Be)==="\0";)Be++;for(;Re.charAt(ye-1)==="\0";)ye--;return Re.slice(Be,ye).split("\0").map(V).join(_e)}(o,je({delimiter:"."},u))}(t,je({delimiter:"_"},e))},Lt=cr;function Ye(t,e){let o,u,y=!1;const w=J=>B=>{t&&clearTimeout(t),J(B),y=!0},A=new Promise((J,B)=>{o=w(J),u=w(B),t&&(t=setTimeout(()=>u(new Error(`[deferred timeout] ${e}`)),t))});return{created:Date.now(),setTag:J=>e=J,resolve:o,reject:u,promise:A,get settled(){return y}}}const Ze=new Map;window.__injectedUIEffects=Ze;var Ke=c(227),It=c.n(Ke);const Ie="application/x-postmate-v1+json";let lr=0;const Ut={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},vt=(t,e)=>!(typeof e=="string"&&t.origin!==e||!t.data||typeof t.data=="object"&&!("postmate"in t.data)||t.data.type!==Ie||!Ut[t.data.postmate]);class Rt{parent;frame;child;events={};childOrigin;listener;constructor(e){this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.listener=o=>{if(!vt(o,this.childOrigin))return!1;const{data:u,name:y}=((o||{}).data||{}).value||{};o.data.postmate==="emit"&&y in this.events&&this.events[y].forEach(w=>{w.call(this,u)})},this.parent.addEventListener("message",this.listener,!1)}get(e){return new Promise(o=>{const u=++lr,y=w=>{w.data.uid===u&&w.data.postmate==="reply"&&(this.parent.removeEventListener("message",y,!1),o(w.data.value))};this.parent.addEventListener("message",y,!1),this.child.postMessage({postmate:"request",type:Ie,property:e,uid:u},this.childOrigin)})}call(e,o){this.child.postMessage({postmate:"call",type:Ie,property:e,data:o},this.childOrigin)}on(e,o){this.events[e]||(this.events[e]=[]),this.events[e].push(o)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class Wt{model;parent;parentOrigin;child;constructor(e){this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",o=>{if(!vt(o,this.parentOrigin))return;const{property:u,uid:y,data:w}=o.data;o.data.postmate!=="call"?((A,J)=>{const B=typeof A[J]=="function"?A[J]():A[J];return Promise.resolve(B)})(this.model,u).then(A=>{o.source.postMessage({property:u,postmate:"reply",type:Ie,uid:y,value:A},o.origin)}):u in this.model&&typeof this.model[u]=="function"&&this.model[u](w)})}emit(e,o){this.parent.postMessage({postmate:"emit",type:Ie,value:{name:e,data:o}},this.parentOrigin)}}class Ue{static debug=!1;container;parent;frame;child;childOrigin;url;model;static Model;constructor(e){this.container=e.container,this.url=e.url,this.parent=window,this.frame=document.createElement("iframe"),e.id&&(this.frame.id=e.id),e.name&&(this.frame.name=e.name),this.frame.classList.add.apply(this.frame.classList,e.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=e.model||{}}sendHandshake(e){const o=(w=>{const A=document.createElement("a");A.href=w;const J=A.protocol.length>4?A.protocol:window.location.protocol,B=A.host.length?A.port==="80"||A.port==="443"?A.hostname:A.host:window.location.host;return A.origin||`${J}//${B}`})(e=e||this.url);let u,y=0;return new Promise((w,A)=>{const J=L=>!!vt(L,o)&&(L.data.postmate==="handshake-reply"?(clearInterval(u),this.parent.removeEventListener("message",J,!1),this.childOrigin=L.origin,w(new Rt(this))):A("Failed handshake"));this.parent.addEventListener("message",J,!1);const B=()=>{y++,this.child.postMessage({postmate:"handshake",type:Ie,model:this.model},o),y===5&&clearInterval(u)};this.frame.addEventListener("load",()=>{B(),u=setInterval(B,500)}),this.frame.src=e})}}class bt{child;model;parent;parentOrigin;constructor(e){this.child=window,this.model=e,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((e,o)=>{const u=y=>{if(y.data.postmate){if(y.data.postmate==="handshake"){this.child.removeEventListener("message",u,!1),y.source.postMessage({postmate:"handshake-reply",type:Ie},y.origin),this.parentOrigin=y.origin;const w=y.data.model;return w&&Object.keys(w).forEach(A=>{this.model[A]=w[A]}),e(new Wt(this))}return o("Handshake Reply Failed")}};this.child.addEventListener("message",u,!1)})}}var qt=c(729),Jt=c.n(qt);const{importHTML:Er,createSandboxContainer:et}=window.QSandbox||{};function Ar(t,e){return t.startsWith("http")?fetch(t,e):(t=t.replace("file://",""),new Promise(async(o,u)=>{try{const y=await window.apis.doAction(["readFile",t]);o({text:()=>y})}catch(y){console.error(y),u(y)}}))}class dr extends Jt(){_pluginLocal;_frame;_root;_loaded=!1;_unmountFns=[];constructor(e){super(),this._pluginLocal=e,e._dispose(()=>{this._unmount()})}async load(){const{name:e,entry:o}=this._pluginLocal.options;if(this.loaded||!o)return;const{template:u,execScripts:y}=await Er(o,{fetch:Ar});this._mount(u,document.body);const w=et(e,{elementGetter:()=>this._root?.firstChild}).instance.proxy;w.__shadow_mode__=!0,w.LSPluginLocal=this._pluginLocal,w.LSPluginShadow=this,w.LSPluginUser=w.logseq=new $(this._pluginLocal.toJSON(),this._pluginLocal.caller);const A=await y(w,!0);this._unmountFns.push(A.unmount),this._loaded=!0}_mount(e,o){const u=this._frame=document.createElement("div");u.classList.add("lsp-shadow-sandbox"),u.id=this._pluginLocal.id,this._root=u.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,o.appendChild(u),this.emit("mounted")}_unmount(){for(const e of this._unmountFns)e&&e.call(null)}destroy(){this.frame?.parentNode?.removeChild(this.frame)}get loaded(){return this._loaded}get document(){return this._root?.firstChild}get frame(){return this._frame}}const Ae=It()("LSPlugin:caller"),ct="#await#response#",zt="#lspmsg#error#",wt=t=>`#lspmsg#${t}`;class _t extends Jt(){_pluginLocal;_connected=!1;_parent;_child;_shadow;_status;_userModel={};_call;_callUserModel;_debugTag="";constructor(e){super(),this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){if(this._connected)return;const o=this,u=this._pluginLocal!=null;let y=0;const w=new Map,A=Ye(5e3),J=this._extendUserModel({"#lspmsg#ready#":async L=>{J[wt(L?.pid)]=({type:te,payload:V})=>{Ae(`[host (_call) -> *user] ${this._debugTag}`,te,V),o.emit(te,V)},await A.resolve()},"#lspmsg#beforeunload#":async L=>{const te=Ye(1e4);o.emit("beforeunload",Object.assign({actor:te},L)),await te.promise},"#lspmsg#settings#":async({type:L,payload:te})=>{o.emit("settings:changed",te)},"#lspmsg#":async({ns:L,type:te,payload:V})=>{Ae(`[host (async) -> *user] ${this._debugTag} ns=${L} type=${te}`,V),L&&L.startsWith("hook")?o.emit(`${L}:${te}`,V):o.emit(te,V)},"#lspmsg#reply#":({_sync:L,result:te})=>{if(Ae(`[sync host -> *user] #${L}`,te),w.has(L)){const V=w.get(L);V&&(te?.hasOwnProperty(zt)?V.reject(te[zt]):V.resolve(te),w.delete(L))}},...e});if(u)return await A.promise,JSON.parse(JSON.stringify(this._pluginLocal?.toJSON()));const B=new bt(J).sendHandshakeReply();return this._status="pending",await B.then(L=>{this._child=L,this._connected=!0,this._call=async(te,V={},oe)=>{if(oe){const _e=++y;w.set(_e,oe),V._sync=_e,oe.setTag(`async call #${_e}`),Ae(`async call #${_e}`)}return L.emit(wt(J.baseInfo.id),{type:te,payload:V}),oe?.promise},this._callUserModel=async(te,V)=>{try{J[te](V)}catch{Ae(`[model method] #${te} not existed`)}},setInterval(()=>{if(w.size>100)for(const[te,V]of w)V.settled&&w.delete(te)},18e5)}).finally(()=>{this._status=void 0}),await A.promise,J.baseInfo}async call(e,o={}){return this._call?.call(this,e,o)}async callAsync(e,o={}){const u=Ye(1e4);return this._call?.call(this,e,o,u)}async callUserModel(e,o={}){return this._callUserModel?.call(this,e,o)}async _setupIframeSandbox(){const e=this._pluginLocal,o=e.id,u=`${o}_lsp_main`,y=new URL(e.options.entry);y.searchParams.set("__v__",e.options.version);const w=document.querySelector(`#${u}`);w&&w.parentElement.removeChild(w);const A=document.createElement("div");A.classList.add("lsp-iframe-sandbox-container"),A.id=u,A.dataset.pid=o;try{const L=(await this._pluginLocal._loadLayoutsData())?.$$0;if(L){A.dataset.inited_layout="true";const{width:te,height:V,left:oe,top:_e}=L;Object.assign(A.style,{width:te+"px",height:V+"px",left:oe+"px",top:_e+"px"})}}catch(L){console.error("[Restore Layout Error]",L)}document.body.appendChild(A);let J,B=new Ue({id:o+"_iframe",container:A,url:y.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}}).sendHandshake();return this._status="pending",new Promise((L,te)=>{J=setTimeout(()=>{te(new Error("handshake Timeout"))},8e3),B.then(V=>{this._parent=V,this._connected=!0,this.emit("connected"),V.on(wt(e.id),({type:oe,payload:_e})=>{Ae("[user -> *host] ",oe,_e),this._pluginLocal?.emit(oe,_e||{})}),this._call=async(...oe)=>{await V.call(wt(e.id),{type:oe[0],payload:Object.assign(oe[1]||{},{$$pid:e.id})})},this._callUserModel=async(oe,_e)=>{if(oe.startsWith(ct))return await V.get(oe.replace(ct,""));V.call(oe,_e)},L(null)}).catch(V=>{te(V)}).finally(()=>{clearTimeout(J)})}).catch(L=>{throw Ae("[iframe sandbox] error",L),L}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const e=this._pluginLocal,o=this._shadow=new dr(e);try{this._status="pending",await o.load(),this._connected=!0,this.emit("connected"),this._call=async(u,y={},w)=>(w&&(y.actor=w),this._pluginLocal?.emit(u,Object.assign(y,{$$pid:e.id})),w?.promise),this._callUserModel=async(...u)=>{let y=u[0];y?.startsWith(ct)&&(y=y.replace(ct,""));const w=u[1]||{},A=this._userModel[y];typeof A=="function"&&await A.call(null,w)}}catch(u){throw Ae("[shadow sandbox] error",u),u}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){return this._parent?.frame.parentNode}_getSandboxShadowContainer(){return this._shadow?.frame.parentNode}_getSandboxIframeRoot(){return this._parent?.frame}_getSandboxShadowRoot(){return this._shadow?.frame}set debugTag(e){this._debugTag=e}async destroy(){let e=null;this._parent&&(e=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(e=this._getSandboxShadowContainer(),this._shadow.destroy()),e?.parentNode.removeChild(e)}}class Ht{ctx;constructor(e){this.ctx=e}get ctxId(){return this.ctx.baseInfo.id}setItem(e,o){return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,e,o]})}getItem(e){return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,e]})}removeItem(e){return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,e]})}clear(){return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId]})}hasItem(e){return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,e]})}}class Fr{ctx;constructor(e){this.ctx=e}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(e,...o){const u=this.ensureHostScope();return e=ut(e)?.toLowerCase(),u.logseq.api["exper_"+e]?.apply(u,o)}async loadScripts(...e){(e=e.map(o=>o?.startsWith("http")?o:this.ctx.resolveResourceFullUrl(o))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...e)}registerFencedCodeRenderer(e,o){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,e,o)}registerExtensionsEnhancer(e,o){const u=this.ensureHostScope();switch(e){case"katex":u.katex&&o(u.katex).catch(console.error)}return u.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,e,o)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}const Fe=t=>`task_callback_${t}`;class fr{_client;_requestId;_requestOptions;_promise;_aborted=!1;constructor(e,o,u={}){this._client=e,this._requestId=o,this._requestOptions=u,this._promise=new Promise((J,B)=>{if(!this._requestId)return B(null);this._client.once(Fe(this._requestId),L=>{L&&L instanceof Error?B(L):J(L)})});const{success:y,fail:w,final:A}=this._requestOptions;this._promise.then(J=>{y?.(J)}).catch(J=>{w?.(J)}).finally(()=>{A?.()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class Ct extends qt.EventEmitter{_ctx;constructor(e){super(),this._ctx=e,this.ctx.caller.on("#lsp#request#callback",o=>{const u=o?.requestId;u&&this.emit(Fe(u),o?.payload)})}static createRequestTask(e,o,u){return new fr(e,o,u)}async _request(e){const o=this.ctx.baseInfo.id,{success:u,fail:y,final:w,...A}=e,J=this.ctx.Experiments.invokeExperMethod("request",o,A),B=Ct.createRequestTask(this.ctx.Request,J,e);return A.abortable?B:B.promise}get ctx(){return this._ctx}}const hr=Symbol.for("proxy-continue"),Nr=It()("LSPlugin:user");function $e(t,e,o){if(typeof o!="function")return!1;const{key:u,label:y,desc:w,palette:A,keybinding:J}=e,B=`SimpleCommandHook${u}${++Yt}`;this.Editor["on"+B](o),this.caller?.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:u,label:y,type:t,desc:w,keybinding:J},["editor/hook",B]],A]})}let Me=null;const pr={async getInfo(t){return Me||(Me=await this._execCallableAPIAsync("get-app-info")),typeof t=="string"?Me[t]:Me},registerCommand:$e,registerCommandPalette(t,e){const{key:o,label:u,keybinding:y}=t;return $e.call(this,"$palette$",{key:o,label:u,palette:!0,keybinding:y},e)},registerCommandShortcut(t,e){const{binding:o}=t,u="$shortcut$",y=u+ut(o);return $e.call(this,u,{key:y,palette:!1,keybinding:t},e)},registerUIItem(t,e){const o=this.baseInfo.id;this.caller?.call("api:call",{method:"register-plugin-ui-item",args:[o,t,e]})},registerPageMenuItem(t,e){if(typeof e!="function")return!1;const o=t+"_"+this.baseInfo.id,u=t;$e.call(this,"page-menu-item",{key:o,label:u},e)},setFullScreen(t){const e=(...o)=>this._callWin("setFullScreen",...o);t==="toggle"?this._callWin("isFullScreen").then(o=>{o?e():e(!0)}):t?e(!0):e()}};let Yt=0;const mr={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(t,e){Nr("Register slash command #",this.baseInfo.id,t,e),typeof e=="function"&&(e=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",e]]),e=e.map(o=>{const[u,...y]=o;switch(u){case"editor/hook":let w=y[0],A=()=>{this.caller?.callUserModel(w)};typeof w=="function"&&(A=w);const J=`SlashCommandHook${u}${++Yt}`;o[1]=J,this.Editor["on"+J](A)}return o}),this.caller?.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[t,e]]})},registerBlockContextMenuItem(t,e){if(typeof e!="function")return!1;const o=t+"_"+this.baseInfo.id,u=t;$e.call(this,"block-context-menu-item",{key:o,label:u},e)},scrollToBlockInPage(t,e,o){const u="block-content-"+e;o?.replaceState?this.App.replaceState("page",{name:t},{anchor:u}):this.App.pushState("page",{name:t},{anchor:u})}},gr={onBlockChanged(t,e){const o=this.baseInfo.id,u=`hook:db:${ut(`block:${t}`)}`,y=({block:w,txData:A,txMeta:J})=>{w.uuid===t&&e(w,A,J)};return this.caller.on(u,y),this.App._installPluginHook(o,u),()=>{this.caller.off(u,y),this.App._uninstallPluginHook(o,u)}}},jr={},s={},R={};class $ extends Jt(){_baseInfo;_caller;_version="0.0.8";_debugTag="";_settingsSchema;_connected=!1;_ui=new Map;_mFileStorage;_mRequest;_mExperiments;_beforeunloadCallback;constructor(e,o){super(),this._baseInfo=e,this._caller=o,o.on("sys:ui:visible",u=>{u?.toggle&&this.toggleMainUI()}),o.on("settings:changed",u=>{const y=Object.assign({},this.settings),w=Object.assign(this._baseInfo.settings,u);this.emit("settings:changed",{...w},y)}),o.on("beforeunload",async u=>{const{actor:y,...w}=u,A=this._beforeunloadCallback;try{A&&await A(w),y?.resolve(null)}catch(J){console.debug(`${o.debugTag} [beforeunload] `,J),y?.reject(J)}})}async ready(e,o){if(!this._connected)try{typeof e=="function"&&(o=e,e={});let u=await this._caller.connectToParent(e);this._connected=!0,u=Lt(this._baseInfo,u),this._settingsSchema&&(u.settings=function(y,w){const A=(w||[]).reduce((J,B)=>("default"in B&&(J[B.key]=B.default),J),{});return Object.assign(A,y)}(u.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema)),u?.id&&(this._debugTag=this._caller.debugTag=`#${u.id} [${u.name}]`);try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(y){console.warn(y)}o&&o.call(this,u)}catch(u){console.error(`${this._debugTag} [Ready Error]`,u)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(e){typeof e=="function"&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){const o="settings:changed";return this.on(o,e),()=>this.off(o,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){const o={key:0,visible:!1,cursor:e?.restoreEditingCursor};this.caller.call("main-ui:visible",o),this.emit("ui:visible:changed",o),this._ui.set(o.key,o)}showMainUI(e){const o={key:0,visible:!0,autoFocus:e?.autoFocus};this.caller.call("main-ui:visible",o),this.emit("ui:visible:changed",o),this._ui.set(o.key,o)}toggleMainUI(){const e=this._ui.get(0);e&&e.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const e=this._ui.get(0);return Boolean(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get settings(){return this.baseInfo?.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),function(o,...u){try{const y=new URL(o);if(!y.origin)throw new Error(null);const w=st.join(o.substr(y.origin.length),...u);return y.origin+w}catch{return st.join(o,...u)}}(this._baseInfo.lsr,e)}_makeUserProxy(e,o){const u=this,y=this.caller;return new Proxy(e,{get(w,A,J){const B=w[A];return function(...L){if(B){const V=B.apply(u,L.concat(o));if(V!==hr)return V}if(o){const V=A.toString().match(/^(once|off|on)/i);if(V!=null){const oe=V[0].toLowerCase(),_e=V.input.slice(oe.length),Re=oe==="off",Be=u.baseInfo.id,ye=`hook:${o}:${ut(_e)}`,Ee=L[0];y[oe](ye,Ee);const De=()=>{y.off(ye,Ee),y.listenerCount(ye)||u.App._uninstallPluginHook(Be,ye)};return Re?void De():(u.App._installPluginHook(Be,ye),De)}}let te=A;return["git","ui","assets"].includes(o)&&(te=o+"_"+te),y.callAsync("api:call",{tag:o,method:te,args:L})}}})}_execCallableAPIAsync(e,...o){return this._caller.callAsync("api:call",{method:e,args:o})}_execCallableAPI(e,...o){this._caller.call("api:call",{method:e,args:o})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(pr,"app")}get Editor(){return this._makeUserProxy(mr,"editor")}get DB(){return this._makeUserProxy(gr,"db")}get Git(){return this._makeUserProxy(jr,"git")}get UI(){return this._makeUserProxy(s,"ui")}get Assets(){return this._makeUserProxy(R,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new Ht(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new Ct(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new Fr(this)),e}}function le(t,e){return new $(t,e)}if(window.__LSP__HOST__==null){const t=new _t(null);window.logseq=le({},t)}})(),m})())})(Ir,Ir.exports);function dt(a){if(a===null||a===!0||a===!1)return NaN;var r=Number(a);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}function ke(a,r){if(r.length<a)throw new TypeError(a+" argument"+(a>1?"s":"")+" required, but only "+r.length+" present")}function We(a){ke(1,arguments);var r=Object.prototype.toString.call(a);return a instanceof Date||typeof a=="object"&&r==="[object Date]"?new Date(a.getTime()):typeof a=="number"||r==="[object Number]"?new Date(a):((typeof a=="string"||r==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Xr(a,r){ke(2,arguments);var n=We(a).getTime(),i=dt(r);return new Date(n+i)}var Zr={};function Cr(){return Zr}function Kr(a){var r=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return r.setUTCFullYear(a.getFullYear()),a.getTime()-r.getTime()}function en(a){return ke(1,arguments),a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function tn(a){if(ke(1,arguments),!en(a)&&typeof a!="number")return!1;var r=We(a);return!isNaN(Number(r))}function rn(a,r){ke(2,arguments);var n=dt(r);return Xr(a,-n)}var nn=864e5;function an(a){ke(1,arguments);var r=We(a),n=r.getTime();r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0);var i=r.getTime(),c=n-i;return Math.floor(c/nn)+1}function wr(a){ke(1,arguments);var r=1,n=We(a),i=n.getUTCDay(),c=(i<r?7:0)+i-r;return n.setUTCDate(n.getUTCDate()-c),n.setUTCHours(0,0,0,0),n}function zr(a){ke(1,arguments);var r=We(a),n=r.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(n+1,0,4),i.setUTCHours(0,0,0,0);var c=wr(i),m=new Date(0);m.setUTCFullYear(n,0,4),m.setUTCHours(0,0,0,0);var C=wr(m);return r.getTime()>=c.getTime()?n+1:r.getTime()>=C.getTime()?n:n-1}function on(a){ke(1,arguments);var r=zr(a),n=new Date(0);n.setUTCFullYear(r,0,4),n.setUTCHours(0,0,0,0);var i=wr(n);return i}var sn=6048e5;function un(a){ke(1,arguments);var r=We(a),n=wr(r).getTime()-on(r).getTime();return Math.round(n/sn)+1}function _r(a,r){var n,i,c,m,C,f,_,x;ke(1,arguments);var k=Cr(),T=dt((n=(i=(c=(m=r?.weekStartsOn)!==null&&m!==void 0?m:r==null||(C=r.locale)===null||C===void 0||(f=C.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&c!==void 0?c:k.weekStartsOn)!==null&&i!==void 0?i:(_=k.locale)===null||_===void 0||(x=_.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&n!==void 0?n:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var G=We(a),b=G.getUTCDay(),g=(b<T?7:0)+b-T;return G.setUTCDate(G.getUTCDate()-g),G.setUTCHours(0,0,0,0),G}function Hr(a,r){var n,i,c,m,C,f,_,x;ke(1,arguments);var k=We(a),T=k.getUTCFullYear(),G=Cr(),b=dt((n=(i=(c=(m=r?.firstWeekContainsDate)!==null&&m!==void 0?m:r==null||(C=r.locale)===null||C===void 0||(f=C.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&c!==void 0?c:G.firstWeekContainsDate)!==null&&i!==void 0?i:(_=G.locale)===null||_===void 0||(x=_.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(T+1,0,b),g.setUTCHours(0,0,0,0);var M=_r(g,r),O=new Date(0);O.setUTCFullYear(T,0,b),O.setUTCHours(0,0,0,0);var H=_r(O,r);return k.getTime()>=M.getTime()?T+1:k.getTime()>=H.getTime()?T:T-1}function cn(a,r){var n,i,c,m,C,f,_,x;ke(1,arguments);var k=Cr(),T=dt((n=(i=(c=(m=r?.firstWeekContainsDate)!==null&&m!==void 0?m:r==null||(C=r.locale)===null||C===void 0||(f=C.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&c!==void 0?c:k.firstWeekContainsDate)!==null&&i!==void 0?i:(_=k.locale)===null||_===void 0||(x=_.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&n!==void 0?n:1),G=Hr(a,r),b=new Date(0);b.setUTCFullYear(G,0,T),b.setUTCHours(0,0,0,0);var g=_r(b,r);return g}var ln=6048e5;function dn(a,r){ke(1,arguments);var n=We(a),i=_r(n,r).getTime()-cn(n,r).getTime();return Math.round(i/ln)+1}function de(a,r){for(var n=a<0?"-":"",i=Math.abs(a).toString();i.length<r;)i="0"+i;return n+i}var fn={y:function(a,r){var n=a.getUTCFullYear(),i=n>0?n:1-n;return de(r==="yy"?i%100:i,r.length)},M:function(a,r){var n=a.getUTCMonth();return r==="M"?String(n+1):de(n+1,2)},d:function(a,r){return de(a.getUTCDate(),r.length)},a:function(a,r){var n=a.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(a,r){return de(a.getUTCHours()%12||12,r.length)},H:function(a,r){return de(a.getUTCHours(),r.length)},m:function(a,r){return de(a.getUTCMinutes(),r.length)},s:function(a,r){return de(a.getUTCSeconds(),r.length)},S:function(a,r){var n=r.length,i=a.getUTCMilliseconds(),c=Math.floor(i*Math.pow(10,n-3));return de(c,r.length)}};const tt=fn;var St={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hn={G:function(a,r,n){var i=a.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(a,r,n){if(r==="yo"){var i=a.getUTCFullYear(),c=i>0?i:1-i;return n.ordinalNumber(c,{unit:"year"})}return tt.y(a,r)},Y:function(a,r,n,i){var c=Hr(a,i),m=c>0?c:1-c;if(r==="YY"){var C=m%100;return de(C,2)}return r==="Yo"?n.ordinalNumber(m,{unit:"year"}):de(m,r.length)},R:function(a,r){var n=zr(a);return de(n,r.length)},u:function(a,r){var n=a.getUTCFullYear();return de(n,r.length)},Q:function(a,r,n){var i=Math.ceil((a.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return de(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(a,r,n){var i=Math.ceil((a.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return de(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(a,r,n){var i=a.getUTCMonth();switch(r){case"M":case"MM":return tt.M(a,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(a,r,n){var i=a.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return de(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(a,r,n,i){var c=dn(a,i);return r==="wo"?n.ordinalNumber(c,{unit:"week"}):de(c,r.length)},I:function(a,r,n){var i=un(a);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):de(i,r.length)},d:function(a,r,n){return r==="do"?n.ordinalNumber(a.getUTCDate(),{unit:"date"}):tt.d(a,r)},D:function(a,r,n){var i=an(a);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):de(i,r.length)},E:function(a,r,n){var i=a.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(a,r,n,i){var c=a.getUTCDay(),m=(c-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(m);case"ee":return de(m,2);case"eo":return n.ordinalNumber(m,{unit:"day"});case"eee":return n.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(c,{width:"short",context:"formatting"});case"eeee":default:return n.day(c,{width:"wide",context:"formatting"})}},c:function(a,r,n,i){var c=a.getUTCDay(),m=(c-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(m);case"cc":return de(m,r.length);case"co":return n.ordinalNumber(m,{unit:"day"});case"ccc":return n.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(c,{width:"narrow",context:"standalone"});case"cccccc":return n.day(c,{width:"short",context:"standalone"});case"cccc":default:return n.day(c,{width:"wide",context:"standalone"})}},i:function(a,r,n){var i=a.getUTCDay(),c=i===0?7:i;switch(r){case"i":return String(c);case"ii":return de(c,r.length);case"io":return n.ordinalNumber(c,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(a,r,n){var i=a.getUTCHours(),c=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(a,r,n){var i=a.getUTCHours(),c;switch(i===12?c=St.noon:i===0?c=St.midnight:c=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(a,r,n){var i=a.getUTCHours(),c;switch(i>=17?c=St.evening:i>=12?c=St.afternoon:i>=4?c=St.morning:c=St.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(a,r,n){if(r==="ho"){var i=a.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return tt.h(a,r)},H:function(a,r,n){return r==="Ho"?n.ordinalNumber(a.getUTCHours(),{unit:"hour"}):tt.H(a,r)},K:function(a,r,n){var i=a.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):de(i,r.length)},k:function(a,r,n){var i=a.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):de(i,r.length)},m:function(a,r,n){return r==="mo"?n.ordinalNumber(a.getUTCMinutes(),{unit:"minute"}):tt.m(a,r)},s:function(a,r,n){return r==="so"?n.ordinalNumber(a.getUTCSeconds(),{unit:"second"}):tt.s(a,r)},S:function(a,r){return tt.S(a,r)},X:function(a,r,n,i){var c=i._originalDate||a,m=c.getTimezoneOffset();if(m===0)return"Z";switch(r){case"X":return Rr(m);case"XXXX":case"XX":return lt(m);case"XXXXX":case"XXX":default:return lt(m,":")}},x:function(a,r,n,i){var c=i._originalDate||a,m=c.getTimezoneOffset();switch(r){case"x":return Rr(m);case"xxxx":case"xx":return lt(m);case"xxxxx":case"xxx":default:return lt(m,":")}},O:function(a,r,n,i){var c=i._originalDate||a,m=c.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Ur(m,":");case"OOOO":default:return"GMT"+lt(m,":")}},z:function(a,r,n,i){var c=i._originalDate||a,m=c.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Ur(m,":");case"zzzz":default:return"GMT"+lt(m,":")}},t:function(a,r,n,i){var c=i._originalDate||a,m=Math.floor(c.getTime()/1e3);return de(m,r.length)},T:function(a,r,n,i){var c=i._originalDate||a,m=c.getTime();return de(m,r.length)}};function Ur(a,r){var n=a>0?"-":"+",i=Math.abs(a),c=Math.floor(i/60),m=i%60;if(m===0)return n+String(c);var C=r||"";return n+String(c)+C+de(m,2)}function Rr(a,r){if(a%60===0){var n=a>0?"-":"+";return n+de(Math.abs(a)/60,2)}return lt(a,r)}function lt(a,r){var n=r||"",i=a>0?"-":"+",c=Math.abs(a),m=de(Math.floor(c/60),2),C=de(c%60,2);return i+m+n+C}const pn=hn;var Wr=function(a,r){switch(a){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Yr=function(a,r){switch(a){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},mn=function(a,r){var n=a.match(/(P+)(p+)?/)||[],i=n[1],c=n[2];if(!c)return Wr(a,r);var m;switch(i){case"P":m=r.dateTime({width:"short"});break;case"PP":m=r.dateTime({width:"medium"});break;case"PPP":m=r.dateTime({width:"long"});break;case"PPPP":default:m=r.dateTime({width:"full"});break}return m.replace("{{date}}",Wr(i,r)).replace("{{time}}",Yr(c,r))},gn={p:Yr,P:mn};const yn=gn;var vn=["D","DD"],bn=["YY","YYYY"];function wn(a){return vn.indexOf(a)!==-1}function _n(a){return bn.indexOf(a)!==-1}function qr(a,r,n){if(a==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(r,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(r,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(r,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(r,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Cn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Sn=function(a,r,n){var i,c=Cn[a];return typeof c=="string"?i=c:r===1?i=c.one:i=c.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};const Tn=Sn;function $r(a){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.width?String(r.width):a.defaultWidth,i=a.formats[n]||a.formats[a.defaultWidth];return i}}var kn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},On={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mn={date:$r({formats:kn,defaultWidth:"full"}),time:$r({formats:xn,defaultWidth:"full"}),dateTime:$r({formats:On,defaultWidth:"full"})};const Dn=Mn;var En={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},An=function(a,r,n,i){return En[a]};const Fn=An;function Gt(a){return function(r,n){var i=n!=null&&n.context?String(n.context):"standalone",c;if(i==="formatting"&&a.formattingValues){var m=a.defaultFormattingWidth||a.defaultWidth,C=n!=null&&n.width?String(n.width):m;c=a.formattingValues[C]||a.formattingValues[m]}else{var f=a.defaultWidth,_=n!=null&&n.width?String(n.width):a.defaultWidth;c=a.values[_]||a.values[f]}var x=a.argumentCallback?a.argumentCallback(r):r;return c[x]}}var Nn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$n={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ln={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},In={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Un=function(a,r){var n=Number(a),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Rn={ordinalNumber:Un,era:Gt({values:Nn,defaultWidth:"wide"}),quarter:Gt({values:jn,defaultWidth:"wide",argumentCallback:function(a){return a-1}}),month:Gt({values:$n,defaultWidth:"wide"}),day:Gt({values:Pn,defaultWidth:"wide"}),dayPeriod:Gt({values:Ln,defaultWidth:"wide",formattingValues:In,defaultFormattingWidth:"wide"})};const Wn=Rn;function Vt(a){return function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.width,c=i&&a.matchPatterns[i]||a.matchPatterns[a.defaultMatchWidth],m=r.match(c);if(!m)return null;var C=m[0],f=i&&a.parsePatterns[i]||a.parsePatterns[a.defaultParseWidth],_=Array.isArray(f)?Jn(f,function(T){return T.test(C)}):qn(f,function(T){return T.test(C)}),x;x=a.valueCallback?a.valueCallback(_):_,x=n.valueCallback?n.valueCallback(x):x;var k=r.slice(C.length);return{value:x,rest:k}}}function qn(a,r){for(var n in a)if(a.hasOwnProperty(n)&&r(a[n]))return n}function Jn(a,r){for(var n=0;n<a.length;n++)if(r(a[n]))return n}function zn(a){return function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.match(a.matchPattern);if(!i)return null;var c=i[0],m=r.match(a.parsePattern);if(!m)return null;var C=a.valueCallback?a.valueCallback(m[0]):m[0];C=n.valueCallback?n.valueCallback(C):C;var f=r.slice(c.length);return{value:C,rest:f}}}var Hn=/^(\d+)(th|st|nd|rd)?/i,Yn=/\d+/i,Bn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gn={any:[/^b/i,/^(a|c)/i]},Vn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Qn={any:[/1/i,/2/i,/3/i,/4/i]},Xn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Zn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Kn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ea={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ta={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ra={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},na={ordinalNumber:zn({matchPattern:Hn,parsePattern:Yn,valueCallback:function(a){return parseInt(a,10)}}),era:Vt({matchPatterns:Bn,defaultMatchWidth:"wide",parsePatterns:Gn,defaultParseWidth:"any"}),quarter:Vt({matchPatterns:Vn,defaultMatchWidth:"wide",parsePatterns:Qn,defaultParseWidth:"any",valueCallback:function(a){return a+1}}),month:Vt({matchPatterns:Xn,defaultMatchWidth:"wide",parsePatterns:Zn,defaultParseWidth:"any"}),day:Vt({matchPatterns:Kn,defaultMatchWidth:"wide",parsePatterns:ea,defaultParseWidth:"any"}),dayPeriod:Vt({matchPatterns:ta,defaultMatchWidth:"any",parsePatterns:ra,defaultParseWidth:"any"})};const aa=na;var oa={code:"en-US",formatDistance:Tn,formatLong:Dn,formatRelative:Fn,localize:Wn,match:aa,options:{weekStartsOn:0,firstWeekContainsDate:1}};const ia=oa;var sa=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ua=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ca=/^'([^]*?)'?$/,la=/''/g,da=/[a-zA-Z]/;function fa(a,r,n){var i,c,m,C,f,_,x,k,T,G,b,g,M,O,H,z,N,ee;ke(2,arguments);var U=String(r),j=Cr(),l=(i=(c=n?.locale)!==null&&c!==void 0?c:j.locale)!==null&&i!==void 0?i:ia,h=dt((m=(C=(f=(_=n?.firstWeekContainsDate)!==null&&_!==void 0?_:n==null||(x=n.locale)===null||x===void 0||(k=x.options)===null||k===void 0?void 0:k.firstWeekContainsDate)!==null&&f!==void 0?f:j.firstWeekContainsDate)!==null&&C!==void 0?C:(T=j.locale)===null||T===void 0||(G=T.options)===null||G===void 0?void 0:G.firstWeekContainsDate)!==null&&m!==void 0?m:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=dt((b=(g=(M=(O=n?.weekStartsOn)!==null&&O!==void 0?O:n==null||(H=n.locale)===null||H===void 0||(z=H.options)===null||z===void 0?void 0:z.weekStartsOn)!==null&&M!==void 0?M:j.weekStartsOn)!==null&&g!==void 0?g:(N=j.locale)===null||N===void 0||(ee=N.options)===null||ee===void 0?void 0:ee.weekStartsOn)!==null&&b!==void 0?b:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!l.localize)throw new RangeError("locale must contain localize property");if(!l.formatLong)throw new RangeError("locale must contain formatLong property");var S=We(a);if(!tn(S))throw new RangeError("Invalid time value");var X=Kr(S),ne=rn(S,X),q={firstWeekContainsDate:h,weekStartsOn:v,locale:l,_originalDate:S},F=U.match(ua).map(function(D){var W=D[0];if(W==="p"||W==="P"){var E=yn[W];return E(D,l.formatLong)}return D}).join("").match(sa).map(function(D){if(D==="''")return"'";var W=D[0];if(W==="'")return ha(D);var E=pn[W];if(E)return!(n!=null&&n.useAdditionalWeekYearTokens)&&_n(D)&&qr(D,r,String(a)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&wn(D)&&qr(D,r,String(a)),E(ne,D,l.localize,q);if(W.match(da))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return D}).join("");return F}function ha(a){var r=a.match(ca);return r?r[1].replace(la,"'"):a}var Br={exports:{}};(function(a,r){(function(n,i){a.exports=i()})(Tt,function(){var n=1e3,i=6e4,c=36e5,m="millisecond",C="second",f="minute",_="hour",x="day",k="week",T="month",G="quarter",b="year",g="date",M="Invalid Date",O=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,H=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,z={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},N=function(q,F,D){var W=String(q);return!W||W.length>=F?q:""+Array(F+1-W.length).join(D)+q},ee={s:N,z:function(q){var F=-q.utcOffset(),D=Math.abs(F),W=Math.floor(D/60),E=D%60;return(F<=0?"+":"-")+N(W,2,"0")+":"+N(E,2,"0")},m:function q(F,D){if(F.date()<D.date())return-q(D,F);var W=12*(D.year()-F.year())+(D.month()-F.month()),E=F.clone().add(W,T),Z=D-E<0,d=F.clone().add(W+(Z?-1:1),T);return+(-(W+(D-E)/(Z?E-d:d-E))||0)},a:function(q){return q<0?Math.ceil(q)||0:Math.floor(q)},p:function(q){return{M:T,y:b,w:k,d:x,D:g,h:_,m:f,s:C,ms:m,Q:G}[q]||String(q||"").toLowerCase().replace(/s$/,"")},u:function(q){return q===void 0}},U="en",j={};j[U]=z;var l=function(q){return q instanceof X},h=function q(F,D,W){var E;if(!F)return U;if(typeof F=="string"){var Z=F.toLowerCase();j[Z]&&(E=Z),D&&(j[Z]=D,E=Z);var d=F.split("-");if(!E&&d.length>1)return q(d[0])}else{var p=F.name;j[p]=F,E=p}return!W&&E&&(U=E),E||!W&&U},v=function(q,F){if(l(q))return q.clone();var D=typeof F=="object"?F:{};return D.date=q,D.args=arguments,new X(D)},S=ee;S.l=h,S.i=l,S.w=function(q,F){return v(q,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var X=function(){function q(D){this.$L=h(D.locale,null,!0),this.parse(D)}var F=q.prototype;return F.parse=function(D){this.$d=function(W){var E=W.date,Z=W.utc;if(E===null)return new Date(NaN);if(S.u(E))return new Date;if(E instanceof Date)return new Date(E);if(typeof E=="string"&&!/Z$/i.test(E)){var d=E.match(O);if(d){var p=d[2]-1||0,P=(d[7]||"0").substring(0,3);return Z?new Date(Date.UTC(d[1],p,d[3]||1,d[4]||0,d[5]||0,d[6]||0,P)):new Date(d[1],p,d[3]||1,d[4]||0,d[5]||0,d[6]||0,P)}}return new Date(E)}(D),this.$x=D.x||{},this.init()},F.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},F.$utils=function(){return S},F.isValid=function(){return this.$d.toString()!==M},F.isSame=function(D,W){var E=v(D);return this.startOf(W)<=E&&E<=this.endOf(W)},F.isAfter=function(D,W){return v(D)<this.startOf(W)},F.isBefore=function(D,W){return this.endOf(W)<v(D)},F.$g=function(D,W,E){return S.u(D)?this[W]:this.set(E,D)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(D,W){var E=this,Z=!!S.u(W)||W,d=S.p(D),p=function(he,ve){var be=S.w(E.$u?Date.UTC(E.$y,ve,he):new Date(E.$y,ve,he),E);return Z?be:be.endOf(x)},P=function(he,ve){return S.w(E.toDate()[he].apply(E.toDate("s"),(Z?[0,0,0,0]:[23,59,59,999]).slice(ve)),E)},Q=this.$W,ae=this.$M,ue=this.$D,re="set"+(this.$u?"UTC":"");switch(d){case b:return Z?p(1,0):p(31,11);case T:return Z?p(1,ae):p(0,ae+1);case k:var fe=this.$locale().weekStart||0,me=(Q<fe?Q+7:Q)-fe;return p(Z?ue-me:ue+(6-me),ae);case x:case g:return P(re+"Hours",0);case _:return P(re+"Minutes",1);case f:return P(re+"Seconds",2);case C:return P(re+"Milliseconds",3);default:return this.clone()}},F.endOf=function(D){return this.startOf(D,!1)},F.$set=function(D,W){var E,Z=S.p(D),d="set"+(this.$u?"UTC":""),p=(E={},E[x]=d+"Date",E[g]=d+"Date",E[T]=d+"Month",E[b]=d+"FullYear",E[_]=d+"Hours",E[f]=d+"Minutes",E[C]=d+"Seconds",E[m]=d+"Milliseconds",E)[Z],P=Z===x?this.$D+(W-this.$W):W;if(Z===T||Z===b){var Q=this.clone().set(g,1);Q.$d[p](P),Q.init(),this.$d=Q.set(g,Math.min(this.$D,Q.daysInMonth())).$d}else p&&this.$d[p](P);return this.init(),this},F.set=function(D,W){return this.clone().$set(D,W)},F.get=function(D){return this[S.p(D)]()},F.add=function(D,W){var E,Z=this;D=Number(D);var d=S.p(W),p=function(ae){var ue=v(Z);return S.w(ue.date(ue.date()+Math.round(ae*D)),Z)};if(d===T)return this.set(T,this.$M+D);if(d===b)return this.set(b,this.$y+D);if(d===x)return p(1);if(d===k)return p(7);var P=(E={},E[f]=i,E[_]=c,E[C]=n,E)[d]||1,Q=this.$d.getTime()+D*P;return S.w(Q,this)},F.subtract=function(D,W){return this.add(-1*D,W)},F.format=function(D){var W=this,E=this.$locale();if(!this.isValid())return E.invalidDate||M;var Z=D||"YYYY-MM-DDTHH:mm:ssZ",d=S.z(this),p=this.$H,P=this.$m,Q=this.$M,ae=E.weekdays,ue=E.months,re=function(ve,be,pe,ie){return ve&&(ve[be]||ve(W,Z))||pe[be].slice(0,ie)},fe=function(ve){return S.s(p%12||12,ve,"0")},me=E.meridiem||function(ve,be,pe){var ie=ve<12?"AM":"PM";return pe?ie.toLowerCase():ie},he={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Q+1,MM:S.s(Q+1,2,"0"),MMM:re(E.monthsShort,Q,ue,3),MMMM:re(ue,Q),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:re(E.weekdaysMin,this.$W,ae,2),ddd:re(E.weekdaysShort,this.$W,ae,3),dddd:ae[this.$W],H:String(p),HH:S.s(p,2,"0"),h:fe(1),hh:fe(2),a:me(p,P,!0),A:me(p,P,!1),m:String(P),mm:S.s(P,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:d};return Z.replace(H,function(ve,be){return be||he[ve]||d.replace(":","")})},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(D,W,E){var Z,d=S.p(W),p=v(D),P=(p.utcOffset()-this.utcOffset())*i,Q=this-p,ae=S.m(this,p);return ae=(Z={},Z[b]=ae/12,Z[T]=ae,Z[G]=ae/3,Z[k]=(Q-P)/6048e5,Z[x]=(Q-P)/864e5,Z[_]=Q/c,Z[f]=Q/i,Z[C]=Q/n,Z)[d]||Q,E?ae:S.a(ae)},F.daysInMonth=function(){return this.endOf(T).$D},F.$locale=function(){return j[this.$L]},F.locale=function(D,W){if(!D)return this.$L;var E=this.clone(),Z=h(D,W,!0);return Z&&(E.$L=Z),E},F.clone=function(){return S.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},q}(),ne=X.prototype;return v.prototype=ne,[["$ms",m],["$s",C],["$m",f],["$H",_],["$W",x],["$M",T],["$y",b],["$D",g]].forEach(function(q){ne[q[1]]=function(F){return this.$g(F,q[0],q[1])}}),v.extend=function(q,F){return q.$i||(q(F,X,v),q.$i=!0),v},v.locale=h,v.isDayjs=l,v.unix=function(q){return v(1e3*q)},v.en=j[U],v.Ls=j,v.p={},v})})(Br);const Sr=Br.exports;var Gr={exports:{}};(function(a,r){(function(n,i){a.exports=i()})(Tt,function(){return function(n,i,c){i.prototype.isToday=function(){var m="YYYY-MM-DD",C=c();return this.format(m)===C.format(m)}}})})(Gr);const pa=Gr.exports,ma={January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December",Sunday:"Sun",Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat",Today:"Today"},ga={January:"1\u6708",February:"2\u6708",March:"3\u6708",April:"4\u6708",May:"5\u6708",June:"6\u6708",July:"7\u6708",August:"8\u6708",September:"9\u6708",October:"10\u6708",November:"11\u6708",December:"12\u6708",Sunday:"\u5468\u65E5",Monday:"\u5468\u4E00",Tuesday:"\u5468\u4E8C",Wednesday:"\u5468\u4E09",Thursday:"\u5468\u56DB",Friday:"\u5468\u4E94",Saturday:"\u5468\u516D",Today:"\u4ECA\u5929"},ya={January:"1\u6708",February:"2\u6708",March:"3\u6708",April:"4\u6708",May:"5\u6708",June:"6\u6708",July:"7\u6708",August:"8\u6708",September:"9\u6708",October:"10\u6708",November:"11\u6708",December:"12\u6708",Sunday:"\u5468\u65E5",Monday:"\u5468\u4E00",Tuesday:"\u5468\u4E8C",Wednesday:"\u5468\u4E09",Thursday:"\u5468\u56DB",Friday:"\u5468\u4E94",Saturday:"\u5468\u516D",Today:"\u4ECA\u5929"},va={January:"Januar",February:"Februar",March:"Mars",April:"April",May:"Mai",June:"Juni",July:"Juli",August:"August",September:"September",October:"Oktober",November:"November",December:"Desember",Sunday:"Sol",Monday:"Man",Tuesday:"Tirs",Wednesday:"Ons",Thursday:"Tor",Friday:"Fre",Saturday:"L\xF8r",Today:"I dag"},ba={January:"Janeiro",February:"Fevereiro",March:"Mar\xE7o",April:"Abril",May:"Maio",June:"Junho",July:"Julho",August:"Agosto",September:"Setembro",October:"Outubro",November:"Novembro",December:"Dezembro",Sunday:"Dom",Monday:"Seg",Tuesday:"Ter",Wednesday:"Qua",Thursday:"Qui",Friday:"Sex",Saturday:"S\xE1b",Today:"Hoje"},wa={January:"Janeiro",February:"Fevereiro",March:"Mar\xE7o",April:"Abril",May:"Maio",June:"Junho",July:"Julho",August:"Agosto",September:"Setembro",October:"Outubro",November:"Novembro",December:"Dezembro",Sunday:"Sol",Monday:"Mon",Tuesday:"Tues",Wednesday:"Casamos",Thursday:"Thu",Friday:"Fri",Saturday:"S\xE1b",Today:"Hoje"},_a={January:"Janvier",February:"F\xE9vrier",March:"Mars",April:"Avril",May:"Mai",June:"Juin",July:"Juillet",August:"Ao\xFBt",September:"Septembre",October:"Octobre",November:"Novembre",December:"D\xE9cembre",Sunday:"Dim",Monday:"Lun",Tuesday:"Mar",Wednesday:"Mer",Thursday:"Jeu",Friday:"Ven",Saturday:"Sam",Today:"Aujourd'hui"},Ca={January:"Januar",February:"Februar",March:"M\xE4rz",April:"April",May:"Mai",June:"Juni",July:"Juli",August:"August",September:"September",October:"Oktober",November:"November",December:"Dezember",Sunday:"So",Monday:"Mo",Tuesday:"Di",Wednesday:"Mi",Thursday:"Do",Friday:"Fr",Saturday:"Sa",Today:"Heute"},Sa={January:"Januarie",February:"Februarie",March:"Maart",April:"April",May:"Mei",June:"Junie",July:"Julie",August:"Augustus",September:"September",October:"Oktober",November:"November",December:"Desember",Sunday:"Son",Monday:"Maan",Tuesday:"Dis",Wednesday:"Woen",Thursday:"Do",Friday:"Vry",Saturday:"Sat",Today:"Vandag"},Ta={January:"Enero",February:"Febrero",March:"Marzo",April:"Abril",May:"Mayo",June:"Junio",July:"Julio",August:"Agosto",September:"Septiembre",October:"Octubre",November:"Noviembre",December:"diciembre",Sunday:"Dom",Monday:"Lun",Tuesday:"Mar",Wednesday:"Mi\xE9",Thursday:"Jue",Friday:"Vie",Saturday:"S\xE1b",Today:"Hoy"},ka={January:"\u042F\u043D\u0432\u0430\u0440\u044C",February:"\u0424\u0435\u0432\u0440\u0430\u043B\u044C",March:"\u041C\u0430\u0440\u0442",April:"\u0410\u043F\u0440\u0435\u043B\u044C",May:"\u041C\u0430\u0439",June:"\u0418\u044E\u043D\u044C",July:"\u0418\u044E\u043B\u044C",August:"\u0410\u0432\u0433\u0443\u0441\u0442",September:"\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C",October:"\u041E\u043A\u0442\u044F\u0431\u0440\u044C",November:"\u041D\u043E\u044F\u0431\u0440\u044C",December:"\u0414\u0435\u043A\u0430\u0431\u0440\u044C",Sunday:"\u0412\u0441",Monday:"\u041F\u043D",Tuesday:"\u0412\u0442",Wednesday:"\u0421\u0440",Thursday:"\u0427\u0442",Friday:"\u041F\u0442",Saturday:"\u0421\u0431",Today:"\u0421\u0435\u0433\u043E\u0434\u043D\u044F"},xa={January:"1\u6708",February:"2\u6708",March:"3\u6708",April:"4\u6708",May:"5\u6708",June:"6\u6708",July:"7\u6708",August:"8\u6708",September:"9\u6708",October:"10\u6708",November:"11\u6708",December:"12\u6708",Sunday:"\u65E5\u66DC\u65E5",Monday:"\u6708\u66DC\u65E5",Tuesday:"\u706B\u66DC\u65E5",Wednesday:"\u6C34\u66DC\u65E5",Thursday:"\u6728\u66DC\u65E5",Friday:"\u91D1\u66DC\u65E5",Saturday:"\u571F\u66DC\u65E5",Today:"\u4ECA\u65E5"},Oa={January:"Ocak",February:"\u015Eubat",March:"Mart",April:"Nisan",May:"May\u0131s",June:"Haziran",July:"Temmuz",August:"A\u011Fustos",September:"Eyl\xFCl",October:"Ekim",November:"Kas\u0131m",December:"Aral\u0131k",Sunday:"Pazar",Monday:"Pzt",Tuesday:"Sal\u0131",Wednesday:"\xC7ar",Thursday:"Per",Friday:"Cum",Saturday:"Cts",Today:"Bug\xFCn"},Ma={January:"Gennaio",February:"Febbraio",March:"Marzo",April:"Aprile",May:"Maggio",June:"Giugno",July:"Luglio",August:"Agosto",September:"Settembre",October:"Ottobre",November:"Novembre",December:"Dicembre",Sunday:"Dome",Monday:"Lun",Tuesday:"Mar",Wednesday:"Mer",Thursday:"Gio",Friday:"Ven",Saturday:"Sab",Today:"Oggi"},Da={January:"1\uC6D4",February:"2\uC6D4",March:"3\uC6D4",April:"4\uC6D4",May:"5\uC6D4",June:"6\uC6D4",July:"7\uC6D4",August:"8\uC6D4",September:"9\uC6D4",October:"10\uC6D4",November:"11\uC6D4",December:"12\uC6D4",Sunday:"\uC77C\uC694\uC77C",Monday:"\uC6D4\uC694\uC77C",Tuesday:"\uD654\uC694\uC77C",Wednesday:"\uC218\uC694\uC77C",Thursday:"\uBAA9\uC694\uC77C",Friday:"\uAE08\uC694\uC77C",Saturday:"\uD1A0\uC694\uC77C",Today:"\uC624\uB298"},Jr={ko:Da,it:Ma,tr:Oa,ja:xa,ru:ka,es:Ta,af:Sa,de:Ca,fr:_a,en:ma,"zh-CN":ga,"zh-Hant":ya,"nb-NO":va,"pt-BR":ba,"pt-PT":wa};Sr.extend(pa);const Lr={English:"en",Fran\u00E7ais:"fr",Deutsch:"de",\u7B80\u4F53\u4E2D\u6587:"zh-CN",\u7E41\u9AD4\u4E2D\u6587:"zh-Hant",Afrikaans:"af",Espa\u00F1ol:"es","Norsk (bokm\xE5l)":"nb-NO","Portugu\xEAs (Brasileiro)":"pt-BR","Portugu\xEAs (Europeu)":"pt-PT",\u0420\u0443\u0441\u0441\u043A\u0438\u0439:"ru",\u65E5\u672C\u8A9E:"ja",Italiano:"it",T\u00FCrk\u00E7e:"tr",\uD55C\uAD6D\uC5B4:"ko"};function Ea(a){return a%4==0}function Aa(a,r){const n=new Array(12);return n[0]=31,n[1]=Ea(r)?29:28,n[2]=31,n[3]=30,n[4]=31,n[5]=30,n[6]=31,n[7]=31,n[8]=30,n[9]=31,n[10]=30,n[11]=31,n[a]}async function Fa(a,r){const n=new Array(12);return n[0]=r.January,n[1]=r.February,n[2]=r.March,n[3]=r.April,n[4]=r.May,n[5]=r.June,n[6]=r.July,n[7]=r.August,n[8]=r.September,n[9]=r.October,n[10]=r.November,n[11]=r.December,n[a]}async function Pr(a,r,n,i,c){Vr(),i=i||logseq.settings?.defaultLanguage;const m=await Na(i),C=new Date,f=await Fa(r,m),_=C.getDate(),k=new Date(a,r,1).getDay(),T=Aa(r,a);return await La(k+1,T,_,r,f,a,n,m,i,c)}const Na=async a=>{const r=Object.keys(Jr).includes(Lr[a])?Lr[a]:"en";return Jr[r]};let yr=[];async function ja(a,r){if(yr.length===0){const i=(await Ia(a,r+1)).reduce((c,m)=>{const C=m["journal-day"].toString();return c[C]=m,c},{});yr=Object.keys(i).map(c=>{const m=Sr(i[c]["journal-day"].toString());return m.isValid()?m.date():0}).filter(c=>c>0)}return yr}let vr=[];async function $a(a,r){if(vr.length===0){const i=(await Ua(a,r+1)).reduce((c,m)=>{const C=m["journal-day"].toString();return c[C]=m,c},{});vr=Object.keys(i).map(c=>{const m=Sr(i[c]["journal-day"].toString());return m.isValid()?m.date():0}).filter(c=>c>0)}return vr}let br=[];async function Pa(a,r){if(br.length===0){const i=(await Ra(a,r+1)).reduce((c,m)=>{const C=m["journal-day"].toString();return c[C]=m,c},{});br=Object.keys(i).map(c=>{const m=Sr(i[c]["journal-day"].toString());return m.isValid()?m.date():0}).filter(c=>c>0)}return br}function Vr(){yr=[],vr=[],br=[]}logseq.App.onCurrentGraphChanged(()=>{Vr()});async function La(a,r,n,i,c,m,C,f,_,x){const k=new Date,T=await logseq.App.getUserConfigs(),G=await ja(m,i),b=await $a(m,i),g=await Pa(m,i);let M=i-1,O=m;M<0&&(M=M+12,O--);let H=i+1,z=m;H>11&&(H=H-12,z++);let N="";N+='<table class="logseq-block-calendar">',x.includes("nohead")||(x.includes("nonav")?(N+='<th COLSPAN=7 class="calendar-title">',N+=`<strong class="calendar-month">${c}</strong> <strong class="calendar-year">${m}</strong>`,N+="</th>"):(N+='<th COLSPAN=5 class="calendar-title">',N+=`<span class="calendar-month">${c}</span> <span class="calendar-year">${m}</span>`,N+="</th>",N+='<th COLSPAN=2 class="calendar-nav">',N+=`<a class="" data-year="${O}" data-month="${M+1}" data-slot="${C}" data-language="${_}" data-options="${x.join(" ")}" data-on-click="loadCalendar" title="Jump to previous month."><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left inline-block" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <polyline points="15 6 9 12 15 18" />
    </svg></a> <a class="" data-year="${k.getFullYear()}" data-month="${k.getMonth()+1}" data-slot="${C}" data-language="${_}" data-options="${x.join(" ")}" data-on-click="loadCalendar" title="Jump back to current month.">${f.Today}</a> <a class="" data-year="${z}" data-month="${H+1}" data-slot="${C}" data-language="${_}" data-options="${x.join(" ")}" data-on-click="loadCalendar" title="Jump to next month"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-right inline-block" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <polyline points="9 6 15 12 9 18" />
    </svg></a>`,N+="</th>"));const ee="<td>",U="</td>",j=new Array(7),l=logseq.settings?.firstDayOfWeek||"sunday";l==="sunday"?(j[0]=f.Sunday,j[1]=f.Monday,j[2]=f.Tuesday,j[3]=f.Wednesday,j[4]=f.Thursday,j[5]=f.Friday,j[6]=f.Saturday):(j[0]=f.Monday,j[1]=f.Tuesday,j[2]=f.Wednesday,j[3]=f.Thursday,j[4]=f.Friday,j[5]=f.Saturday,j[6]=f.Sunday),N+='<tr class="calendar-head" align="center" valign="center">';for(let S=0;S<7;++S)N+=ee+j[S]+U;N+="</tr>";let h=1,v=1;for(let S=1;S<=Math.ceil((r+a-1)/7);++S){N+='<tr align="center" valign="top">';for(let X=1;X<=7&&!(h>r);++X)if(v<(l==="sunday"?a:a-1))N+="<td></td>",v++;else{const ne=fa(new Date(`${m}-${i+1}-${h}`),T.preferredDateFormat),q="calendar-day-rec",F=logseq.settings?.enableDot&&G.includes(h),D=logseq.settings?.enableDot&&b.includes(h),W=logseq.settings?.enableDot&&g.includes(h);let E="";(n>h&&m===k.getFullYear()&&i===k.getMonth()||i<k.getMonth())&&(E="calendar-day-past"),n===h&&m===k.getFullYear()&&i===k.getMonth()&&(E="calendar-day-today"),N+=`<td><a class="calendar-day ${q} button ${E}" data-type="day" data-value="${ne}" data-on-click="processJump">${h}${F&&!W&&!D?'<span class="dot-journal-without-task"></span>':F&&D?'<span class="dot-journal-with-task"></span><span class="dot-task-undone"></span>':F&&W?'<span class="dot-journal-with-task"></span><span class="dot-task-done"></span>':""}</td>`,h++}N+="</tr>"}return N+="</table>",N}async function Ia(a,r){const n=a+(r<10?"0":"")+r;let i;try{i=await logseq.DB.datascriptQuery(`
      [:find (pull ?p [*])
       :where
       [?b :block/page ?p]
       [?p :block/journal? true]
       [?p :block/journal-day ?d]
       [(>= ?d ${n}01)] [(<= ?d ${n}31)]]
    `)}catch(c){console.error(c)}return(i||[]).flat()}async function Ua(a,r){const n=a+(r<10?"0":"")+r;let i;try{i=await logseq.DB.datascriptQuery(`
      [:find (pull ?p [*])
        :where
        [?b :block/marker ?marker]
        [(contains? #{"NOW" "LATER" "TODO" "DOING", "WAITING"} ?marker)]
        [?b :block/page ?p]
          [?p :block/journal? true]
          [?p :block/journal-day ?d]
          [(>= ?d ${n}01)] [(<= ?d ${n}31)]]
          ]

    `)}catch(c){console.error(c)}return(i||[]).flat()}async function Ra(a,r){const n=a+(r<10?"0":"")+r;let i;try{i=await logseq.DB.datascriptQuery(`
      [:find (pull ?p [*])
        :where
        [?b :block/marker ?marker]
        [(contains? #{"DONE"} ?marker)]
        [?b :block/page ?p]
          [?p :block/journal? true]
          [?p :block/journal-day ?d]
          [(>= ?d ${n}01)] [(<= ?d ${n}31)]]
          ]

    `)}catch(c){console.error(c)}return(i||[]).flat()}function Qr(a={}){logseq.provideStyle({key:"block-calendar",style:`
    .logseq-block-calendar {
      width: ${logseq.settings?.tableWidth||"100%"};
      user-select: none;
    }
    .logseq-block-calendar tr:nth-child(even) {
      background-color: transparent;
    }
    .logseq-block-calendar tr:nth-child(odd) {
      background-color: transparent;
    }
    .logseq-block-calendar th {
      border-bottom: 0;
      font-size: 20px;
      font-weight: bold;
      padding: 4px;
    }
    .logseq-block-calendar td {
      font-size: 14px;
      padding: 0;
      text-align: center;
    }

    .logseq-block-calendar .calendar-head {
      font-weight: bold;
      color: #999999;
    }

    .logseq-block-calendar {
      margin: 0;
    }

    .logseq-block-calendar a {
      color: var(--ls-primary-text-color);
    }

    .logseq-block-calendar .calendar-day-today {
      font-weight: bold;
      color: var(--ls-link-text-color);
    }

    .logseq-block-calendar .calendar-day-past {
      color: #999999;
    }

    .logseq-block-calendar .calendar-nav {
      text-align: right;
      font-size: 14px;
      font-weight: bold;
    }
    .logseq-block-calendar .calendar-nav a {
      color: #999999;
    }
    .logseq-block-calendar .calendar-day-rec {
      position: relative;
    }
    .logseq-block-calendar .calendar-day-rec .dot-task-undone::after {
      content: "";
      display: block;
      background-color: ${logseq.settings?.taskUndoneDotColor};
      width: 4px;
      height: 4px;
      transform: rotate(45deg);
      position: absolute;
      right: calc(50% - 5px);
    }
    .logseq-block-calendar .calendar-day-rec .dot-task-done::after {
      content: "";
      display: block;
      background-color: ${logseq.settings?.taskDoneDotColor};
      width: 4px;
      height: 4px;
      transform: rotate(45deg);
      position: absolute;
      right: calc(50% - 5px);
    }
    .logseq-block-calendar .calendar-day-rec .dot-journal-with-task::after {
      content: "";
      display: block;
      background-color: ${logseq.settings?.journalDotColor};
      width: 4px;
      height: 4px;
      border-radius: 100%;
      position: absolute;
      left: calc(50% - 5px);
    }
    .logseq-block-calendar .calendar-day-rec .dot-journal-without-task::after {
      content: "";
      display: block;
      background-color: ${logseq.settings?.journalDotColor||"red"};
      width: 4px;
      height: 4px;
      margin: auto;
      border-radius: 100%;
    }
    #right-sidebar-container #calendar-placeholder {
      padding: 6px 16px 6px 12px;
    }
    `})}const Wa=[{key:"enableDot",type:"boolean",title:"Enable dot",description:"Enable red dot, to show whether or not journal exists on that day. Need reload to take effect.",default:!0},{key:"journalDotColor",type:"string",title:"Journal dot color",description:"Journal dot color",default:"#0000ff",inputAs:"color"},{key:"taskUndoneDotColor",type:"string",title:"Undone task dot color",description:"Undone task dot color",default:"#ff18ff",inputAs:"color"},{key:"taskDoneDotColor",type:"string",title:"Done task dot color",description:"Done task dot color",default:"#03b803",inputAs:"color"},{key:"firstDayOfWeek",type:"enum",title:"First day of week",description:"Which day is the first day of your week? Need to trigger rerender manually to take effect.",enumChoices:["monday","sunday"],enumPicker:"radio",default:"sunday"},{key:"defaultLanguage",type:"enum",title:"Language locale",enumChoices:Object.keys(Lr),description:"",default:"en"},{key:"tableWidth",type:"string",title:"Calendar width",description:"Set calendar width, default is 100%.",default:"100%"},{key:"alwaysRenderIn",type:"string",title:"",description:"Always render calendar in custom HTML element (provide CSS selector: ID or class), Leave empty to disable and input .sidebar-item-list to render calendar at right top in sidebar.",default:".sidebar-item-list"}];logseq.useSettingsSchema(Wa);logseq.onSettingsChanged(()=>{Qr()});const qa=async()=>{logseq.Editor.registerSlashCommand("Insert Block Calendar",async()=>{await logseq.Editor.insertAtEditingCursor("{{renderer block-calendar}} ")}),logseq.provideModel({async processJump(r){const{type:n,value:i}=r.dataset;n==="day"&&logseq.App.pushState("page",{name:i})},async loadCalendar(r){const{year:n,month:i,slot:c,language:m,options:C}=r.dataset;if(n&&i){const f=Number(n),_=Number(i)-1,x=await Pr(f,_,c,m,C.split(" "));logseq.provideUI({key:"block-calendar-"+c,slot:c,reset:!0,template:x})}}}),logseq.App.onMacroRendererSlotted(async({slot:r,payload:n})=>{let[i,c,m,C,...f]=n.arguments;if(i==="block-calendar"){const _=new Date,x=c?Number(c):_.getFullYear(),k=m?Number(m)-1:_.getMonth(),T=await Pr(x,k,r,C,f);logseq.provideUI({key:"block-calendar-"+r,slot:r,reset:!0,template:T})}});const a=async r=>{const n=await logseq.App.getUserConfigs(),i="calendar-placeholder";if(r&&n.enabledJournals){const c=top?.document.querySelector(r),m=top?.document.querySelector(`#${i}`);if(m&&(m.style.display="block"),c&&!m){const _=top.document.createElement("div");_.id=i,_.style.display="block",c.insertAdjacentElement("afterbegin",_)}const C=new Date,f=await Pr(C.getFullYear(),C.getMonth(),i,logseq.settings?.defaultLanguage,[]);logseq.provideUI({key:"calendar-widget",path:`#${i}`,reset:!0,template:f})}else{const c=top?.document.querySelector(`#${i}`);c&&(c.style.display="none"),logseq.provideUI({key:"calendar-widget",path:`#${i}`,reset:!0,template:""})}};setTimeout(async()=>{await a(logseq.settings?.alwaysRenderIn)},1e3),logseq.App.onCurrentGraphChanged(()=>{setTimeout(async()=>{await a(logseq.settings?.alwaysRenderIn)},1e3)}),logseq.App.onSidebarVisibleChanged(async r=>{r&&await a(logseq.settings?.alwaysRenderIn)}),logseq.onSettingsChanged(async(r,n)=>{console.log({newSettings:r,oldSettings:n}),r.alwaysRenderIn!==n.alwaysRenderIn&&await a(r.alwaysRenderIn)}),Qr()};logseq.ready().then(qa).catch(console.error);
